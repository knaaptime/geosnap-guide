<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>The Geospatial Neighborhood Analysis Package - 8&nbsp; Travel Isochrones</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./segregation_dynamics.html" rel="prev">
<link href="./images/geosnap.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-0PG1JNLCXB"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-0PG1JNLCXB', { 'anonymize_ip': true});
</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<meta property="og:title" content="A Guide to Geosnap">
<meta property="og:description" content="">
<meta property="og:image" content="https://oturns.github.io.geosnap-guide/images/geosnap_long.png">
<meta property="og:site-name" content="The Geospatial Neighborhood Analysis Package">
<meta property="og:image:height" content="640">
<meta property="og:image:width" content="1280">
<meta name="twitter:title" content="The Geospatial Neighborhood Analysis Package - 8&nbsp; Travel Isochrones">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://upload.wikimedia.org/wikipedia/en/e/e3/New_York_Regional_Survey%2C_Vol_7.jpg?20170410025533">
<meta name="twitter:creator" content="@knaaptime">
<meta name="twitter:site" content="@knaaptime">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./isochrone_example.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Travel Isochrones</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./images/geosnap_long.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">The Geospatial Neighborhood Analysis Package</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/oturns/geosnap/" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <a href="https://twitter.com/intent/tweet?url=|url|" rel="" title="Twitter" class="quarto-navigation-tool px-1" aria-label="Twitter"><i class="bi bi-twitter"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Installation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./datasets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data Sets</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./harmonization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Boundary Harmonization</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./clustering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Geodemographic Clustering</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./regionalization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Geodemographic Regionalization</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Neighborhood Dynamics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./segregation_dynamics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Spatiotemporal Segregation Dynamics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./isochrone_example.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Travel Isochrones</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#visualizing-the-20-minute-neighborhood" id="toc-visualizing-the-20-minute-neighborhood" class="nav-link active" data-scroll-target="#visualizing-the-20-minute-neighborhood"><span class="header-section-number">8.1</span> Visualizing the 20-Minute Neighborhood</a></li>
  <li><a href="#isochrones-for-specified-locations" id="toc-isochrones-for-specified-locations" class="nav-link" data-scroll-target="#isochrones-for-specified-locations"><span class="header-section-number">8.2</span> Isochrones for Specified Locations</a></li>
  <li><a href="#extensions" id="toc-extensions" class="nav-link" data-scroll-target="#extensions"><span class="header-section-number">8.3</span> Extensions</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.dev/oturns/geosnap/blob/main/isochrone_example.ipynb" class="toc-action">Edit this page</a></p><p><a href="https://github.com/oturns/geosnap/blob/main/isochrone_example.ipynb" class="toc-action">View source</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Travel Isochrones</span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:14.317635Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:14.317449Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:17.054926Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:17.054640Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:14.317625Z&quot;}" data-tags="[]" data-execution_count="1">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>load_ext watermark</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>watermark <span class="op">-</span>a <span class="st">'eli knaap'</span> <span class="op">-</span>v <span class="op">-</span>d <span class="op">-</span>u <span class="op">-</span>p geopandas,geosnap</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>load_ext autoreload</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>autoreload <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Author: eli knaap

Last updated: 2024-01-21

Python implementation: CPython
Python version       : 3.11.0
IPython version      : 8.18.1

geopandas: 0.14.2
geosnap  : 0.12.1.dev9+g3a1cb0f6de61.d20240110
</code></pre>
</div>
</div>
<section id="visualizing-the-20-minute-neighborhood" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="visualizing-the-20-minute-neighborhood"><span class="header-section-number">8.1</span> Visualizing the 20-Minute Neighborhood</h2>
<p>As a package focused on “neighborhoods”, much of the functionality in geosnap is organized around the concept of ‘endogenous’ neighborhoods. That is, it takes a classical perspective on neighborhood formation: a ‘neighborhood’ is defined loosely by its social composition, and the dynamics of residential mobility mean that these neighborhoods can grow, shrink, or transition entirely.</p>
<p>But two alternative concepts of “neighborhood” are also worth considering. The first, posited by social scientists, is that each person or household can be conceptialized as residing in <em>its own</em> neighborhood which extends outward from the person’s household until some threshold distance. This neighborhood represents the boundary inside which we might expect some social interaction to occur with one’s ‘neighbors’. The second is a normative concept advocated by architects, urban designers, and planners (arguably still the goal for <a href="http://www.newurbanism.org">new urbanists</a>): that a neighborhood is <a href="https://en.wikipedia.org/wiki/Neighbourhood_unit">a discrete pocket of infrastructure</a> organized as a small, self-contained economic unit. A common shorthand today is <a href="https://linkinghub.elsevier.com/retrieve/pii/S1361920921004077">the 20 minute neighborhood</a>.</p>
<p><img src="https://upload.wikimedia.org/wikipedia/en/e/e3/New_York_Regional_Survey%2C_Vol_7.jpg?20170410025533" class="img-fluid"></p>
<p><a href="https://upload.wikimedia.org/wikipedia/en/e/e3/New_York_Regional_Survey%2C_Vol_7.jpg?20170410025533" class="uri">https://upload.wikimedia.org/wikipedia/en/e/e3/New_York_Regional_Survey%2C_Vol_7.jpg?20170410025533</a></p>
<p>The difference between these two perspectives is really what defines the origin of the neighborhood (the ‘town center’ or the person’s home), and whether ‘neighborhood’ is universal to all neighbors or unique for each resident. Both of them rely abstractly on the concept of an isochrone: the set of destinations accessible within a specified travel budget. Defining an isochrone is a network routing problem, but its spatial representation is usually given as a polygon that covers the set of locations. That polygon is also sometimes called a walkshed (or *travel shed, depending on the particular mode). For the person at the center of the isochrone, whose “neighborhood” the isochrone represents, the polygon is sometimes conceptualized as an “egohood” or “bespoke neighborhood”.</p>
<p>The trouble with generating isochrones is twofold. First, they are computationally intensive to create. You need to know the shortest path from an origin to all other possible destinations inside the travel threshold, and depending on the density of the network, this can scale masssively. Second, they are not straightforward to present cartographically/visually. The set of destinations reachable within the threshold is technically a set of <em>points</em>. If you’re constrained to a network, then we can usually assume that you also have access to potential locations between discrete destinations. For example if you’re walking along the sidewalk, you can stop at any house along the block until you reach your threshold distance. But sometimes that’s not the case. If you walk to a subway station, you can stop anywhere along the walk–until you get into the subway, then you are stuck traveling in one direction until you reach another station, then you get freedom of mobility again.</p>
<p>The latter case is particularly difficult to represent because it doesnt create a “valid” polygon… there’s a single polygon in the pre-transit zone, then the “accessible zone” collapses to a line (or nothing at all?) before opening back up into a polygon again. Like a barbell. If you take the simple route and just draw a <a href="https://en.wikipedia.org/wiki/Convex_hull">convex hull</a> around the accessible destinations, it will fail to collapse along the line, giving the false impression of much more ‘access’ than is realistic.</p>
<p>But then again, sometimes these off-network spaces are actually traversable. If two network nodes inside the travel threshold are separated by a park, then you can just walk through the park and that should be included in the visualization. If they are separated by a harbor or a mountain, you definitely can’t walk through (ok, maybe you could <em>get</em> through, but not without sacrificing a bit of speed at the very least).</p>
<p>To handle these issues, the isochrones implemented in geosnap take a straightforward approach, achieving a good balance between accuracy and speed. Specifically, we tackle the problem in two stages: first, we use pandana to generate the set nodes accessible from [a set of] destination[s]. Then we wrap an <a href="https://en.wikipedia.org/wiki/Alpha_shape">alpha shape</a> around those destinations to create a tightly-fitted polygon. The alpha shape algorithm implemented in libpysal is also blazing fast, so the approach has worked quite well in all of our applications</p>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:17.055972Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:17.055869Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:17.080834Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:17.080413Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:17.055963Z&quot;}" data-tags="[]" data-execution_count="2">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> geosnap.analyze <span class="im">import</span> isochrones_from_id, isochrones_from_gdf, pdna_to_adj </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> geosnap.io <span class="im">import</span> get_acs</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> geosnap <span class="im">import</span> DataStore</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:17.081473Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:17.081340Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:17.110793Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:17.110420Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:17.081463Z&quot;}" data-tags="[]" data-execution_count="3">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandana <span class="im">as</span> pdna</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:17.111313Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:17.111223Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:17.137506Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:17.137125Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:17.111304Z&quot;}" data-tags="[]" data-execution_count="4">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>datasets <span class="op">=</span> DataStore()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>To generate a routable network, use <a href="">pandana</a> or <a href="">urbanaccess</a>. Alternatively, you can download one of the metropolitan-scale pedestrian networks for the U.S. from geosnap’s <a href="https://open.quiltdata.com/b/spatial-ucr/tree/osm/metro_networks_8k/">quilt bucket</a>. The files are named for each CBSA fips code and extend 8km beyond the metro region’s borders to help mitigate edge effects. Here, we’ll use the quilt version from the San Diego region.</p>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:17.137904Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:17.137831Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:20.613909Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:20.613528Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:17.137894Z&quot;}" data-tags="[]" data-execution_count="5">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>sd_tracts <span class="op">=</span> get_acs(datasets, county_fips<span class="op">=</span><span class="st">'06073'</span>, years<span class="op">=</span>[<span class="dv">2018</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/knaaptime/Dropbox/projects/geosnap/geosnap/io/constructors.py:215: UserWarning: Currency columns unavailable at this resolution; not adjusting for inflation
  warn(</code></pre>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:20.614737Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:20.614611Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:25.569640Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:25.569316Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:20.614726Z&quot;}" data-tags="[]" data-execution_count="6">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> os.path.exists(<span class="st">'41740.h5'</span>):</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> quilt3 <span class="im">as</span> q3</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    b <span class="op">=</span> q3.Bucket(<span class="st">"s3://spatial-ucr"</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    b.fetch(<span class="st">"osm/metro_networks_8k/41740.h5"</span>, <span class="st">"./41740.h5"</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>sd_network <span class="op">=</span> pdna.Network.from_hdf5(<span class="st">"41740.h5"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Generating contraction hierarchies with 10 threads.
Setting CH node vector of size 332554
Setting CH edge vector of size 522484
Range graph removed 143094 edges of 1044968
. 10% . 20% . 30% . 40% . 50% . 60% . 70% . 80% . 90% . 100%</code></pre>
</div>
</div>
<p>To generate a travel isochrone, we have to specify an origin node on the network. For demonstration purposes, we can randomly select an origin from the network’s <code>nodes_df</code> dataframe (or choose a pre-selected example). To get the nodes for a specific set of origins, you can use pandana’s <a href="http://udst.github.io/pandana/network.html#pandana.network.Network.get_node_ids"><code>get_node_ids</code></a> function</p>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:25.571392Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:25.571312Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:25.598848Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:25.598500Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:25.571382Z&quot;}" data-tags="[]" data-execution_count="7">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> random <span class="im">import</span> sample</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:25.599307Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:25.599222Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:25.633242Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:25.632941Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:25.599298Z&quot;}" data-tags="[]" data-execution_count="8">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>random_origin <span class="op">=</span> sample(sd_network.nodes_df.index.unique().tolist(),<span class="dv">1</span>)[<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:25.633824Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:25.633729Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:25.663591Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:25.663125Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:25.633813Z&quot;}" data-tags="[]" data-execution_count="9">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>random_origin</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>49216034</code></pre>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:25.664240Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:25.664145Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:25.690619Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:25.690270Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:25.664231Z&quot;}" data-tags="[]" data-execution_count="10">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>example_origin <span class="op">=</span> <span class="dv">1985327805</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><a href="https://www.nike.com/a/how-long-does-it-take-to-walk-a-mile"><del>Nike</del></a>, er… <a href="https://jamanetwork.com/journals/jamanetworkopen/fullarticle/2752818">this study</a> says that the average person walks about a mile in 20 minutes, so we can define the 20-minute neighborhood for a given household as the 1-mile walkshed from that house. To simplify the computation a little, we say that each house “exists” at it’s nearest intersection</p>
<p>(this is the abstraction <code>pandana</code> typically uses to simplify the problem when using data from OpenStreetMap. There’s nothing prohibiting you from creating an even more realistic version with nodes for each residence, as long as you’re comfortable creating the <a href="https://udst.github.io/pandana/network.html"><code>Network</code></a>)</p>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:25.691408Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:25.691319Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:27.048551Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:27.048058Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:25.691398Z&quot;}" data-tags="[]" data-execution_count="11">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>adj <span class="op">=</span> pdna_to_adj(sd_tracts.set_index(<span class="st">'geoid'</span>), sd_network, threshold<span class="op">=</span><span class="dv">1600</span>, )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/knaaptime/Dropbox/projects/geosnap/geosnap/analyze/network.py:34: UserWarning: Geometry is in a geographic CRS. Results from 'centroid' are likely incorrect. Use 'GeoSeries.to_crs()' to re-project geometries to a projected CRS before this operation.

  node_ids = network.get_node_ids(origins.centroid.x, origins.centroid.y).astype(int)</code></pre>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:27.049147Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:27.049071Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:27.080041Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:27.079714Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:27.049138Z&quot;}" data-tags="[]" data-execution_count="12">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>adj</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="12">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">origin</th>
<th data-quarto-table-cell-role="th">destination</th>
<th data-quarto-table-cell-role="th">cost</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>060730001001</td>
<td>060730001001</td>
<td>0.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">136</td>
<td>060730001001</td>
<td>060730001002</td>
<td>987.565979</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">197</td>
<td>060730001001</td>
<td>060730002011</td>
<td>1221.943970</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">240</td>
<td>060730001001</td>
<td>060730002022</td>
<td>1465.890991</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">280</td>
<td>060730001002</td>
<td>060730001002</td>
<td>0.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1036301</td>
<td>060730166072</td>
<td>060730166071</td>
<td>1596.958008</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1036304</td>
<td>060730166073</td>
<td>060730166073</td>
<td>0.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1036489</td>
<td>060730166073</td>
<td>060730166071</td>
<td>932.747009</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1036512</td>
<td>060730166073</td>
<td>060730166072</td>
<td>982.960022</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1036608</td>
<td>060730166073</td>
<td>060730166101</td>
<td>1229.456055</td>
</tr>
</tbody>
</table>

<p>11391 rows × 3 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:27.080496Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:27.080405Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:28.113328Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:28.112924Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:27.080486Z&quot;}" data-tags="[]" data-execution_count="13">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="op">%%</span>time</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>iso <span class="op">=</span> isochrones_from_id(example_origin, sd_network, threshold<span class="op">=</span><span class="dv">1600</span> ) <span class="co"># network is expressed in meters</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/knaaptime/Dropbox/projects/geosnap/geosnap/analyze/network.py:34: UserWarning: Geometry is in a geographic CRS. Results from 'centroid' are likely incorrect. Use 'GeoSeries.to_crs()' to re-project geometries to a projected CRS before this operation.

  node_ids = network.get_node_ids(origins.centroid.x, origins.centroid.y).astype(int)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>CPU times: user 949 ms, sys: 47.9 ms, total: 997 ms
Wall time: 1.01 s</code></pre>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:28.113910Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:28.113781Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:28.237824Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:28.237562Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:28.113897Z&quot;}" data-tags="[]" data-execution_count="14">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>iso.explore()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="14">

<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -&gt; Trust Notebook</span><iframe srcdoc="<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;></script>
    <script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;></script>
    <script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;></script>
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;></script>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/>
    
            <meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; />
            <style>
                #map_10c211341309068584e89c3bda81dd7c {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
</head>
<body>
    
    
            <div class=&quot;folium-map&quot; id=&quot;map_10c211341309068584e89c3bda81dd7c&quot; ></div>
        
</body>
<script>
    
    
            var map_10c211341309068584e89c3bda81dd7c = L.map(
                &quot;map_10c211341309068584e89c3bda81dd7c&quot;,
                {
                    center: [33.441641000000004, -117.60211535],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );
            L.control.scale().addTo(map_10c211341309068584e89c3bda81dd7c);

            

        
    
            var tile_layer_06ea14eee26d2ac7fbd0d88bb7fc78aa = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_06ea14eee26d2ac7fbd0d88bb7fc78aa.addTo(map_10c211341309068584e89c3bda81dd7c);
        
    
            map_10c211341309068584e89c3bda81dd7c.fitBounds(
                [[33.4352644, -117.6149627], [33.4480176, -117.589268]],
                {}
            );
        
    
        function geo_json_fc6cac58761ec9aeacc1292d79806c8f_styler(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.5, &quot;weight&quot;: 2};
            }
        }
        function geo_json_fc6cac58761ec9aeacc1292d79806c8f_highlighter(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.75};
            }
        }
        function geo_json_fc6cac58761ec9aeacc1292d79806c8f_pointToLayer(feature, latlng) {
            var opts = {&quot;bubblingMouseEvents&quot;: true, &quot;color&quot;: &quot;#3388ff&quot;, &quot;dashArray&quot;: null, &quot;dashOffset&quot;: null, &quot;fill&quot;: true, &quot;fillColor&quot;: &quot;#3388ff&quot;, &quot;fillOpacity&quot;: 0.2, &quot;fillRule&quot;: &quot;evenodd&quot;, &quot;lineCap&quot;: &quot;round&quot;, &quot;lineJoin&quot;: &quot;round&quot;, &quot;opacity&quot;: 1.0, &quot;radius&quot;: 2, &quot;stroke&quot;: true, &quot;weight&quot;: 3};
            
            let style = geo_json_fc6cac58761ec9aeacc1292d79806c8f_styler(feature)
            Object.assign(opts, style)
            
            return new L.CircleMarker(latlng, opts)
        }

        function geo_json_fc6cac58761ec9aeacc1292d79806c8f_onEachFeature(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        geo_json_fc6cac58761ec9aeacc1292d79806c8f.resetStyle(e.target);
                    }
                },
                mouseover: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        const highlightStyle = geo_json_fc6cac58761ec9aeacc1292d79806c8f_highlighter(e.target.feature)
                        e.target.setStyle(highlightStyle);
                    }
                },
            });
        };
        var geo_json_fc6cac58761ec9aeacc1292d79806c8f = L.geoJson(null, {
                onEachFeature: geo_json_fc6cac58761ec9aeacc1292d79806c8f_onEachFeature,
            
                style: geo_json_fc6cac58761ec9aeacc1292d79806c8f_styler,
                pointToLayer: geo_json_fc6cac58761ec9aeacc1292d79806c8f_pointToLayer,
        });

        function geo_json_fc6cac58761ec9aeacc1292d79806c8f_add (data) {
            geo_json_fc6cac58761ec9aeacc1292d79806c8f
                .addData(data);
        }
            geo_json_fc6cac58761ec9aeacc1292d79806c8f_add({&quot;bbox&quot;: [-117.6149627, 33.4352644, -117.589268, 33.4480176], &quot;features&quot;: [{&quot;bbox&quot;: [-117.6149627, 33.4352644, -117.589268, 33.4480176], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.5922923, 33.4440509], [-117.5902135, 33.443599], [-117.589268, 33.4412214], [-117.5911919, 33.4369492], [-117.5911683, 33.4356881], [-117.5920085, 33.4353402], [-117.5928484, 33.4352644], [-117.5947469, 33.4363226], [-117.5974836, 33.4376435], [-117.5978631, 33.4377787], [-117.5991264, 33.438542], [-117.5994683, 33.4388998], [-117.6019739, 33.4401361], [-117.602542, 33.440207], [-117.6063877, 33.4417727], [-117.6088133, 33.4426619], [-117.6143231, 33.4425595], [-117.6148579, 33.4429227], [-117.6149627, 33.4433759], [-117.6147933, 33.4435268], [-117.6143171, 33.4439418], [-117.6136147, 33.4445241], [-117.6130065, 33.4450274], [-117.6067391, 33.443218], [-117.6060505, 33.4435429], [-117.6047276, 33.4444191], [-117.6023689, 33.4480176], [-117.6007767, 33.4473405], [-117.600112, 33.4467148], [-117.5976987, 33.445126], [-117.5976053, 33.4450649], [-117.5934028, 33.4445491], [-117.5922923, 33.4440509]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600}, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});

        
    
    geo_json_fc6cac58761ec9aeacc1292d79806c8f.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = [&quot;distance&quot;];
    let aliases = [&quot;distance&quot;];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{&quot;className&quot;: &quot;foliumtooltip&quot;, &quot;sticky&quot;: true});
                     
    
            geo_json_fc6cac58761ec9aeacc1292d79806c8f.addTo(map_10c211341309068584e89c3bda81dd7c);
        
</script>
</html>" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe></div></div>
</div>
</div>
<p>We can also look at how the isochrone or bespoke neighborhood changes size and shape as we consider alternative travel thresholds. Because of the underlying network configuration, changing the threshold often results in some areas of the “neighborhood” changing more than others</p>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:28.238463Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:28.238292Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:28.859829Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:28.859506Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:28.238453Z&quot;}" data-tags="[]" data-execution_count="15">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="op">%%</span>time</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>iso_multiple <span class="op">=</span> isochrones_from_id(example_origin, sd_network, threshold<span class="op">=</span>[<span class="dv">1600</span>, <span class="dv">2400</span>, <span class="dv">3200</span>]  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/knaaptime/Dropbox/projects/geosnap/geosnap/analyze/network.py:34: UserWarning: Geometry is in a geographic CRS. Results from 'centroid' are likely incorrect. Use 'GeoSeries.to_crs()' to re-project geometries to a projected CRS before this operation.

  node_ids = network.get_node_ids(origins.centroid.x, origins.centroid.y).astype(int)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>CPU times: user 573 ms, sys: 16.4 ms, total: 590 ms
Wall time: 592 ms</code></pre>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:28.860465Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:28.860359Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:28.905975Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:28.905308Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:28.860456Z&quot;}" data-tags="[]" data-execution_count="16">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>iso_multiple.explore(<span class="st">'distance'</span>, cmap<span class="op">=</span><span class="st">'Blues_r'</span>, style_kwds<span class="op">=</span>{<span class="st">'fillOpacity'</span>:<span class="fl">0.5</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="16">

<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -&gt; Trust Notebook</span><iframe srcdoc="<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;></script>
    <script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;></script>
    <script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;></script>
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;></script>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/>
    
            <meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; />
            <style>
                #map_3eb04d140f572eecaa14df0b091d4708 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js&quot;></script>
</head>
<body>
    
    
            <div class=&quot;folium-map&quot; id=&quot;map_3eb04d140f572eecaa14df0b091d4708&quot; ></div>
        
</body>
<script>
    
    
            var map_3eb04d140f572eecaa14df0b091d4708 = L.map(
                &quot;map_3eb04d140f572eecaa14df0b091d4708&quot;,
                {
                    center: [33.44471355, -117.6080777],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );
            L.control.scale().addTo(map_3eb04d140f572eecaa14df0b091d4708);

            

        
    
            var tile_layer_712379d2d4cc233717e98d76d0711a9c = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_712379d2d4cc233717e98d76d0711a9c.addTo(map_3eb04d140f572eecaa14df0b091d4708);
        
    
            map_3eb04d140f572eecaa14df0b091d4708.fitBounds(
                [[33.4316456, -117.6296676], [33.4577815, -117.5864878]],
                {}
            );
        
    
        function geo_json_55e9fc9dd3507d4608f697de937db0c0_styler(feature) {
            switch(feature.id) {
                case &quot;0&quot;: 
                    return {&quot;color&quot;: &quot;#f7fbff&quot;, &quot;fillColor&quot;: &quot;#f7fbff&quot;, &quot;fillOpacity&quot;: 0.5, &quot;weight&quot;: 2};
                case &quot;1&quot;: 
                    return {&quot;color&quot;: &quot;#6aaed6&quot;, &quot;fillColor&quot;: &quot;#6aaed6&quot;, &quot;fillOpacity&quot;: 0.5, &quot;weight&quot;: 2};
                default:
                    return {&quot;color&quot;: &quot;#08306b&quot;, &quot;fillColor&quot;: &quot;#08306b&quot;, &quot;fillOpacity&quot;: 0.5, &quot;weight&quot;: 2};
            }
        }
        function geo_json_55e9fc9dd3507d4608f697de937db0c0_highlighter(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.75};
            }
        }
        function geo_json_55e9fc9dd3507d4608f697de937db0c0_pointToLayer(feature, latlng) {
            var opts = {&quot;bubblingMouseEvents&quot;: true, &quot;color&quot;: &quot;#3388ff&quot;, &quot;dashArray&quot;: null, &quot;dashOffset&quot;: null, &quot;fill&quot;: true, &quot;fillColor&quot;: &quot;#3388ff&quot;, &quot;fillOpacity&quot;: 0.2, &quot;fillRule&quot;: &quot;evenodd&quot;, &quot;lineCap&quot;: &quot;round&quot;, &quot;lineJoin&quot;: &quot;round&quot;, &quot;opacity&quot;: 1.0, &quot;radius&quot;: 2, &quot;stroke&quot;: true, &quot;weight&quot;: 3};
            
            let style = geo_json_55e9fc9dd3507d4608f697de937db0c0_styler(feature)
            Object.assign(opts, style)
            
            return new L.CircleMarker(latlng, opts)
        }

        function geo_json_55e9fc9dd3507d4608f697de937db0c0_onEachFeature(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        geo_json_55e9fc9dd3507d4608f697de937db0c0.resetStyle(e.target);
                    }
                },
                mouseover: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        const highlightStyle = geo_json_55e9fc9dd3507d4608f697de937db0c0_highlighter(e.target.feature)
                        e.target.setStyle(highlightStyle);
                    }
                },
            });
        };
        var geo_json_55e9fc9dd3507d4608f697de937db0c0 = L.geoJson(null, {
                onEachFeature: geo_json_55e9fc9dd3507d4608f697de937db0c0_onEachFeature,
            
                style: geo_json_55e9fc9dd3507d4608f697de937db0c0_styler,
                pointToLayer: geo_json_55e9fc9dd3507d4608f697de937db0c0_pointToLayer,
        });

        function geo_json_55e9fc9dd3507d4608f697de937db0c0_add (data) {
            geo_json_55e9fc9dd3507d4608f697de937db0c0
                .addData(data);
        }
            geo_json_55e9fc9dd3507d4608f697de937db0c0_add({&quot;bbox&quot;: [-117.6296676, 33.4316456, -117.5864878, 33.4577815], &quot;features&quot;: [{&quot;bbox&quot;: [-117.6296676, 33.4316456, -117.5864878, 33.4577815], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.6205959, 33.4487158], [-117.6169474, 33.4548918], [-117.6170647, 33.4553937], [-117.610578, 33.4577815], [-117.6051136, 33.4563097], [-117.6026985, 33.4566246], [-117.6007086, 33.4562777], [-117.6005742, 33.4561531], [-117.5970613, 33.4548119], [-117.5933689, 33.4548953], [-117.5932592, 33.4536074], [-117.5917638, 33.450897], [-117.5893511, 33.4488665], [-117.5875558, 33.4483779], [-117.5866261, 33.4480416], [-117.5864878, 33.4450285], [-117.587352, 33.442573], [-117.589211, 33.4357379], [-117.5920085, 33.4353402], [-117.5928484, 33.4352644], [-117.5947469, 33.4363226], [-117.5974836, 33.4376435], [-117.5978631, 33.4377787], [-117.6045653, 33.4347411], [-117.6063035, 33.4334535], [-117.6118103, 33.4316456], [-117.6135399, 33.4321773], [-117.6153462, 33.4326979], [-117.6236808, 33.432922], [-117.624246, 33.4331313], [-117.6243415, 33.4331667], [-117.6248074, 33.4333725], [-117.6283422, 33.4349441], [-117.6296294, 33.4352739], [-117.6286599, 33.4375677], [-117.6289376, 33.4453136], [-117.6296241, 33.4463649], [-117.6296676, 33.4472622], [-117.6279876, 33.4474355], [-117.6253664, 33.4483436], [-117.6219617, 33.4482325], [-117.6205959, 33.4487158]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#f7fbff&quot;, &quot;distance&quot;: 3200}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.6233869, 33.4352644, -117.587352, 33.4525801], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.6217629, 33.4390662], [-117.6219705, 33.4391651], [-117.623246, 33.4420319], [-117.6233869, 33.4424896], [-117.6227349, 33.4426848], [-117.6226689, 33.4426627], [-117.6216345, 33.4418807], [-117.6168839, 33.4425642], [-117.6149627, 33.4433759], [-117.6147933, 33.4435268], [-117.6143171, 33.4439418], [-117.6136147, 33.4445241], [-117.6130065, 33.4450274], [-117.6094625, 33.4492287], [-117.6098624, 33.4522038], [-117.6097734, 33.4522571], [-117.6084776, 33.4513246], [-117.6032073, 33.4513898], [-117.602932, 33.451654], [-117.6013687, 33.4525801], [-117.5993361, 33.4524836], [-117.5964797, 33.4483588], [-117.5927503, 33.4504672], [-117.5917583, 33.4507698], [-117.5916688, 33.4492373], [-117.5910642, 33.4449815], [-117.5874904, 33.4439894], [-117.587352, 33.442573], [-117.589268, 33.4412214], [-117.5899642, 33.4406589], [-117.5911919, 33.4369492], [-117.5911683, 33.4356881], [-117.5920085, 33.4353402], [-117.5928484, 33.4352644], [-117.5947469, 33.4363226], [-117.5974836, 33.4376435], [-117.5978631, 33.4377787], [-117.5991264, 33.438542], [-117.5994683, 33.4388998], [-117.6006623, 33.4397387], [-117.6011842, 33.4399465], [-117.6019739, 33.4401361], [-117.602542, 33.440207], [-117.6063877, 33.4417727], [-117.6100232, 33.4378104], [-117.6104282, 33.4379023], [-117.6134554, 33.4369881], [-117.6159928, 33.4373648], [-117.6202437, 33.4392753], [-117.6217629, 33.4390662]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;1&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#6aaed6&quot;, &quot;distance&quot;: 2400}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.6149627, 33.4352644, -117.589268, 33.4480176], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.5922923, 33.4440509], [-117.5902135, 33.443599], [-117.589268, 33.4412214], [-117.5911919, 33.4369492], [-117.5911683, 33.4356881], [-117.5920085, 33.4353402], [-117.5928484, 33.4352644], [-117.5947469, 33.4363226], [-117.5974836, 33.4376435], [-117.5978631, 33.4377787], [-117.5991264, 33.438542], [-117.5994683, 33.4388998], [-117.6019739, 33.4401361], [-117.602542, 33.440207], [-117.6063877, 33.4417727], [-117.6088133, 33.4426619], [-117.6143231, 33.4425595], [-117.6148579, 33.4429227], [-117.6149627, 33.4433759], [-117.6147933, 33.4435268], [-117.6143171, 33.4439418], [-117.6136147, 33.4445241], [-117.6130065, 33.4450274], [-117.6067391, 33.443218], [-117.6060505, 33.4435429], [-117.6047276, 33.4444191], [-117.6023689, 33.4480176], [-117.6007767, 33.4473405], [-117.600112, 33.4467148], [-117.5976987, 33.445126], [-117.5976053, 33.4450649], [-117.5934028, 33.4445491], [-117.5922923, 33.4440509]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;2&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#08306b&quot;, &quot;distance&quot;: 1600}, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});

        
    
    geo_json_55e9fc9dd3507d4608f697de937db0c0.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = [&quot;distance&quot;];
    let aliases = [&quot;distance&quot;];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{&quot;className&quot;: &quot;foliumtooltip&quot;, &quot;sticky&quot;: true});
                     
    
            geo_json_55e9fc9dd3507d4608f697de937db0c0.addTo(map_3eb04d140f572eecaa14df0b091d4708);
        
    
    var color_map_fd388bcef3c2dae92755672e31374109 = {};

    
    color_map_fd388bcef3c2dae92755672e31374109.color = d3.scale.threshold()
              .domain([1600.0, 1603.2064128256513, 1606.4128256513027, 1609.6192384769538, 1612.8256513026051, 1616.0320641282565, 1619.2384769539078, 1622.4448897795592, 1625.6513026052105, 1628.8577154308616, 1632.064128256513, 1635.2705410821643, 1638.4769539078156, 1641.683366733467, 1644.8897795591183, 1648.0961923847694, 1651.3026052104208, 1654.5090180360721, 1657.7154308617235, 1660.9218436873748, 1664.1282565130261, 1667.3346693386773, 1670.5410821643286, 1673.74749498998, 1676.9539078156313, 1680.1603206412826, 1683.366733466934, 1686.573146292585, 1689.7795591182364, 1692.9859719438878, 1696.192384769539, 1699.3987975951904, 1702.6052104208418, 1705.811623246493, 1709.0180360721442, 1712.2244488977956, 1715.430861723447, 1718.6372745490983, 1721.8436873747496, 1725.0501002004007, 1728.256513026052, 1731.4629258517034, 1734.6693386773547, 1737.875751503006, 1741.0821643286572, 1744.2885771543085, 1747.4949899799599, 1750.7014028056112, 1753.9078156312626, 1757.114228456914, 1760.3206412825652, 1763.5270541082164, 1766.7334669338677, 1769.939879759519, 1773.1462925851704, 1776.3527054108217, 1779.5591182364728, 1782.7655310621242, 1785.9719438877755, 1789.1783567134269, 1792.3847695390782, 1795.5911823647295, 1798.797595190381, 1802.004008016032, 1805.2104208416833, 1808.4168336673347, 1811.623246492986, 1814.8296593186374, 1818.0360721442885, 1821.2424849699398, 1824.4488977955912, 1827.6553106212425, 1830.8617234468938, 1834.0681362725452, 1837.2745490981963, 1840.4809619238476, 1843.687374749499, 1846.8937875751503, 1850.1002004008017, 1853.306613226453, 1856.5130260521041, 1859.7194388777555, 1862.9258517034068, 1866.1322645290581, 1869.3386773547095, 1872.5450901803606, 1875.751503006012, 1878.9579158316633, 1882.1643286573146, 1885.370741482966, 1888.5771543086173, 1891.7835671342687, 1894.9899799599198, 1898.196392785571, 1901.4028056112224, 1904.6092184368738, 1907.8156312625251, 1911.0220440881762, 1914.2284569138276, 1917.434869739479, 1920.6412825651303, 1923.8476953907816, 1927.054108216433, 1930.2605210420843, 1933.4669338677354, 1936.6733466933867, 1939.879759519038, 1943.0861723446894, 1946.2925851703408, 1949.4989979959919, 1952.7054108216432, 1955.9118236472946, 1959.118236472946, 1962.3246492985973, 1965.5310621242484, 1968.7374749499, 1971.943887775551, 1975.1503006012024, 1978.3567134268537, 1981.563126252505, 1984.7695390781564, 1987.9759519038075, 1991.1823647294589, 1994.3887775551102, 1997.5951903807616, 2000.801603206413, 2004.008016032064, 2007.2144288577153, 2010.4208416833667, 2013.627254509018, 2016.8336673346694, 2020.0400801603207, 2023.246492985972, 2026.4529058116232, 2029.6593186372745, 2032.8657314629259, 2036.0721442885772, 2039.2785571142285, 2042.4849699398796, 2045.691382765531, 2048.8977955911823, 2052.104208416834, 2055.310621242485, 2058.517034068136, 2061.7234468937877, 2064.929859719439, 2068.1362725450904, 2071.3426853707415, 2074.5490981963926, 2077.755511022044, 2080.9619238476953, 2084.168336673347, 2087.374749498998, 2090.581162324649, 2093.7875751503007, 2096.9939879759518, 2100.2004008016033, 2103.4068136272545, 2106.613226452906, 2109.819639278557, 2113.0260521042082, 2116.23246492986, 2119.438877755511, 2122.645290581162, 2125.8517034068136, 2129.058116232465, 2132.2645290581163, 2135.4709418837674, 2138.677354709419, 2141.88376753507, 2145.090180360721, 2148.296593186373, 2151.503006012024, 2154.7094188376755, 2157.9158316633266, 2161.122244488978, 2164.3286573146293, 2167.5350701402804, 2170.741482965932, 2173.947895791583, 2177.1543086172346, 2180.3607214428857, 2183.5671342685373, 2186.7735470941884, 2189.9799599198395, 2193.186372745491, 2196.392785571142, 2199.5991983967933, 2202.805611222445, 2206.0120240480965, 2209.2184368737476, 2212.4248496993987, 2215.6312625250503, 2218.8376753507014, 2222.0440881763525, 2225.250501002004, 2228.456913827655, 2231.6633266533067, 2234.869739478958, 2238.0761523046094, 2241.2825651302605, 2244.4889779559117, 2247.695390781563, 2250.9018036072143, 2254.108216432866, 2257.314629258517, 2260.5210420841686, 2263.7274549098197, 2266.933867735471, 2270.1402805611224, 2273.3466933867735, 2276.5531062124246, 2279.759519038076, 2282.9659318637273, 2286.172344689379, 2289.37875751503, 2292.5851703406815, 2295.7915831663327, 2298.9979959919838, 2302.2044088176353, 2305.4108216432865, 2308.617234468938, 2311.823647294589, 2315.0300601202407, 2318.236472945892, 2321.442885771543, 2324.6492985971945, 2327.8557114228456, 2331.0621242484967, 2334.2685370741483, 2337.4749498998, 2340.681362725451, 2343.887775551102, 2347.0941883767537, 2350.300601202405, 2353.507014028056, 2356.7134268537075, 2359.9198396793586, 2363.12625250501, 2366.3326653306613, 2369.539078156313, 2372.745490981964, 2375.951903807615, 2379.1583166332666, 2382.3647294589177, 2385.5711422845693, 2388.7775551102204, 2391.983967935872, 2395.190380761523, 2398.396793587174, 2401.603206412826, 2404.809619238477, 2408.016032064128, 2411.2224448897796, 2414.4288577154307, 2417.6352705410823, 2420.8416833667334, 2424.048096192385, 2427.254509018036, 2430.460921843687, 2433.6673346693387, 2436.87374749499, 2440.0801603206414, 2443.2865731462925, 2446.492985971944, 2449.699398797595, 2452.9058116232463, 2456.112224448898, 2459.318637274549, 2462.5250501002, 2465.7314629258517, 2468.9378757515033, 2472.1442885771544, 2475.3507014028055, 2478.557114228457, 2481.763527054108, 2484.9699398797593, 2488.176352705411, 2491.382765531062, 2494.5891783567135, 2497.7955911823647, 2501.0020040080162, 2504.2084168336673, 2507.4148296593185, 2510.62124248497, 2513.827655310621, 2517.0340681362727, 2520.240480961924, 2523.4468937875754, 2526.6533066132265, 2529.8597194388776, 2533.066132264529, 2536.2725450901803, 2539.4789579158314, 2542.685370741483, 2545.891783567134, 2549.0981963927857, 2552.304609218437, 2555.5110220440883, 2558.7174348697395, 2561.9238476953906, 2565.130260521042, 2568.3366733466933, 2571.543086172345, 2574.749498997996, 2577.9559118236475, 2581.1623246492986, 2584.3687374749497, 2587.5751503006013, 2590.7815631262524, 2593.9879759519035, 2597.194388777555, 2600.4008016032067, 2603.607214428858, 2606.813627254509, 2610.0200400801605, 2613.2264529058116, 2616.4328657314627, 2619.6392785571143, 2622.8456913827654, 2626.0521042084165, 2629.258517034068, 2632.4649298597196, 2635.6713426853707, 2638.877755511022, 2642.0841683366734, 2645.2905811623245, 2648.4969939879757, 2651.703406813627, 2654.909819639279, 2658.11623246493, 2661.322645290581, 2664.5290581162326, 2667.7354709418837, 2670.941883767535, 2674.1482965931864, 2677.354709418838, 2680.561122244489, 2683.76753507014, 2686.9739478957918, 2690.180360721443, 2693.386773547094, 2696.5931863727455, 2699.799599198397, 2703.006012024048, 2706.2124248496993, 2709.418837675351, 2712.625250501002, 2715.831663326653, 2719.0380761523047, 2722.244488977956, 2725.450901803607, 2728.6573146292585, 2731.86372745491, 2735.070140280561, 2738.2765531062123, 2741.482965931864, 2744.689378757515, 2747.895791583166, 2751.1022044088177, 2754.3086172344692, 2757.5150300601204, 2760.7214428857715, 2763.927855711423, 2767.134268537074, 2770.3406813627253, 2773.547094188377, 2776.753507014028, 2779.959919839679, 2783.1663326653306, 2786.372745490982, 2789.5791583166333, 2792.7855711422844, 2795.991983967936, 2799.198396793587, 2802.404809619238, 2805.61122244489, 2808.8176352705414, 2812.0240480961925, 2815.2304609218436, 2818.436873747495, 2821.6432865731463, 2824.8496993987974, 2828.056112224449, 2831.2625250501005, 2834.468937875751, 2837.6753507014027, 2840.8817635270543, 2844.0881763527054, 2847.2945891783565, 2850.501002004008, 2853.7074148296592, 2856.9138276553103, 2860.120240480962, 2863.3266533066135, 2866.5330661322646, 2869.7394789579157, 2872.9458917835673, 2876.1523046092184, 2879.3587174348695, 2882.565130260521, 2885.7715430861726, 2888.9779559118238, 2892.184368737475, 2895.3907815631264, 2898.5971943887776, 2901.8036072144287, 2905.0100200400802, 2908.216432865732, 2911.4228456913825, 2914.629258517034, 2917.8356713426856, 2921.0420841683367, 2924.248496993988, 2927.4549098196394, 2930.6613226452905, 2933.8677354709416, 2937.074148296593, 2940.2805611222448, 2943.486973947896, 2946.693386773547, 2949.8997995991986, 2953.1062124248497, 2956.312625250501, 2959.5190380761524, 2962.725450901804, 2965.9318637274546, 2969.138276553106, 2972.3446893787577, 2975.551102204409, 2978.75751503006, 2981.9639278557115, 2985.1703406813626, 2988.3767535070137, 2991.5831663326653, 2994.789579158317, 2997.995991983968, 3001.202404809619, 3004.4088176352707, 3007.615230460922, 3010.821643286573, 3014.0280561122245, 3017.234468937876, 3020.440881763527, 3023.6472945891783, 3026.85370741483, 3030.060120240481, 3033.266533066132, 3036.4729458917836, 3039.679358717435, 3042.885771543086, 3046.0921843687374, 3049.298597194389, 3052.50501002004, 3055.7114228456912, 3058.917835671343, 3062.124248496994, 3065.330661322645, 3068.5370741482966, 3071.743486973948, 3074.9498997995993, 3078.1563126252504, 3081.362725450902, 3084.569138276553, 3087.775551102204, 3090.9819639278558, 3094.1883767535073, 3097.394789579158, 3100.6012024048096, 3103.807615230461, 3107.0140280561122, 3110.2204408817634, 3113.426853707415, 3116.633266533066, 3119.839679358717, 3123.0460921843687, 3126.2525050100203, 3129.4589178356714, 3132.6653306613225, 3135.871743486974, 3139.078156312625, 3142.2845691382763, 3145.490981963928, 3148.6973947895794, 3151.9038076152306, 3155.1102204408817, 3158.3166332665332, 3161.5230460921844, 3164.7294589178355, 3167.935871743487, 3171.1422845691386, 3174.3486973947893, 3177.555110220441, 3180.7615230460924, 3183.9679358717435, 3187.1743486973946, 3190.380761523046, 3193.5871743486973, 3196.7935871743484, 3200.0])
              .range(['#08306bff', '#08306cff', '#08316dff', '#08316dff', '#08326eff', '#08326fff', '#083370ff', '#083371ff', '#083471ff', '#083472ff', '#083573ff', '#083574ff', '#083674ff', '#083675ff', '#083776ff', '#083777ff', '#083877ff', '#083878ff', '#083979ff', '#08397aff', '#083a7aff', '#083a7bff', '#083b7cff', '#083b7dff', '#083c7eff', '#083d7fff', '#083d80ff', '#083e81ff', '#083e81ff', '#083f82ff', '#084083ff', '#084184ff', '#084184ff', '#084285ff', '#084286ff', '#084387ff', '#084387ff', '#084488ff', '#084489ff', '#08458aff', '#08458aff', '#08468bff', '#08468cff', '#08478dff', '#08478eff', '#08488eff', '#08488fff', '#084990ff', '#084991ff', '#084a91ff', '#084a92ff', '#084b93ff', '#084b94ff', '#084c95ff', '#084c96ff', '#084d96ff', '#084d97ff', '#084e98ff', '#084e99ff', '#084f99ff', '#084f9aff', '#08509bff', '#08509cff', '#08519cff', '#08529dff', '#09529dff', '#09539eff', '#0a539eff', '#0a549eff', '#0a549eff', '#0a559fff', '#0b559fff', '#0b56a0ff', '#0c56a0ff', '#0c57a1ff', '#0d57a1ff', '#0d58a2ff', '#0e58a2ff', '#0e59a2ff', '#0e59a3ff', '#0e5aa3ff', '#0f5aa4ff', '#0f5ba4ff', '#105ba5ff', '#105ca5ff', '#115ca6ff', '#125da6ff', '#125da6ff', '#125ea6ff', '#125ea7ff', '#135fa7ff', '#135fa8ff', '#1460a8ff', '#1460a9ff', '#1561a9ff', '#1561a9ff', '#1562a9ff', '#1562aaff', '#1663aaff', '#1663abff', '#1764abff', '#1765acff', '#1865acff', '#1866adff', '#1966adff', '#1967adff', '#1967adff', '#1968aeff', '#1a68aeff', '#1a69afff', '#1b69afff', '#1b6ab0ff', '#1c6ab0ff', '#1c6bb0ff', '#1c6bb0ff', '#1c6cb1ff', '#1d6cb1ff', '#1d6db2ff', '#1e6db2ff', '#1e6eb3ff', '#1f6eb4ff', '#1f6fb4ff', '#206fb4ff', '#2070b4ff', '#2070b5ff', '#2171b5ff', '#2171b6ff', '#2272b6ff', '#2272b6ff', '#2373b6ff', '#2373b7ff', '#2474b7ff', '#2474b7ff', '#2575b7ff', '#2575b8ff', '#2676b8ff', '#2676b8ff', '#2777b8ff', '#2878b9ff', '#2979b9ff', '#297ab9ff', '#2a7ab9ff', '#2a7bbaff', '#2b7bbaff', '#2b7cbaff', '#2c7cbaff', '#2c7dbbff', '#2d7dbbff', '#2d7ebcff', '#2e7ebcff', '#2e7fbcff', '#2f7fbcff', '#2f80bdff', '#3080bdff', '#3081bdff', '#3181bdff', '#3182beff', '#3282beff', '#3283beff', '#3383beff', '#3384bfff', '#3484bfff', '#3485bfff', '#3585c0ff', '#3686c0ff', '#3686c0ff', '#3787c0ff', '#3787c1ff', '#3888c1ff', '#3888c1ff', '#3989c1ff', '#3989c2ff', '#3a8ac2ff', '#3a8ac2ff', '#3b8bc2ff', '#3b8bc3ff', '#3c8cc3ff', '#3c8dc4ff', '#3d8dc4ff', '#3d8ec4ff', '#3e8ec4ff', '#3e8fc5ff', '#3f8fc5ff', '#3f90c5ff', '#4090c5ff', '#4091c6ff', '#4191c6ff', '#4192c6ff', '#4292c6ff', '#4393c7ff', '#4493c7ff', '#4494c7ff', '#4594c7ff', '#4595c8ff', '#4695c8ff', '#4796c8ff', '#4896c8ff', '#4897c9ff', '#4997c9ff', '#4998c9ff', '#4a98c9ff', '#4b98caff', '#4b98caff', '#4c99caff', '#4d99cbff', '#4e9acbff', '#4e9acbff', '#4f9bcbff', '#4f9bccff', '#509cccff', '#519cccff', '#529dccff', '#529dcdff', '#539ecdff', '#539ecdff', '#549fcdff', '#55a0ceff', '#56a0ceff', '#56a0ceff', '#57a0ceff', '#57a1cfff', '#58a1cfff', '#59a2cfff', '#5aa2cfff', '#5aa3d0ff', '#5ba3d0ff', '#5ba4d0ff', '#5ca4d0ff', '#5ca5d1ff', '#5da5d1ff', '#5ea6d1ff', '#5fa6d1ff', '#5fa7d2ff', '#60a7d2ff', '#60a7d2ff', '#61a7d2ff', '#62a8d3ff', '#63a8d3ff', '#64a9d3ff', '#64a9d3ff', '#65aad4ff', '#65aad4ff', '#66abd4ff', '#66abd5ff', '#67acd5ff', '#68acd5ff', '#69add5ff', '#69add6ff', '#6aaed6ff', '#6aaed6ff', '#6baed6ff', '#6caed7ff', '#6dafd7ff', '#6eafd7ff', '#6fb0d7ff', '#70b1d7ff', '#71b1d7ff', '#71b2d8ff', '#72b2d8ff', '#73b3d8ff', '#74b3d8ff', '#74b4d8ff', '#75b4d8ff', '#76b5d9ff', '#77b5d9ff', '#78b5d9ff', '#79b5d9ff', '#79b6d9ff', '#7ab6d9ff', '#7bb7daff', '#7cb7daff', '#7cb8daff', '#7db8daff', '#7eb9daff', '#7fb9daff', '#80badbff', '#81badbff', '#82bbdbff', '#82bbdbff', '#83bcdbff', '#84bcdbff', '#85bcdcff', '#85bcdcff', '#86bddcff', '#87bddcff', '#88bedcff', '#89beddff', '#8abfddff', '#8abfddff', '#8bc0ddff', '#8cc0ddff', '#8dc1ddff', '#8dc1deff', '#8fc2deff', '#90c3deff', '#91c3deff', '#91c4deff', '#92c4deff', '#93c4dfff', '#94c4dfff', '#94c5dfff', '#95c5dfff', '#96c6dfff', '#97c6dfff', '#98c7e0ff', '#99c7e0ff', '#99c8e0ff', '#9ac8e0ff', '#9bc9e1ff', '#9cc9e1ff', '#9dcae1ff', '#9dcae1ff', '#9ecae1ff', '#9fcae1ff', '#a0cbe2ff', '#a0cbe2ff', '#a1cbe2ff', '#a1cbe2ff', '#a2cce3ff', '#a3cce3ff', '#a4cce3ff', '#a4cce3ff', '#a5cde3ff', '#a5cde3ff', '#a6cee4ff', '#a6cee4ff', '#a7cee4ff', '#a8cee4ff', '#a9cfe5ff', '#a9cfe5ff', '#aacfe5ff', '#aacfe6ff', '#abd0e6ff', '#acd0e6ff', '#add0e6ff', '#add1e7ff', '#aed1e7ff', '#aed1e7ff', '#afd1e7ff', '#afd2e7ff', '#b0d2e7ff', '#b1d2e8ff', '#b2d2e8ff', '#b2d3e8ff', '#b3d3e8ff', '#b4d3e9ff', '#b4d3e9ff', '#b5d4e9ff', '#b5d4e9ff', '#b6d4eaff', '#b7d4eaff', '#b8d5eaff', '#b8d5eaff', '#b9d6eaff', '#b9d6eaff', '#bad6ebff', '#bad6ebff', '#bbd7ebff', '#bcd7ebff', '#bdd7ecff', '#bdd7ecff', '#bed8ecff', '#bed8ecff', '#bfd8edff', '#bfd8edff', '#c0d9edff', '#c1d9edff', '#c2d9eeff', '#c2d9eeff', '#c3daeeff', '#c3daeeff', '#c4daeeff', '#c4daefff', '#c5dbefff', '#c6dbefff', '#c7dbefff', '#c7dcefff', '#c7dcefff', '#c7dcf0ff', '#c8dcf0ff', '#c8ddf0ff', '#c9ddf0ff', '#c9ddf0ff', '#caddf0ff', '#cadef0ff', '#cadef0ff', '#cbdef1ff', '#cbdef1ff', '#ccdff1ff', '#ccdff1ff', '#cddff1ff', '#cddff1ff', '#cde0f1ff', '#cde0f1ff', '#cee0f2ff', '#cee0f2ff', '#cfe1f2ff', '#cfe1f2ff', '#d0e1f2ff', '#d0e1f2ff', '#d0e2f2ff', '#d0e2f2ff', '#d1e2f3ff', '#d1e2f3ff', '#d2e3f3ff', '#d2e3f3ff', '#d3e3f3ff', '#d3e3f3ff', '#d3e4f3ff', '#d3e4f3ff', '#d4e4f4ff', '#d4e4f4ff', '#d5e5f4ff', '#d5e5f4ff', '#d6e5f4ff', '#d6e5f4ff', '#d6e6f4ff', '#d6e6f5ff', '#d7e6f5ff', '#d7e7f5ff', '#d8e7f5ff', '#d8e7f5ff', '#d9e7f5ff', '#d9e8f5ff', '#d9e8f5ff', '#dae8f6ff', '#dae8f6ff', '#dbe9f6ff', '#dbe9f6ff', '#dce9f6ff', '#dce9f6ff', '#dceaf6ff', '#dceaf6ff', '#ddeaf7ff', '#ddeaf7ff', '#deebf7ff', '#deebf7ff', '#dfebf7ff', '#dfebf7ff', '#dfecf7ff', '#dfecf7ff', '#e0ecf8ff', '#e0ecf8ff', '#e1edf8ff', '#e1edf8ff', '#e2edf8ff', '#e2edf8ff', '#e3eef8ff', '#e3eef8ff', '#e3eef9ff', '#e3eef9ff', '#e4eff9ff', '#e4eff9ff', '#e5eff9ff', '#e5eff9ff', '#e6f0f9ff', '#e6f0faff', '#e7f0faff', '#e7f0faff', '#e7f1faff', '#e7f1faff', '#e8f1faff', '#e9f2faff', '#e9f2faff', '#eaf2fbff', '#eaf2fbff', '#eaf3fbff', '#eaf3fbff', '#ebf3fbff', '#ebf3fbff', '#ecf4fbff', '#ecf4fbff', '#edf4fcff', '#edf4fcff', '#eef5fcff', '#eef5fcff', '#eef5fcff', '#eef5fcff', '#eff6fcff', '#eff6fcff', '#f0f6fdff', '#f0f6fdff', '#f1f7fdff', '#f1f7fdff', '#f2f7fdff', '#f2f7fdff', '#f2f8fdff', '#f2f8fdff', '#f3f8feff', '#f3f8feff', '#f4f9feff', '#f4f9feff', '#f5f9feff', '#f5f9feff', '#f5fafeff', '#f5fafeff', '#f6faffff', '#f6faffff', '#f7fbffff', '#f7fbffff']);
    

    color_map_fd388bcef3c2dae92755672e31374109.x = d3.scale.linear()
              .domain([1600.0, 3200.0])
              .range([0, 450 - 50]);

    color_map_fd388bcef3c2dae92755672e31374109.legend = L.control({position: 'topright'});
    color_map_fd388bcef3c2dae92755672e31374109.legend.onAdd = function (map) {var div = L.DomUtil.create('div', 'legend'); return div};
    color_map_fd388bcef3c2dae92755672e31374109.legend.addTo(map_3eb04d140f572eecaa14df0b091d4708);

    color_map_fd388bcef3c2dae92755672e31374109.xAxis = d3.svg.axis()
        .scale(color_map_fd388bcef3c2dae92755672e31374109.x)
        .orient(&quot;top&quot;)
        .tickSize(1)
        .tickValues([1600.0, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 1763.1372549019607, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 1926.2745098039215, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 2089.4117647058824, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 2252.549019607843, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 2415.6862745098038, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 2578.823529411765, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 2741.9607843137255, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 2905.098039215686, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 3068.235294117647, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '']);

    color_map_fd388bcef3c2dae92755672e31374109.svg = d3.select(&quot;.legend.leaflet-control&quot;).append(&quot;svg&quot;)
        .attr(&quot;id&quot;, 'legend')
        .attr(&quot;width&quot;, 450)
        .attr(&quot;height&quot;, 40);

    color_map_fd388bcef3c2dae92755672e31374109.g = color_map_fd388bcef3c2dae92755672e31374109.svg.append(&quot;g&quot;)
        .attr(&quot;class&quot;, &quot;key&quot;)
        .attr(&quot;transform&quot;, &quot;translate(25,16)&quot;);

    color_map_fd388bcef3c2dae92755672e31374109.g.selectAll(&quot;rect&quot;)
        .data(color_map_fd388bcef3c2dae92755672e31374109.color.range().map(function(d, i) {
          return {
            x0: i ? color_map_fd388bcef3c2dae92755672e31374109.x(color_map_fd388bcef3c2dae92755672e31374109.color.domain()[i - 1]) : color_map_fd388bcef3c2dae92755672e31374109.x.range()[0],
            x1: i < color_map_fd388bcef3c2dae92755672e31374109.color.domain().length ? color_map_fd388bcef3c2dae92755672e31374109.x(color_map_fd388bcef3c2dae92755672e31374109.color.domain()[i]) : color_map_fd388bcef3c2dae92755672e31374109.x.range()[1],
            z: d
          };
        }))
      .enter().append(&quot;rect&quot;)
        .attr(&quot;height&quot;, 40 - 30)
        .attr(&quot;x&quot;, function(d) { return d.x0; })
        .attr(&quot;width&quot;, function(d) { return d.x1 - d.x0; })
        .style(&quot;fill&quot;, function(d) { return d.z; });

    color_map_fd388bcef3c2dae92755672e31374109.g.call(color_map_fd388bcef3c2dae92755672e31374109.xAxis).append(&quot;text&quot;)
        .attr(&quot;class&quot;, &quot;caption&quot;)
        .attr(&quot;y&quot;, 21)
        .text(&quot;distance&quot;);
</script>
</html>" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe></div></div>
</div>
</div>
<p>In this example it’s easy to see how the road network topology makes it easier to travel in some directions more than others. Greenspace squeezes the western portion of the 1600m (20 min) isochrone into a horizontal pattern along Calle del Cerro, but the 2400m (30 minute) isochrone opens north-south tavel again along Avienda Pico, providing access to two other pockets of development, including San Clemente High School</p>
<p>We can also compare the network-based isochrone to the as-the-crow-flies approximation given by a euclidean buffer. If we didn’t have access to network data, this would be our best estimate of the shape and extent of the 20-minute neighborhood.</p>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:28.906557Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:28.906460Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:29.142612Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:29.142181Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:28.906547Z&quot;}" data-tags="[]" data-execution_count="17">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>sd_network.nodes_df[<span class="st">'geometry'</span>] <span class="op">=</span> gpd.points_from_xy(sd_network.nodes_df.x, sd_network.nodes_df.y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:29.143262Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:29.143084Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:29.217381Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:29.217078Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:29.143250Z&quot;}" data-tags="[]" data-execution_count="18">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># convert the node into a Point and buffer it 1600m</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>example_point <span class="op">=</span> gpd.GeoDataFrame(sd_network.nodes_df.loc[example_origin]).T.set_geometry(<span class="st">'geometry'</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>example_point <span class="op">=</span> example_point.set_crs(<span class="dv">4326</span>)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>planar_iso <span class="op">=</span> example_point.to_crs(example_point.estimate_utm_crs()).<span class="bu">buffer</span>(<span class="dv">1600</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:29.218057Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:29.217951Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:29.255963Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:29.255602Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:29.218048Z&quot;}" data-tags="[]" data-execution_count="19">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the buffer and isochrone on the same map</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> planar_iso.to_crs(<span class="dv">4326</span>).explore()</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>iso.explore(m<span class="op">=</span>m)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="19">

<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -&gt; Trust Notebook</span><iframe srcdoc="<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;></script>
    <script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;></script>
    <script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;></script>
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;></script>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/>
    
            <meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; />
            <style>
                #map_335f8fb3ba7b2176b7289796aa80f070 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
</head>
<body>
    
    
            <div class=&quot;folium-map&quot; id=&quot;map_335f8fb3ba7b2176b7289796aa80f070&quot; ></div>
        
</body>
<script>
    
    
            var map_335f8fb3ba7b2176b7289796aa80f070 = L.map(
                &quot;map_335f8fb3ba7b2176b7289796aa80f070&quot;,
                {
                    center: [33.4398802830519, -117.6009877645547],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );
            L.control.scale().addTo(map_335f8fb3ba7b2176b7289796aa80f070);

            

        
    
            var tile_layer_ca9adcdd245105cf2843e5edda9d002e = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_ca9adcdd245105cf2843e5edda9d002e.addTo(map_335f8fb3ba7b2176b7289796aa80f070);
        
    
            map_335f8fb3ba7b2176b7289796aa80f070.fitBounds(
                [[33.42544949614595, -117.61820045648814], [33.454311069957846, -117.58377507262128]],
                {}
            );
        
    
        function geo_json_5cfe516e955a420f89a0426fb39ccc6f_styler(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.5, &quot;weight&quot;: 2};
            }
        }
        function geo_json_5cfe516e955a420f89a0426fb39ccc6f_highlighter(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.75};
            }
        }
        function geo_json_5cfe516e955a420f89a0426fb39ccc6f_pointToLayer(feature, latlng) {
            var opts = {&quot;bubblingMouseEvents&quot;: true, &quot;color&quot;: &quot;#3388ff&quot;, &quot;dashArray&quot;: null, &quot;dashOffset&quot;: null, &quot;fill&quot;: true, &quot;fillColor&quot;: &quot;#3388ff&quot;, &quot;fillOpacity&quot;: 0.2, &quot;fillRule&quot;: &quot;evenodd&quot;, &quot;lineCap&quot;: &quot;round&quot;, &quot;lineJoin&quot;: &quot;round&quot;, &quot;opacity&quot;: 1.0, &quot;radius&quot;: 2, &quot;stroke&quot;: true, &quot;weight&quot;: 3};
            
            let style = geo_json_5cfe516e955a420f89a0426fb39ccc6f_styler(feature)
            Object.assign(opts, style)
            
            return new L.CircleMarker(latlng, opts)
        }

        function geo_json_5cfe516e955a420f89a0426fb39ccc6f_onEachFeature(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        geo_json_5cfe516e955a420f89a0426fb39ccc6f.resetStyle(e.target);
                    }
                },
                mouseover: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        const highlightStyle = geo_json_5cfe516e955a420f89a0426fb39ccc6f_highlighter(e.target.feature)
                        e.target.setStyle(highlightStyle);
                    }
                },
            });
        };
        var geo_json_5cfe516e955a420f89a0426fb39ccc6f = L.geoJson(null, {
                onEachFeature: geo_json_5cfe516e955a420f89a0426fb39ccc6f_onEachFeature,
            
                style: geo_json_5cfe516e955a420f89a0426fb39ccc6f_styler,
                pointToLayer: geo_json_5cfe516e955a420f89a0426fb39ccc6f_pointToLayer,
        });

        function geo_json_5cfe516e955a420f89a0426fb39ccc6f_add (data) {
            geo_json_5cfe516e955a420f89a0426fb39ccc6f
                .addData(data);
        }
            geo_json_5cfe516e955a420f89a0426fb39ccc6f_add({&quot;bbox&quot;: [-117.61820045648814, 33.42544949614595, -117.58377507262128, 33.454311069957846], &quot;features&quot;: [{&quot;bbox&quot;: [-117.61820045648814, 33.42544949614595, -117.58377507262128, 33.454311069957846], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.58377507262128, 33.43996252158166], [-117.58384848266682, 33.43854766238966], [-117.58408694667975, 33.4371456481466], [-117.58448816036987, 33.4357699801706], [-117.58504825264757, 33.43443390543985], [-117.58576182318032, 33.433150289073055], [-117.58662199464425, 33.43193149050862], [-117.58762047915765, 33.43078924457229], [-117.58874765824989, 33.42973454857462], [-117.58999267558886, 33.42877755652162], [-117.59134354157081, 33.42792748145245], [-117.59278724876384, 33.42719250684034], [-117.59430989709385, 33.4265797079045], [-117.59589682757095, 33.42609498358658], [-117.59753276327363, 33.425742999842235], [-117.59920195624004, 33.425527144789946], [-117.60088833886094, 33.42544949614595], [-117.60257567832682, 33.425510801256344], [-117.60424773265231, 33.4257104699171], [-117.60588840678784, 33.42604658005046], [-117.60748190732627, 33.42651589618343], [-117.60901289432636, 33.427113900551426], [-117.61046662880128, 33.427834836529875], [-117.61182911446141, 33.42867176397838], [-117.61308723235355, 33.429616625968016], [-117.61422886710652, 33.430660326253495], [-117.61524302357039, 33.43179281674858], [-117.61611993272787, 33.433003194167256], [-117.61685114585714, 33.434279804904776], [-117.61742961603588, 33.43561035715332], [-117.61784976619644, 33.43698203917687], [-117.61810754306957, 33.43838164261021], [-117.61820045648814, 33.43979568959801], [-117.61812760366199, 33.441210562551774], [-117.61788967817907, 33.44261263527694], [-117.61748896363426, 33.44398840420796], [-117.61692931193525, 33.44532461848697], [-117.61621610648335, 33.446608407632574], [-117.61535621057268, 33.4478274055665], [-117.6143579014955, 33.4489698698014], [-117.61323079098052, 33.45002479463759], [-117.6119857327245, 33.45098201727498], [-117.61063471790358, 33.45183231581311], [-117.6091907596695, 33.45256749819102], [-117.60766776774366, 33.45318048120515], [-117.60608041432013, 33.45366535883981], [-117.60444399257409, 33.454017459247495], [-117.60277426914578, 33.454233389826406], [-117.60108733202969, 33.454311069957846], [-117.59939943534435, 33.454249751085705], [-117.59772684248874, 33.45405002394285], [-117.59608566920784, 33.45371381285444], [-117.5944917280907, 33.45324435717317], [-117.59296037600977, 33.45264618002636], [-117.59150636598163, 33.451925044678376], [-117.59014370488539, 33.451087898931284], [-117.58888551841605, 33.45014280810311], [-117.58774392458022, 33.44909887723328], [-117.58672991695539, 33.447966163269214], [-117.58585325883904, 33.44675557808478], [-117.58512238930561, 33.445478783268996], [-117.58454434207326, 33.44414807770373], [-117.584124677956, 33.44277627901687], [-117.58386743154475, 33.44137660005691], [-117.58377507262128, 33.43996252158166]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;1985327805&quot;, &quot;properties&quot;: {}, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});

        
    
            geo_json_5cfe516e955a420f89a0426fb39ccc6f.addTo(map_335f8fb3ba7b2176b7289796aa80f070);
        
    
        function geo_json_aff18c3e0fc1faf90afea28e28beec89_styler(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.5, &quot;weight&quot;: 2};
            }
        }
        function geo_json_aff18c3e0fc1faf90afea28e28beec89_highlighter(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.75};
            }
        }
        function geo_json_aff18c3e0fc1faf90afea28e28beec89_pointToLayer(feature, latlng) {
            var opts = {&quot;bubblingMouseEvents&quot;: true, &quot;color&quot;: &quot;#3388ff&quot;, &quot;dashArray&quot;: null, &quot;dashOffset&quot;: null, &quot;fill&quot;: true, &quot;fillColor&quot;: &quot;#3388ff&quot;, &quot;fillOpacity&quot;: 0.2, &quot;fillRule&quot;: &quot;evenodd&quot;, &quot;lineCap&quot;: &quot;round&quot;, &quot;lineJoin&quot;: &quot;round&quot;, &quot;opacity&quot;: 1.0, &quot;radius&quot;: 2, &quot;stroke&quot;: true, &quot;weight&quot;: 3};
            
            let style = geo_json_aff18c3e0fc1faf90afea28e28beec89_styler(feature)
            Object.assign(opts, style)
            
            return new L.CircleMarker(latlng, opts)
        }

        function geo_json_aff18c3e0fc1faf90afea28e28beec89_onEachFeature(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        geo_json_aff18c3e0fc1faf90afea28e28beec89.resetStyle(e.target);
                    }
                },
                mouseover: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        const highlightStyle = geo_json_aff18c3e0fc1faf90afea28e28beec89_highlighter(e.target.feature)
                        e.target.setStyle(highlightStyle);
                    }
                },
            });
        };
        var geo_json_aff18c3e0fc1faf90afea28e28beec89 = L.geoJson(null, {
                onEachFeature: geo_json_aff18c3e0fc1faf90afea28e28beec89_onEachFeature,
            
                style: geo_json_aff18c3e0fc1faf90afea28e28beec89_styler,
                pointToLayer: geo_json_aff18c3e0fc1faf90afea28e28beec89_pointToLayer,
        });

        function geo_json_aff18c3e0fc1faf90afea28e28beec89_add (data) {
            geo_json_aff18c3e0fc1faf90afea28e28beec89
                .addData(data);
        }
            geo_json_aff18c3e0fc1faf90afea28e28beec89_add({&quot;bbox&quot;: [-117.6149627, 33.4352644, -117.589268, 33.4480176], &quot;features&quot;: [{&quot;bbox&quot;: [-117.6149627, 33.4352644, -117.589268, 33.4480176], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.5922923, 33.4440509], [-117.5902135, 33.443599], [-117.589268, 33.4412214], [-117.5911919, 33.4369492], [-117.5911683, 33.4356881], [-117.5920085, 33.4353402], [-117.5928484, 33.4352644], [-117.5947469, 33.4363226], [-117.5974836, 33.4376435], [-117.5978631, 33.4377787], [-117.5991264, 33.438542], [-117.5994683, 33.4388998], [-117.6019739, 33.4401361], [-117.602542, 33.440207], [-117.6063877, 33.4417727], [-117.6088133, 33.4426619], [-117.6143231, 33.4425595], [-117.6148579, 33.4429227], [-117.6149627, 33.4433759], [-117.6147933, 33.4435268], [-117.6143171, 33.4439418], [-117.6136147, 33.4445241], [-117.6130065, 33.4450274], [-117.6067391, 33.443218], [-117.6060505, 33.4435429], [-117.6047276, 33.4444191], [-117.6023689, 33.4480176], [-117.6007767, 33.4473405], [-117.600112, 33.4467148], [-117.5976987, 33.445126], [-117.5976053, 33.4450649], [-117.5934028, 33.4445491], [-117.5922923, 33.4440509]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600}, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});

        
    
    geo_json_aff18c3e0fc1faf90afea28e28beec89.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = [&quot;distance&quot;];
    let aliases = [&quot;distance&quot;];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{&quot;className&quot;: &quot;foliumtooltip&quot;, &quot;sticky&quot;: true});
                     
    
            geo_json_aff18c3e0fc1faf90afea28e28beec89.addTo(map_335f8fb3ba7b2176b7289796aa80f070);
        
</script>
</html>" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe></div></div>
</div>
</div>
<p>Obviously from this depiction, network-constrained travel is very different from a euclidean approximation. That’s especially true in places with irregular networks or topography considerations (like much of California)</p>
</section>
<section id="isochrones-for-specified-locations" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="isochrones-for-specified-locations"><span class="header-section-number">8.2</span> Isochrones for Specified Locations</h2>
<p>the <code>isochrones</code> function calculates several isochrones simultaneously, given a set of input destinations. For example we could look at the 20-minute neighborhood for schools in San Diego county.</p>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:29.256724Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:29.256616Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:29.282740Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:29.282378Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:29.256715Z&quot;}" data-tags="[]" data-execution_count="20">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> geosnap.io <span class="im">import</span> get_nces</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:29.283473Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:29.283318Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:32.557933Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:32.557637Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:29.283462Z&quot;}" data-tags="[]" data-execution_count="21">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># same as county fips 06073 in this case, but use metro fips for consistency with network</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>sd <span class="op">=</span> get_acs(datasets, msa_fips<span class="op">=</span><span class="st">'41740'</span>, level<span class="op">=</span><span class="st">'bg'</span>, years<span class="op">=</span>[<span class="dv">2019</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:32.560787Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:32.560690Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:32.838839Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:32.838399Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:32.560778Z&quot;}" data-tags="[]" data-execution_count="22">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>sd.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>&lt;Axes: &gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="isochrone_example_files/figure-html/cell-25-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:32.839442Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:32.839357Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:32.994753Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:32.994419Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:32.839434Z&quot;}" data-tags="[]" data-execution_count="23">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>schools <span class="op">=</span> get_nces(datasets, dataset<span class="op">=</span><span class="st">'schools'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:32.995307Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:32.995220Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:33.615594Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:33.615184Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:32.995298Z&quot;}" data-tags="[]" data-execution_count="24">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>sd_schools <span class="op">=</span> schools[schools.to_crs(sd.crs).intersects(sd.unary_union)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:33.616038Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:33.615966Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:33.647025Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:33.646572Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:33.616030Z&quot;}" data-tags="[]" data-execution_count="25">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>sd_schools.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="25">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">NCESSCH</th>
<th data-quarto-table-cell-role="th">NAME</th>
<th data-quarto-table-cell-role="th">OPSTFIPS</th>
<th data-quarto-table-cell-role="th">LSTREE</th>
<th data-quarto-table-cell-role="th">LCITY</th>
<th data-quarto-table-cell-role="th">LSTATE</th>
<th data-quarto-table-cell-role="th">LZIP</th>
<th data-quarto-table-cell-role="th">LZIP4</th>
<th data-quarto-table-cell-role="th">STFIP15</th>
<th data-quarto-table-cell-role="th">CNTY15</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">CBSATYPE15</th>
<th data-quarto-table-cell-role="th">CSA15</th>
<th data-quarto-table-cell-role="th">NMCSA15</th>
<th data-quarto-table-cell-role="th">NECTA15</th>
<th data-quarto-table-cell-role="th">NMNECTA15</th>
<th data-quarto-table-cell-role="th">CD15</th>
<th data-quarto-table-cell-role="th">SLDL15</th>
<th data-quarto-table-cell-role="th">SLDU15</th>
<th data-quarto-table-cell-role="th">geometry</th>
<th data-quarto-table-cell-role="th">year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">5895</td>
<td>060004205341</td>
<td>Warner Junior/Senior High</td>
<td>06</td>
<td>30951 Highway 79</td>
<td>Warner Springs</td>
<td>CA</td>
<td>92086</td>
<td>M</td>
<td>06</td>
<td>06073</td>
<td>...</td>
<td>1</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>0650</td>
<td>071</td>
<td>038</td>
<td>POINT (-116.64292 33.27525)</td>
<td>1516</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5896</td>
<td>060004206527</td>
<td>San Jose Valley Continuation Hig</td>
<td>06</td>
<td>30951 Highway 79</td>
<td>Warner Springs</td>
<td>CA</td>
<td>92086</td>
<td>M</td>
<td>06</td>
<td>06073</td>
<td>...</td>
<td>1</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>0650</td>
<td>071</td>
<td>038</td>
<td>POINT (-116.64292 33.27525)</td>
<td>1516</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5897</td>
<td>060004206844</td>
<td>Warner Elementary</td>
<td>06</td>
<td>30951 Highway 79</td>
<td>Warner Springs</td>
<td>CA</td>
<td>92086</td>
<td>0008</td>
<td>06</td>
<td>06073</td>
<td>...</td>
<td>1</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>0650</td>
<td>071</td>
<td>038</td>
<td>POINT (-116.64292 33.27525)</td>
<td>1516</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5898</td>
<td>060004210387</td>
<td>All Tribes Charter</td>
<td>06</td>
<td>34320 Valley Center Rd.</td>
<td>Valley Center</td>
<td>CA</td>
<td>92082</td>
<td>6046</td>
<td>06</td>
<td>06073</td>
<td>...</td>
<td>1</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>0650</td>
<td>075</td>
<td>038</td>
<td>POINT (-116.95367 33.27796)</td>
<td>1516</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5899</td>
<td>060004212735</td>
<td>All Tribes Elementary Charter</td>
<td>06</td>
<td>34320 Valley Center Rd.</td>
<td>Valley Center</td>
<td>CA</td>
<td>92082</td>
<td>6046</td>
<td>06</td>
<td>06073</td>
<td>...</td>
<td>1</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>0650</td>
<td>075</td>
<td>038</td>
<td>POINT (-116.95367 33.27796)</td>
<td>1516</td>
</tr>
</tbody>
</table>

<p>5 rows × 26 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:33.647704Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:33.647627Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:33.768959Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:33.768660Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:33.647696Z&quot;}" data-tags="[]" data-execution_count="26">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>sd_schools.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>&lt;Axes: &gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="isochrone_example_files/figure-html/cell-29-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:33.769440Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:33.769362Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:36.498182Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:36.497822Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:33.769432Z&quot;}" data-tags="[]" data-execution_count="27">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># randomly sample 25 schools and compute their walksheds</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>school_neighborhoods <span class="op">=</span> isochrones_from_gdf(origins<span class="op">=</span>sd_schools.sample(<span class="dv">25</span>), network<span class="op">=</span>sd_network, threshold<span class="op">=</span><span class="dv">1600</span>,)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/knaaptime/Dropbox/projects/geosnap/geosnap/analyze/network.py:140: UserWarning: Geometry is in a geographic CRS. Results from 'centroid' are likely incorrect. Use 'GeoSeries.to_crs()' to re-project geometries to a projected CRS before this operation.

  node_ids = network.get_node_ids(origins.centroid.x, origins.centroid.y).astype(int)
/Users/knaaptime/Dropbox/projects/geosnap/geosnap/analyze/network.py:34: UserWarning: Geometry is in a geographic CRS. Results from 'centroid' are likely incorrect. Use 'GeoSeries.to_crs()' to re-project geometries to a projected CRS before this operation.

  node_ids = network.get_node_ids(origins.centroid.x, origins.centroid.y).astype(int)</code></pre>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:36.498834Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:36.498746Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:36.527792Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:36.527515Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:36.498825Z&quot;}" data-tags="[]" data-execution_count="28">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>school_neighborhoods</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="28">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">geometry</th>
<th data-quarto-table-cell-role="th">distance</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">origin</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">12212</td>
<td>POLYGON ((-117.30467 33.25000, -117.30475 33.2...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11824</td>
<td>POLYGON ((-117.07106 32.68738, -117.06973 32.6...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12860</td>
<td>POLYGON ((-117.12054 32.97413, -117.11756 32.9...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6050</td>
<td>POLYGON ((-117.02852 33.23110, -117.02397 33.2...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6124</td>
<td>POLYGON ((-117.18364 32.76623, -117.18372 32.7...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7214</td>
<td>POLYGON ((-116.97425 32.77920, -116.97739 32.7...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12884</td>
<td>POLYGON ((-117.08686 33.00012, -117.08701 33.0...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15239</td>
<td>POLYGON ((-117.21454 33.19194, -117.21188 33.1...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13750</td>
<td>POLYGON ((-117.17513 32.84027, -117.17375 32.8...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7195</td>
<td>POLYGON ((-116.98483 32.80708, -116.98743 32.8...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9133</td>
<td>POLYGON ((-117.03113 32.75459, -117.03246 32.7...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7609</td>
<td>POLYGON ((-116.99245 32.64752, -116.98962 32.6...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14873</td>
<td>POLYGON ((-117.06790 32.62216, -117.06822 32.6...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7205</td>
<td>POLYGON ((-116.93488 32.80640, -116.93365 32.8...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9706</td>
<td>POLYGON ((-116.85300 32.94028, -116.85347 32.9...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7624</td>
<td>POLYGON ((-116.98460 32.63996, -116.98318 32.6...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7924</td>
<td>POLYGON ((-117.17627 32.70042, -117.17508 32.7...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7926</td>
<td>POLYGON ((-117.14481 32.64543, -117.14451 32.6...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9777</td>
<td>POLYGON ((-117.01723 32.74027, -117.01746 32.7...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9643</td>
<td>POLYGON ((-117.01170 32.70918, -117.01265 32.7...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13766</td>
<td>POLYGON ((-117.12094 32.68936, -117.12202 32.6...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13741</td>
<td>POLYGON ((-117.10285 32.69962, -117.10469 32.6...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13612</td>
<td>POLYGON ((-117.14372 32.74844, -117.14440 32.7...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13762</td>
<td>POLYGON ((-117.05323 32.70731, -117.05383 32.7...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13568</td>
<td>POLYGON ((-117.22954 32.71835, -117.23333 32.7...</td>
<td>1600</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-21T21:47:36.528272Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-21T21:47:36.528190Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-21T21:47:36.567895Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-21T21:47:36.567622Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-21T21:47:36.528262Z&quot;}" data-tags="[]" data-execution_count="29">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>school_neighborhoods.explore()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="29">

<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -&gt; Trust Notebook</span><iframe srcdoc="<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;></script>
    <script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;></script>
    <script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;></script>
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;></script>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/>
    
            <meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; />
            <style>
                #map_ca71f01dab755c79e80f5b4beea9d9f8 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
</head>
<body>
    
    
            <div class=&quot;folium-map&quot; id=&quot;map_ca71f01dab755c79e80f5b4beea9d9f8&quot; ></div>
        
</body>
<script>
    
    
            var map_ca71f01dab755c79e80f5b4beea9d9f8 = L.map(
                &quot;map_ca71f01dab755c79e80f5b4beea9d9f8&quot;,
                {
                    center: [32.934763000000004, -117.078365],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );
            L.control.scale().addTo(map_ca71f01dab755c79e80f5b4beea9d9f8);

            

        
    
            var tile_layer_61a60f31f5f10907b056c14cb2e36fd1 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_61a60f31f5f10907b056c14cb2e36fd1.addTo(map_ca71f01dab755c79e80f5b4beea9d9f8);
        
    
            map_ca71f01dab755c79e80f5b4beea9d9f8.fitBounds(
                [[32.606613, -117.3117423], [33.262913, -116.8449877]],
                {}
            );
        
    
        function geo_json_3e19a3a51ba6c576d838939ef53aaaa7_styler(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.5, &quot;weight&quot;: 2};
            }
        }
        function geo_json_3e19a3a51ba6c576d838939ef53aaaa7_highlighter(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.75};
            }
        }
        function geo_json_3e19a3a51ba6c576d838939ef53aaaa7_pointToLayer(feature, latlng) {
            var opts = {&quot;bubblingMouseEvents&quot;: true, &quot;color&quot;: &quot;#3388ff&quot;, &quot;dashArray&quot;: null, &quot;dashOffset&quot;: null, &quot;fill&quot;: true, &quot;fillColor&quot;: &quot;#3388ff&quot;, &quot;fillOpacity&quot;: 0.2, &quot;fillRule&quot;: &quot;evenodd&quot;, &quot;lineCap&quot;: &quot;round&quot;, &quot;lineJoin&quot;: &quot;round&quot;, &quot;opacity&quot;: 1.0, &quot;radius&quot;: 2, &quot;stroke&quot;: true, &quot;weight&quot;: 3};
            
            let style = geo_json_3e19a3a51ba6c576d838939ef53aaaa7_styler(feature)
            Object.assign(opts, style)
            
            return new L.CircleMarker(latlng, opts)
        }

        function geo_json_3e19a3a51ba6c576d838939ef53aaaa7_onEachFeature(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        geo_json_3e19a3a51ba6c576d838939ef53aaaa7.resetStyle(e.target);
                    }
                },
                mouseover: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        const highlightStyle = geo_json_3e19a3a51ba6c576d838939ef53aaaa7_highlighter(e.target.feature)
                        e.target.setStyle(highlightStyle);
                    }
                },
            });
        };
        var geo_json_3e19a3a51ba6c576d838939ef53aaaa7 = L.geoJson(null, {
                onEachFeature: geo_json_3e19a3a51ba6c576d838939ef53aaaa7_onEachFeature,
            
                style: geo_json_3e19a3a51ba6c576d838939ef53aaaa7_styler,
                pointToLayer: geo_json_3e19a3a51ba6c576d838939ef53aaaa7_pointToLayer,
        });

        function geo_json_3e19a3a51ba6c576d838939ef53aaaa7_add (data) {
            geo_json_3e19a3a51ba6c576d838939ef53aaaa7
                .addData(data);
        }
            geo_json_3e19a3a51ba6c576d838939ef53aaaa7_add({&quot;bbox&quot;: [-117.3117423, 32.606613, -116.8449877, 33.262913], &quot;features&quot;: [{&quot;bbox&quot;: [-117.3117423, 33.2435935, -117.291142, 33.262913], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.304672, 33.250004], [-117.3047463, 33.251346], [-117.307137, 33.254063], [-117.308182, 33.256027], [-117.3093337, 33.2575857], [-117.307297, 33.258678], [-117.304649, 33.258129], [-117.303902, 33.258389], [-117.303017, 33.261532], [-117.300591, 33.261974], [-117.2994, 33.262913], [-117.297523, 33.261475], [-117.296143, 33.259655], [-117.29512, 33.258793], [-117.29406, 33.255638], [-117.295021, 33.255211], [-117.295387, 33.252235], [-117.294434, 33.251045], [-117.291763, 33.250534], [-117.292328, 33.249855], [-117.2916515, 33.2472697], [-117.291142, 33.2470109], [-117.2912795, 33.2469252], [-117.2921896, 33.2467236], [-117.2928415, 33.2466873], [-117.294662, 33.247086], [-117.29615, 33.247082], [-117.296783, 33.246883], [-117.2983333, 33.2456582], [-117.2990667, 33.2453183], [-117.2995902, 33.2454521], [-117.3001351, 33.2459649], [-117.3017113, 33.2486027], [-117.3018037, 33.2486719], [-117.304817, 33.247829], [-117.307533, 33.246262], [-117.3071557, 33.2437821], [-117.3085359, 33.2435935], [-117.3094234, 33.2437758], [-117.3109237, 33.2452264], [-117.3117423, 33.2453541], [-117.310883, 33.246639], [-117.3095093, 33.2464067], [-117.307854, 33.246815], [-117.30484, 33.248543], [-117.304863, 33.249237], [-117.304672, 33.250004]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 12212}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.0858846, 32.669491, -117.061249, 32.6919975], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.0710622, 32.6873841], [-117.069733, 32.687634], [-117.0675039, 32.6888084], [-117.0668672, 32.6893653], [-117.066559, 32.689594], [-117.066251, 32.68906], [-117.066673, 32.686657], [-117.068001, 32.684467], [-117.066612, 32.683273], [-117.066093, 32.682972], [-117.064529, 32.681938], [-117.06295, 32.681431], [-117.061249, 32.680988], [-117.062637, 32.678673], [-117.062302, 32.677803], [-117.063316, 32.675617], [-117.063856, 32.675473], [-117.064346, 32.675259], [-117.065399, 32.67347], [-117.066757, 32.671646], [-117.0682212, 32.6697084], [-117.06826, 32.669765], [-117.069893, 32.670994], [-117.070877, 32.670689], [-117.0732122, 32.6716146], [-117.0735038, 32.6715789], [-117.074966, 32.669491], [-117.0750353, 32.6696706], [-117.077667, 32.670631], [-117.079964, 32.671921], [-117.0805255, 32.6717645], [-117.0822396, 32.6731784], [-117.0830632, 32.6729425], [-117.083237, 32.672874], [-117.085182, 32.674278], [-117.0854578, 32.6742002], [-117.0858846, 32.676753], [-117.0853231, 32.6769416], [-117.0846653, 32.6791348], [-117.085327, 32.679852], [-117.085403, 32.681156], [-117.084899, 32.6820085], [-117.0848095, 32.6825533], [-117.0845983, 32.6828845], [-117.084228, 32.683304], [-117.0835891, 32.6843021], [-117.0833413, 32.684744], [-117.0831752, 32.6847957], [-117.0814296, 32.6868156], [-117.080276, 32.687927], [-117.079857, 32.690052], [-117.079308, 32.690392], [-117.0788109, 32.691299], [-117.0780276, 32.6919975], [-117.0774509, 32.6916915], [-117.0766338, 32.6900426], [-117.073723, 32.690952], [-117.072029, 32.69025], [-117.072357, 32.689632], [-117.0710622, 32.6873841]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;1&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 11824}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.139137, 32.958452, -117.112079, 32.9806441], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.120537, 32.974133], [-117.1175639, 32.9732772], [-117.1163872, 32.9735629], [-117.1132214, 32.9733601], [-117.112079, 32.9742752], [-117.1124134, 32.9715896], [-117.112663, 32.970654], [-117.113533, 32.968163], [-117.113907, 32.966934], [-117.116913, 32.962696], [-117.1177334, 32.961431], [-117.120857, 32.959618], [-117.1222714, 32.9592667], [-117.1234427, 32.9594592], [-117.1253796, 32.9589927], [-117.1269753, 32.958452], [-117.129929, 32.960892], [-117.1337391, 32.9618787], [-117.1339632, 32.9618544], [-117.136879, 32.962349], [-117.1374249, 32.9633372], [-117.139137, 32.964725], [-117.137741, 32.96627], [-117.1379276, 32.9694837], [-117.1378584, 32.9700073], [-117.1387759, 32.9725714], [-117.137253, 32.973351], [-117.135941, 32.97575], [-117.135918, 32.976414], [-117.132347, 32.977909], [-117.1308922, 32.9794663], [-117.129807, 32.980297], [-117.12928, 32.980297], [-117.1283742, 32.9802964], [-117.1274105, 32.9805371], [-117.1270595, 32.9806307], [-117.1264979, 32.9806441], [-117.1264058, 32.9806264], [-117.1260527, 32.9799628], [-117.1257601, 32.9780775], [-117.1252364, 32.9770565], [-117.123948, 32.9750726], [-117.120949, 32.974354], [-117.120537, 32.974133]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;2&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 12860}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.034393, 33.2241609, -117.0133384, 33.2488472], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.028519, 33.231102], [-117.023972, 33.235943], [-117.028053, 33.242905], [-117.028152, 33.24292], [-117.029716, 33.243393], [-117.026337, 33.245811], [-117.0235676, 33.2488472], [-117.023567, 33.2478266], [-117.0160735, 33.2426601], [-117.0150705, 33.2431306], [-117.015106, 33.242184], [-117.017448, 33.23838], [-117.0133384, 33.2325562], [-117.0142074, 33.2309301], [-117.0154681, 33.2281464], [-117.015503, 33.228146], [-117.016708, 33.228107], [-117.016998, 33.2281], [-117.0220884, 33.2241609], [-117.0223037, 33.2244306], [-117.025726, 33.226444], [-117.028671, 33.227222], [-117.034393, 33.230873], [-117.033112, 33.230946], [-117.030823, 33.231041], [-117.028519, 33.231102]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;3&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 6050}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.1927569, 32.7646408, -117.169617, 32.7818993], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.1836406, 32.7662255], [-117.1837189, 32.7662319], [-117.1842562, 32.7662756], [-117.1850012, 32.7662595], [-117.1856946, 32.7661232], [-117.1867622, 32.7657647], [-117.1869936, 32.7656686], [-117.1873364, 32.7654739], [-117.1875344, 32.7654528], [-117.1888791, 32.7649999], [-117.1896069, 32.7647384], [-117.1896744, 32.7647188], [-117.1902447, 32.7646408], [-117.190117, 32.766232], [-117.19059, 32.767731], [-117.19149, 32.768303], [-117.1921425, 32.7686761], [-117.1926882, 32.7710707], [-117.1927286, 32.771211], [-117.1927569, 32.7713413], [-117.1912175, 32.7726124], [-117.1908726, 32.7727776], [-117.1898062, 32.7727375], [-117.1891228, 32.7727947], [-117.1883248, 32.7730833], [-117.1875292, 32.773389], [-117.1874262, 32.7734117], [-117.1861972, 32.7740528], [-117.1851822, 32.7750431], [-117.1846784, 32.7774337], [-117.1844768, 32.7778161], [-117.1814286, 32.778537], [-117.1811112, 32.7801661], [-117.181134, 32.7803238], [-117.18193, 32.7818993], [-117.1809904, 32.7817002], [-117.1784594, 32.7814426], [-117.1775904, 32.7815148], [-117.1768645, 32.7807656], [-117.173683, 32.780819], [-117.1725982, 32.78165], [-117.172142, 32.780716], [-117.1702721, 32.7790303], [-117.17025, 32.778339], [-117.169678, 32.777149], [-117.1700377, 32.7758377], [-117.1697583, 32.7746114], [-117.169983, 32.77224], [-117.169617, 32.771736], [-117.170227, 32.771591], [-117.1717, 32.771214], [-117.172531, 32.770409], [-117.1755311, 32.7694888], [-117.176224, 32.769348], [-117.1782109, 32.7665795], [-117.1783848, 32.766527], [-117.1794522, 32.7662536], [-117.1804516, 32.7661224], [-117.1815844, 32.7661426], [-117.1826524, 32.7662423], [-117.1830343, 32.766278], [-117.1836406, 32.7662255]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;4&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 6124}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-116.9825432, 32.774078, -116.955383, 32.7991841], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-116.974251, 32.779205], [-116.9773884, 32.7800995], [-116.978737, 32.779385], [-116.979271, 32.779858], [-116.981529, 32.779476], [-116.9825432, 32.7817766], [-116.9821606, 32.7819943], [-116.981931, 32.7821355], [-116.9816367, 32.7822446], [-116.9805181, 32.7826762], [-116.979286, 32.784409], [-116.9787071, 32.7853965], [-116.9778274, 32.7867106], [-116.9774731, 32.7873583], [-116.9773729, 32.7877608], [-116.976959, 32.788235], [-116.9767088, 32.7905238], [-116.976703, 32.7910627], [-116.9767, 32.79134], [-116.9765771, 32.7918913], [-116.9766535, 32.7932614], [-116.9766512, 32.7941125], [-116.9768368, 32.7949514], [-116.9759953, 32.7956872], [-116.9755157, 32.7957469], [-116.9750579, 32.795916], [-116.974166, 32.7966183], [-116.9732987, 32.7976922], [-116.9713162, 32.7990398], [-116.9710536, 32.7991841], [-116.9710536, 32.7990376], [-116.9710536, 32.798847], [-116.9707865, 32.7979362], [-116.9702178, 32.7973669], [-116.9687668, 32.795739], [-116.96817, 32.7957379], [-116.966614, 32.7975405], [-116.9656165, 32.79649], [-116.964798, 32.796101], [-116.9645664, 32.7959136], [-116.963971, 32.7952373], [-116.9635718, 32.7949446], [-116.962936, 32.792694], [-116.962334, 32.7919928], [-116.96077, 32.790588], [-116.960373, 32.790596], [-116.960037, 32.790203], [-116.9599732, 32.7888725], [-116.9576141, 32.7879648], [-116.9572051, 32.787663], [-116.9572316, 32.7857885], [-116.955383, 32.784119], [-116.956223, 32.784122], [-116.957733, 32.782631], [-116.958733, 32.781223], [-116.9590063, 32.7803491], [-116.9599397, 32.7803474], [-116.960503, 32.7802209], [-116.9615796, 32.7792685], [-116.9622997, 32.7792803], [-116.963966, 32.777523], [-116.963966, 32.776146], [-116.965469, 32.776928], [-116.967712, 32.775654], [-116.9679224, 32.774136], [-116.970688, 32.774078], [-116.97184, 32.775593], [-116.972443, 32.77639], [-116.97393, 32.777401], [-116.9752626, 32.7772376], [-116.974823, 32.777664], [-116.974251, 32.779205]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;5&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 7214}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.1009065, 32.9979972, -117.0800946, 33.0142374], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.0868552, 33.0001234], [-117.087013, 33.001884], [-117.0905415, 33.0020515], [-117.0915348, 33.0014277], [-117.093788, 32.998886], [-117.095169, 33.001602], [-117.098068, 32.999165], [-117.098221, 32.99931], [-117.098343, 33.000458], [-117.1008844, 33.0021515], [-117.1009065, 33.0022947], [-117.0979863, 33.0036811], [-117.0973384, 33.0049221], [-117.0972611, 33.0050235], [-117.0969224, 33.0055288], [-117.0961945, 33.008398], [-117.0963514, 33.0088457], [-117.0989466, 33.0111468], [-117.0991034, 33.0113627], [-117.0954805, 33.0131269], [-117.0954989, 33.0134085], [-117.0951049, 33.0136935], [-117.0946491, 33.0138485], [-117.0936103, 33.0140141], [-117.0925775, 33.0141695], [-117.0922165, 33.0142374], [-117.0914274, 33.01408], [-117.0911401, 33.014095], [-117.0909333, 33.0140953], [-117.0906662, 33.0141014], [-117.0904204, 33.0141085], [-117.0901819, 33.0141154], [-117.0899331, 33.0141213], [-117.0897787, 33.0140332], [-117.0894238, 33.0138211], [-117.0882155, 33.013454], [-117.0871123, 33.0134419], [-117.0861906, 33.013467], [-117.0859424, 33.0133232], [-117.0846006, 33.0131574], [-117.0822973, 33.0118404], [-117.0807313, 33.0121451], [-117.0800946, 33.0122888], [-117.0805368, 33.012055], [-117.0807366, 33.0120125], [-117.081988, 33.0117743], [-117.082573, 33.008518], [-117.082481, 33.006451], [-117.082443, 33.005585], [-117.082619, 33.004032], [-117.083023, 33.003265], [-117.083214, 33.002773], [-117.083313, 33.002491], [-117.083344, 33.001492], [-117.084328, 32.999691], [-117.085604, 32.9991865], [-117.086327, 32.998249], [-117.0881546, 32.9979972], [-117.087321, 32.9988071], [-117.0868552, 33.0001234]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;6&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 12884}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.227364, 33.1790911, -117.197729, 33.201027], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.2145397, 33.1919367], [-117.211884, 33.1957872], [-117.211906, 33.196793], [-117.211884, 33.19701], [-117.21154, 33.1996104], [-117.21196, 33.200825], [-117.212021, 33.201027], [-117.211739, 33.200932], [-117.2109596, 33.1995222], [-117.2044763, 33.1977413], [-117.2039956, 33.1980131], [-117.201828, 33.195793], [-117.200157, 33.193867], [-117.1982329, 33.1929455], [-117.199081, 33.18821], [-117.198799, 33.18771], [-117.197729, 33.1859091], [-117.200043, 33.186565], [-117.206363, 33.1866219], [-117.2082507, 33.1809369], [-117.2085542, 33.1807137], [-117.2097573, 33.1790911], [-117.2138527, 33.1819474], [-117.2173904, 33.1819544], [-117.2181577, 33.1825117], [-117.2185847, 33.1827643], [-117.2190826, 33.18298], [-117.2242385, 33.1859581], [-117.227112, 33.189999], [-117.227364, 33.190266], [-117.222237, 33.194389], [-117.221931, 33.194405], [-117.22097, 33.194542], [-117.2145397, 33.1919367]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;7&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 15239}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.187073, 32.827925, -117.1617727, 32.8455127], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.175133, 32.840275], [-117.1737479, 32.8389857], [-117.172623, 32.836609], [-117.172203, 32.835899], [-117.1691168, 32.833418], [-117.1688834, 32.8333722], [-117.1686995, 32.8333443], [-117.1673793, 32.8330984], [-117.165153, 32.8334461], [-117.163841, 32.834656], [-117.163138, 32.8341088], [-117.162717, 32.8337373], [-117.1617727, 32.8325919], [-117.1631209, 32.8313266], [-117.1633226, 32.8313253], [-117.1638174, 32.8312792], [-117.1646456, 32.8312211], [-117.1706024, 32.8314585], [-117.1713757, 32.8316154], [-117.1748566, 32.8306578], [-117.1757808, 32.8284705], [-117.175789, 32.827925], [-117.178787, 32.828743], [-117.179703, 32.829437], [-117.182533, 32.831223], [-117.182762, 32.831585], [-117.186241, 32.835258], [-117.187073, 32.836018], [-117.186241, 32.837059], [-117.185493, 32.837482], [-117.18457, 32.838066], [-117.181572, 32.838867], [-117.1842719, 32.8449316], [-117.1855396, 32.845092], [-117.1839164, 32.8454983], [-117.1838422, 32.8455127], [-117.1815196, 32.8447432], [-117.177927, 32.84507], [-117.176689, 32.842461], [-117.176277, 32.841827], [-117.175133, 32.840275]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;8&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 13750}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-116.9929286, 32.802177, -116.967751, 32.822383], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-116.9848322, 32.8070821], [-116.987427, 32.811386], [-116.988869, 32.817619], [-116.9889981, 32.8188785], [-116.989375, 32.8209457], [-116.982559, 32.821789], [-116.980429, 32.82232], [-116.9802265, 32.8223484], [-116.9780261, 32.822383], [-116.9777226, 32.8223132], [-116.9765854, 32.821228], [-116.9739703, 32.8179913], [-116.9726882, 32.8168516], [-116.971024, 32.8155758], [-116.9696667, 32.8142731], [-116.9677536, 32.8128572], [-116.967751, 32.812313], [-116.967751, 32.8120028], [-116.9700101, 32.8077937], [-116.9717081, 32.806194], [-116.9736054, 32.8048477], [-116.9742131, 32.8041742], [-116.9744718, 32.8039362], [-116.9748849, 32.8036982], [-116.9769769, 32.8023193], [-116.977493, 32.802315], [-116.978554, 32.802311], [-116.979553, 32.802303], [-116.980492, 32.802299], [-116.982101, 32.802177], [-116.983253, 32.804131], [-116.9843495, 32.8058694], [-116.9929286, 32.8036153], [-116.9848128, 32.8069041], [-116.9848322, 32.8070821]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;9&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 7195}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.0522009, 32.7454066, -117.029068, 32.766242], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.0311321, 32.7545883], [-117.032463, 32.75404], [-117.0327866, 32.7507638], [-117.03269, 32.7497306], [-117.0344173, 32.7478221], [-117.0361177, 32.7455998], [-117.0361633, 32.7455172], [-117.0373001, 32.7454409], [-117.0377874, 32.7454066], [-117.0393167, 32.746292], [-117.042807, 32.7464132], [-117.0431719, 32.7466842], [-117.0437653, 32.7469867], [-117.0453666, 32.7478124], [-117.0455893, 32.7478135], [-117.0460181, 32.7483331], [-117.0477109, 32.75024], [-117.048119, 32.75024], [-117.048576, 32.750244], [-117.048729, 32.750244], [-117.049187, 32.750252], [-117.049187, 32.751114], [-117.049171, 32.751953], [-117.0505527, 32.7549146], [-117.0513788, 32.7549379], [-117.0519382, 32.7548409], [-117.0522009, 32.7548545], [-117.0521605, 32.7551689], [-117.0521487, 32.7552935], [-117.050629, 32.757969], [-117.049713, 32.758492], [-117.048653, 32.7598], [-117.0469982, 32.7605054], [-117.0457711, 32.7616304], [-117.044449, 32.762638], [-117.043007, 32.764286], [-117.042084, 32.764271], [-117.039391, 32.765907], [-117.038361, 32.765907], [-117.0375417, 32.766242], [-117.0369458, 32.7657895], [-117.0339658, 32.764256], [-117.0327046, 32.7631239], [-117.0326373, 32.7630897], [-117.030777, 32.763115], [-117.029488, 32.763165], [-117.029068, 32.761971], [-117.0292367, 32.7607277], [-117.02916, 32.757683], [-117.029289, 32.757607], [-117.030212, 32.755341], [-117.0311321, 32.7545883]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;10&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 9133}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.0046616, 32.6362108, -116.9778418, 32.652988], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-116.992447, 32.647518], [-116.989616, 32.647858], [-116.988838, 32.648594], [-116.989723, 32.652988], [-116.9844163, 32.6521125], [-116.982033, 32.65081], [-116.980827, 32.650669], [-116.9802093, 32.6488337], [-116.9790928, 32.6478983], [-116.9778418, 32.6468762], [-116.978409, 32.646473], [-116.9807361, 32.6420263], [-116.9807591, 32.6418985], [-116.9815545, 32.6416511], [-116.9824108, 32.6417209], [-116.9834576, 32.6414403], [-116.9843408, 32.641257], [-116.9873446, 32.6402127], [-116.9896478, 32.6379735], [-116.9898114, 32.6378985], [-116.9911496, 32.638105], [-116.9939094, 32.6376205], [-116.9949217, 32.6370972], [-116.9979215, 32.6362108], [-116.9984895, 32.6363084], [-116.9998247, 32.6365376], [-116.9999974, 32.6365672], [-117.0001013, 32.6365884], [-117.0007321, 32.6371645], [-117.0009538, 32.6393935], [-117.002953, 32.642284], [-117.0035026, 32.6428078], [-117.003448, 32.643143], [-117.0046616, 32.6466047], [-117.0038215, 32.6473007], [-117.0027538, 32.647262], [-116.9999836, 32.6480386], [-116.999161, 32.651436], [-116.997421, 32.65015], [-116.996536, 32.649994], [-116.995461, 32.648746], [-116.992447, 32.647518]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;11&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 7609}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.0920454, 32.606613, -117.0624917, 32.6305832], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.067902, 32.622162], [-117.0682152, 32.6220746], [-117.0687876, 32.6171986], [-117.067459, 32.617039], [-117.0679844, 32.6146999], [-117.067741, 32.614063], [-117.0681359, 32.6130488], [-117.069099, 32.61179], [-117.070862, 32.609364], [-117.071457, 32.608124], [-117.075378, 32.606613], [-117.0762694, 32.607199], [-117.0780302, 32.6073632], [-117.0780981, 32.607344], [-117.0804742, 32.6081633], [-117.0815846, 32.6085703], [-117.0818091, 32.6086111], [-117.083366, 32.609695], [-117.086166, 32.610825], [-117.0880206, 32.611268], [-117.0892474, 32.6118361], [-117.0900844, 32.6123338], [-117.091947, 32.6129591], [-117.091942, 32.6130628], [-117.091927, 32.613373], [-117.0919222, 32.6145682], [-117.0920454, 32.6149537], [-117.0920397, 32.6153993], [-117.0911298, 32.6177965], [-117.091331, 32.620903], [-117.0896147, 32.6232115], [-117.0893075, 32.6234096], [-117.088074, 32.624332], [-117.0875768, 32.626157], [-117.0870743, 32.6264908], [-117.0859623, 32.6286449], [-117.085377, 32.6293836], [-117.0848251, 32.6305405], [-117.0847825, 32.6305832], [-117.0847463, 32.6305657], [-117.0832485, 32.6297627], [-117.0800563, 32.6300928], [-117.0774, 32.629143], [-117.076813, 32.629223], [-117.074917, 32.6285334], [-117.0741127, 32.6283285], [-117.0737974, 32.6282132], [-117.073463, 32.627773], [-117.070793, 32.626625], [-117.069397, 32.626034], [-117.069069, 32.625175], [-117.065804, 32.623631], [-117.065079, 32.62384], [-117.064133, 32.624107], [-117.0624917, 32.6232509], [-117.0634839, 32.6232196], [-117.063797, 32.623196], [-117.0641541, 32.6231348], [-117.0676411, 32.6222358], [-117.067902, 32.622162]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;12&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 14873}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-116.960342, 32.792027, -116.931343, 32.8152217], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-116.9348784, 32.806404], [-116.9336457, 32.803944], [-116.931343, 32.803944], [-116.9320312, 32.8020574], [-116.9335896, 32.8010994], [-116.9343281, 32.800175], [-116.9356712, 32.7989175], [-116.9369401, 32.7981774], [-116.9379853, 32.7976262], [-116.9393765, 32.7960501], [-116.9401336, 32.7954718], [-116.9408691, 32.7947086], [-116.9410998, 32.7942859], [-116.94136, 32.794083], [-116.9429812, 32.7935722], [-116.944603, 32.792027], [-116.9455529, 32.792809], [-116.9456823, 32.7929634], [-116.9465594, 32.7936138], [-116.9482456, 32.7948824], [-116.9484365, 32.7950069], [-116.950753, 32.7948927], [-116.9509734, 32.7948937], [-116.9523704, 32.7961953], [-116.9536632, 32.7967575], [-116.9549057, 32.7983449], [-116.9566942, 32.799838], [-116.957283, 32.800877], [-116.9581586, 32.8016405], [-116.960342, 32.803802], [-116.9603383, 32.8044089], [-116.9603375, 32.8045392], [-116.960333, 32.805268], [-116.960332, 32.8054297], [-116.960327, 32.805866], [-116.9591497, 32.8076093], [-116.9586154, 32.8078895], [-116.9581576, 32.8081022], [-116.9559245, 32.8095682], [-116.955254, 32.810127], [-116.9540599, 32.8101243], [-116.952209, 32.810978], [-116.9512926, 32.8133381], [-116.9512948, 32.8135605], [-116.9507316, 32.8133324], [-116.9479246, 32.8133617], [-116.946907, 32.8137769], [-116.946327, 32.8138535], [-116.9446341, 32.8152217], [-116.9419359, 32.8135261], [-116.9414163, 32.8133689], [-116.940163, 32.8124052], [-116.9387046, 32.8115255], [-116.9378951, 32.810669], [-116.9357343, 32.8091736], [-116.9342789, 32.8076388], [-116.9348784, 32.806404]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;13&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 7205}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-116.8679891, 32.9307017, -116.8449877, 32.951154], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-116.8529955, 32.940278], [-116.8534703, 32.9398838], [-116.856506, 32.937344], [-116.8592058, 32.9324024], [-116.8618512, 32.9307017], [-116.8631479, 32.9326377], [-116.8679891, 32.9364528], [-116.8663739, 32.939914], [-116.8658972, 32.941165], [-116.8637338, 32.9415211], [-116.8634227, 32.9416816], [-116.8610736, 32.9443101], [-116.859707, 32.947117], [-116.8597179, 32.9493078], [-116.858577, 32.9505187], [-116.8574304, 32.9506362], [-116.8560098, 32.951154], [-116.8567213, 32.9469462], [-116.854342, 32.9447447], [-116.8478098, 32.9470298], [-116.8449877, 32.9456482], [-116.8474755, 32.9426163], [-116.8479717, 32.9420389], [-116.8529955, 32.940278]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;14&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 9706}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-116.993652, 32.622378, -116.9718825, 32.642521], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-116.9846024, 32.6399598], [-116.9831822, 32.6398117], [-116.9822297, 32.6400916], [-116.9801474, 32.641516], [-116.980083, 32.6416198], [-116.9775228, 32.6414887], [-116.976349, 32.642082], [-116.975403, 32.642521], [-116.975021, 32.642204], [-116.9741328, 32.6403691], [-116.9749779, 32.6382274], [-116.9738657, 32.6337644], [-116.9721345, 32.6322413], [-116.9720948, 32.6320787], [-116.9720899, 32.6294472], [-116.9720794, 32.6291294], [-116.9718916, 32.62795], [-116.9718825, 32.6272824], [-116.9723995, 32.6259746], [-116.972412, 32.6253476], [-116.9724925, 32.6247513], [-116.9735004, 32.6246118], [-116.9766203, 32.6234009], [-116.9783546, 32.6232441], [-116.9789186, 32.6231381], [-116.9823709, 32.6241278], [-116.9845537, 32.6224384], [-116.9848458, 32.622378], [-116.9891813, 32.6235075], [-116.9921172, 32.627245], [-116.9927913, 32.6281125], [-116.9931923, 32.6287468], [-116.993652, 32.629185], [-116.992729, 32.6299543], [-116.991841, 32.6312922], [-116.991112, 32.6349117], [-116.9909189, 32.6364928], [-116.9911496, 32.638105], [-116.9909396, 32.639295], [-116.9908787, 32.6394926], [-116.9897169, 32.6391742], [-116.9873409, 32.639289], [-116.9863137, 32.6394358], [-116.9846024, 32.6399598]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;15&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 7624}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.191223, 32.6804873, -117.163619, 32.7042488], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.1762749, 32.7004244], [-117.1750835, 32.7000969], [-117.1729768, 32.7001596], [-117.1716318, 32.6998733], [-117.1697394, 32.6991891], [-117.1687088, 32.6989732], [-117.1675285, 32.6978025], [-117.1669387, 32.6970258], [-117.1663179, 32.6949005], [-117.1662215, 32.6947169], [-117.1656512, 32.6931555], [-117.163619, 32.6888711], [-117.1665482, 32.6849407], [-117.1664259, 32.6845724], [-117.1682048, 32.6830197], [-117.1693708, 32.6820594], [-117.1737372, 32.6829503], [-117.1745835, 32.6822811], [-117.1763926, 32.6812094], [-117.1765412, 32.6810771], [-117.1768851, 32.6807419], [-117.1770158, 32.6805866], [-117.1770994, 32.6804873], [-117.1788277, 32.6805017], [-117.1796259, 32.6805017], [-117.1811015, 32.6823961], [-117.183113, 32.683456], [-117.184486, 32.684204], [-117.185303, 32.684635], [-117.187119, 32.685627], [-117.189598, 32.686733], [-117.190262, 32.687019], [-117.190701, 32.687196], [-117.191223, 32.688652], [-117.1912, 32.688755], [-117.189789, 32.691017], [-117.190468, 32.693916], [-117.188828, 32.696785], [-117.1889897, 32.6977771], [-117.1895655, 32.698886], [-117.1898785, 32.7005785], [-117.1897792, 32.7007432], [-117.1882628, 32.7017778], [-117.1866317, 32.7022758], [-117.1847037, 32.7041594], [-117.1841778, 32.7042488], [-117.1823108, 32.7035068], [-117.1816597, 32.7033071], [-117.180153, 32.702042], [-117.179604, 32.701817], [-117.179039, 32.701576], [-117.177948, 32.701111], [-117.177393, 32.700886], [-117.176849, 32.700657], [-117.1762749, 32.7004244]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;16&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 7924}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.1509602, 32.632775, -117.1399458, 32.6522358], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.144814, 32.645435], [-117.1445055, 32.6449055], [-117.142118, 32.6432693], [-117.1417232, 32.6427201], [-117.1417232, 32.6425611], [-117.1415262, 32.6371407], [-117.1410597, 32.6355545], [-117.1407702, 32.6351649], [-117.140244, 32.634457], [-117.1401943, 32.6339367], [-117.139974, 32.6329728], [-117.1399458, 32.6328904], [-117.1403762, 32.632775], [-117.1413853, 32.6349372], [-117.1420943, 32.636365], [-117.1426577, 32.6375921], [-117.1444062, 32.6408189], [-117.1444697, 32.6426261], [-117.145203, 32.644489], [-117.1488265, 32.6483497], [-117.1496295, 32.6506449], [-117.150145, 32.6512464], [-117.1509602, 32.6521445], [-117.1507077, 32.6522358], [-117.1486742, 32.6508165], [-117.145737, 32.649532], [-117.145363, 32.647129], [-117.144814, 32.645435]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;17&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 7926}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.0446037, 32.7265561, -117.016346, 32.748767], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.017227, 32.740269], [-117.017464, 32.739742], [-117.0169217, 32.737934], [-117.016346, 32.7363164], [-117.016724, 32.734627], [-117.0181919, 32.7344243], [-117.019287, 32.73185], [-117.02137, 32.730755], [-117.022827, 32.728996], [-117.023491, 32.728996], [-117.024467, 32.729004], [-117.0256846, 32.7274449], [-117.0267143, 32.7265561], [-117.028809, 32.726673], [-117.031883, 32.727459], [-117.031891, 32.727829], [-117.032784, 32.729321], [-117.0353769, 32.7286106], [-117.0357493, 32.728152], [-117.037552, 32.729721], [-117.038277, 32.729716], [-117.039749, 32.731651], [-117.038254, 32.733875], [-117.040154, 32.735287], [-117.040497, 32.735279], [-117.041512, 32.735256], [-117.040169, 32.73804], [-117.0416397, 32.7388578], [-117.0428819, 32.7384687], [-117.0440669, 32.7388397], [-117.0444006, 32.7388391], [-117.0446037, 32.7388387], [-117.0428723, 32.7403078], [-117.0407161, 32.741599], [-117.0403865, 32.742543], [-117.0401603, 32.7426577], [-117.0393435, 32.7430459], [-117.038116, 32.744484], [-117.0372433, 32.7461152], [-117.0353681, 32.7463098], [-117.0351838, 32.7464091], [-117.0333014, 32.7471783], [-117.032563, 32.7475114], [-117.0322697, 32.7477094], [-117.031303, 32.74799], [-117.030173, 32.748767], [-117.0291775, 32.7483], [-117.0267334, 32.7483368], [-117.0259299, 32.7478252], [-117.0235301, 32.7473073], [-117.0218165, 32.746019], [-117.0191833, 32.7463602], [-117.019035, 32.7464798], [-117.018593, 32.746223], [-117.0189935, 32.7449502], [-117.018655, 32.7440507], [-117.0177545, 32.7415541], [-117.0174725, 32.7410001], [-117.017227, 32.740269]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;18&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 9777}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.0154892, 32.700523, -116.98877, 32.722054], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.0117036, 32.7091773], [-117.0126467, 32.712199], [-117.0154892, 32.7146474], [-117.0136942, 32.7170875], [-117.0105296, 32.7190176], [-117.0081118, 32.719458], [-117.005638, 32.720985], [-117.003593, 32.7214701], [-117.0017784, 32.7214178], [-117.0015082, 32.7213688], [-116.997147, 32.722054], [-116.9950197, 32.720132], [-116.99324, 32.718426], [-116.991302, 32.716618], [-116.98877, 32.714787], [-116.989601, 32.710438], [-116.9916, 32.707977], [-116.9922616, 32.7073509], [-116.9932665, 32.7067771], [-116.994164, 32.705952], [-116.996353, 32.704132], [-116.998941, 32.701662], [-117.0002532, 32.7012165], [-117.002113, 32.700523], [-117.002876, 32.700539], [-117.004143, 32.700562], [-117.0121451, 32.7031593], [-117.0123703, 32.7029241], [-117.0111441, 32.7077119], [-117.0114201, 32.7084381], [-117.0116253, 32.708978], [-117.0117036, 32.7091773]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;19&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 9643}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.132736, 32.6868677, -117.1041548, 32.7105323], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.1209391, 32.6893555], [-117.122017, 32.690109], [-117.1247903, 32.6898773], [-117.1266963, 32.6902962], [-117.1268719, 32.6910171], [-117.1294564, 32.6928201], [-117.1315901, 32.6949479], [-117.132736, 32.695934], [-117.131653, 32.69698], [-117.1316824, 32.7011695], [-117.129494, 32.703266], [-117.1273739, 32.7048544], [-117.1257093, 32.706429], [-117.1248124, 32.70653], [-117.124144, 32.7066976], [-117.1225614, 32.7085797], [-117.1197651, 32.7079557], [-117.118736, 32.708515], [-117.116577, 32.7105323], [-117.11657, 32.709991], [-117.11657, 32.709476], [-117.11657, 32.7089738], [-117.11657, 32.708496], [-117.1145777, 32.7052289], [-117.1114106, 32.7059078], [-117.1098393, 32.7048375], [-117.1080589, 32.7033594], [-117.1080609, 32.70334], [-117.108093, 32.702766], [-117.1075282, 32.7013148], [-117.106194, 32.700531], [-117.1052402, 32.6984978], [-117.1041548, 32.6960662], [-117.1045201, 32.6956978], [-117.1054119, 32.6951177], [-117.10601, 32.694099], [-117.1067879, 32.6933063], [-117.108124, 32.69236], [-117.1100333, 32.6909473], [-117.1101998, 32.690861], [-117.112106, 32.688717], [-117.1125999, 32.6883815], [-117.112984, 32.687962], [-117.1133781, 32.6875624], [-117.1173325, 32.6868677], [-117.1186981, 32.6878093], [-117.1188772, 32.6879323], [-117.120369, 32.688957], [-117.1206497, 32.6891532], [-117.1209391, 32.6893555]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;20&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 13766}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.109238, 32.6907346, -117.0769236, 32.7179635], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.1028544, 32.6996219], [-117.104691, 32.699837], [-117.106194, 32.700531], [-117.106308, 32.700901], [-117.1080814, 32.702441], [-117.1084468, 32.7033618], [-117.109238, 32.704826], [-117.1069746, 32.7070894], [-117.1060633, 32.7079927], [-117.102829, 32.709652], [-117.101246, 32.7114588], [-117.099564, 32.7122], [-117.097839, 32.714329], [-117.095703, 32.715069], [-117.094658, 32.716766], [-117.0935774, 32.7179635], [-117.0929799, 32.7174867], [-117.0903863, 32.7150346], [-117.089939, 32.7124], [-117.0870211, 32.711492], [-117.0857379, 32.7119877], [-117.085084, 32.7123858], [-117.084373, 32.711559], [-117.0831432, 32.7106672], [-117.0831056, 32.7106549], [-117.080711, 32.708588], [-117.0795094, 32.7086227], [-117.0778916, 32.7080845], [-117.0769482, 32.7075091], [-117.0769236, 32.7043291], [-117.0773599, 32.7040198], [-117.0786907, 32.7018087], [-117.079269, 32.700367], [-117.0810392, 32.7006717], [-117.082497, 32.700317], [-117.0850313, 32.6981035], [-117.0849152, 32.6967461], [-117.085114, 32.6964415], [-117.0868898, 32.696595], [-117.089447, 32.694519], [-117.090302, 32.693592], [-117.091118, 32.693596], [-117.0937616, 32.6917101], [-117.0940787, 32.6907346], [-117.0977961, 32.6935477], [-117.0981228, 32.6934887], [-117.0985523, 32.6946534], [-117.0998211, 32.6956293], [-117.1013003, 32.696849], [-117.1028544, 32.6996219]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;21&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 13741}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.1459642, 32.733856, -117.117451, 32.761017], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.143723, 32.748436], [-117.144402, 32.750293], [-117.143761, 32.752163], [-117.1431494, 32.7521669], [-117.1419318, 32.7540344], [-117.141283, 32.7546475], [-117.1408893, 32.7553448], [-117.1400589, 32.7558971], [-117.1388284, 32.7569617], [-117.1382198, 32.7572485], [-117.137604, 32.757252], [-117.1369779, 32.757256], [-117.135768, 32.759129], [-117.135132, 32.759132], [-117.1347579, 32.759133], [-117.133293, 32.761009], [-117.13266, 32.761013], [-117.132042, 32.761017], [-117.1301811, 32.759405], [-117.1295731, 32.7591595], [-117.1295743, 32.7584376], [-117.1283312, 32.75729], [-117.127708, 32.75729], [-117.126457, 32.7559271], [-117.1258639, 32.7559322], [-117.1249587, 32.7553817], [-117.1238364, 32.7534372], [-117.122963, 32.75333], [-117.1216131, 32.7515905], [-117.1211557, 32.7515867], [-117.120502, 32.7515812], [-117.119881, 32.751576], [-117.119263, 32.7515708], [-117.1177581, 32.7497541], [-117.117451, 32.7497521], [-117.118073, 32.7478853], [-117.1187198, 32.7460202], [-117.119713, 32.743835], [-117.120903, 32.741959], [-117.1212495, 32.741961], [-117.12178, 32.741962], [-117.1233973, 32.741024], [-117.1235582, 32.741024], [-117.123917, 32.741024], [-117.123993, 32.741024], [-117.1255646, 32.7392554], [-117.126068, 32.739258], [-117.1266298, 32.7392578], [-117.12822, 32.737442], [-117.1288024, 32.7365648], [-117.1298655, 32.735641], [-117.1299178, 32.7356408], [-117.130386, 32.735638], [-117.131973, 32.733856], [-117.1330693, 32.733859], [-117.133621, 32.733864], [-117.135986, 32.7351572], [-117.1364899, 32.734729], [-117.1364553, 32.7352442], [-117.1380728, 32.7371234], [-117.1378758, 32.7373884], [-117.1376622, 32.7382823], [-117.1390854, 32.7398308], [-117.140083, 32.741005], [-117.141151, 32.74102], [-117.14225, 32.741035], [-117.14225, 32.741196], [-117.142227, 32.743786], [-117.143707, 32.744358], [-117.144951, 32.745716], [-117.1459642, 32.7464249], [-117.1456999, 32.7464304], [-117.145576, 32.746433], [-117.144958, 32.746437], [-117.143723, 32.748436]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;22&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 13612}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.0769482, 32.69368, -117.050018, 32.71664], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.05323, 32.70731], [-117.0538326, 32.705088], [-117.050018, 32.70256], [-117.050636, 32.702446], [-117.052452, 32.701416], [-117.0549032, 32.6998122], [-117.0570354, 32.6973152], [-117.058197, 32.697075], [-117.059303, 32.696743], [-117.059982, 32.696552], [-117.060417, 32.696426], [-117.060738, 32.696342], [-117.061951, 32.696033], [-117.062424, 32.696026], [-117.065193, 32.694908], [-117.066187, 32.6948571], [-117.067993, 32.69368], [-117.0701429, 32.6951719], [-117.072449, 32.697933], [-117.074913, 32.699417], [-117.074898, 32.700172], [-117.075897, 32.702209], [-117.0759499, 32.7039838], [-117.0764337, 32.7069874], [-117.0769482, 32.7075091], [-117.076605, 32.7092919], [-117.074608, 32.711685], [-117.073959, 32.711678], [-117.07312, 32.71167], [-117.070541, 32.713169], [-117.069031, 32.714718], [-117.067978, 32.71664], [-117.062523, 32.714523], [-117.05896, 32.713158], [-117.058052, 32.71315], [-117.0558204, 32.711517], [-117.0549707, 32.7112964], [-117.054256, 32.7109408], [-117.0542441, 32.7108755], [-117.0542273, 32.7107759], [-117.052963, 32.708832], [-117.05323, 32.70731]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;23&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 13762}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.249603, 32.7083789, -117.2205875, 32.7330637], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.2295371, 32.7183545], [-117.2333345, 32.7150242], [-117.2346771, 32.7142152], [-117.2348095, 32.7141139], [-117.236649, 32.712112], [-117.2367658, 32.7117108], [-117.2371678, 32.710248], [-117.2374172, 32.7093192], [-117.2376721, 32.7083789], [-117.2388602, 32.7086013], [-117.2394302, 32.7087071], [-117.241058, 32.709003], [-117.241882, 32.710171], [-117.244667, 32.714054], [-117.2470102, 32.7169698], [-117.248847, 32.7194743], [-117.2488302, 32.7195404], [-117.2488152, 32.7217968], [-117.249603, 32.724522], [-117.249499, 32.724943], [-117.2474683, 32.7266874], [-117.244122, 32.7297907], [-117.2434878, 32.7298631], [-117.239766, 32.73148], [-117.239166, 32.731628], [-117.238299, 32.731844], [-117.234688, 32.731606], [-117.230476, 32.731312], [-117.2285979, 32.7330637], [-117.225304, 32.730999], [-117.2239543, 32.7308846], [-117.2239203, 32.7307563], [-117.2236672, 32.7281658], [-117.2215542, 32.7260606], [-117.2213884, 32.7257309], [-117.2213563, 32.7254937], [-117.2211035, 32.7193014], [-117.2205875, 32.7189993], [-117.2207472, 32.7179148], [-117.2211921, 32.7176837], [-117.2228164, 32.71606], [-117.2242513, 32.7153136], [-117.2248165, 32.7153329], [-117.2248773, 32.7153891], [-117.2295371, 32.7183545]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;24&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 13568}, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});

        
    
    geo_json_3e19a3a51ba6c576d838939ef53aaaa7.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = [&quot;origin&quot;, &quot;distance&quot;];
    let aliases = [&quot;origin&quot;, &quot;distance&quot;];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{&quot;className&quot;: &quot;foliumtooltip&quot;, &quot;sticky&quot;: true});
                     
    
            geo_json_3e19a3a51ba6c576d838939ef53aaaa7.addTo(map_ca71f01dab755c79e80f5b4beea9d9f8);
        
</script>
</html>" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe></div></div>
</div>
</div>
<p>If we adopt the “neighborhood unit” perspective, it might be reasonable to put a school at the center of the neihborhood, as it would provide equitable access to all residents. In that case, these are your neighborhoods</p>
</section>
<section id="extensions" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="extensions"><span class="header-section-number">8.3</span> Extensions</h2>
<p>One nice thing about this implementation is that it’s indifferent to the structure of the input network. It could be pedestrian-based (which is the most common), but you could also use <a href="https://github.com/UDST/urbanaccess">urbanaccess</a> to create a multimodel network by combining OSM and GTFS data.</p>
<p>Running the above functions on that multimodal network would give a good sense of “baseline” accessibility in a study region. An interested researcher could then make some changes to the GTFS network, say, by increasing bus frequency along a given corridor, then create another combined network and compare results. Who would benefit from such a change, and what might be the net costs?</p>
<p>And thus, the seeds of <strong>open</strong> and <strong>reproducible</strong> <a href="https://www.tandfonline.com/doi/full/10.1080/01944363.2020.1746688">scenario planning</a> have been sown :)</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./segregation_dynamics.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Spatiotemporal Segregation Dynamics</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 <p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><a property="dct:title" rel="cc:attributionURL" href="https://oturns.github.io/geosnap-guide">A Guide to Geosnap</a> by <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://knaaptime.com">elijah knaap</a> is licensed under <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">CC BY-NC-ND 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nd.svg?ref=chooser-v1"></a></p>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>