<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>The Geospatial Neighborhood Analysis Package - 8&nbsp; Pedestrian Travel Isochrones: Visualizing the 20-Minute Neighborhood</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./segregation_dynamics.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./isochrone_example.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Pedestrian Travel Isochrones: Visualizing the 20-Minute Neighborhood</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">The Geospatial Neighborhood Analysis Package</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/oturns/geosnap/" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./The-Geospatial-Neighborhood-Analysis-Package.pdf">
              <i class="bi bi-bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./The-Geospatial-Neighborhood-Analysis-Package.epub">
              <i class="bi bi-bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
    </div>
    <a href="https://twitter.com/intent/tweet?url=|url|" rel="" title="Twitter" class="quarto-navigation-tool px-1" aria-label="Twitter"><i class="bi bi-twitter"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Installation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./datasets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data Sets</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./harmonization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Boundary Harmonization</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./clustering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Geodemographic Clustering</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./regionalization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Geodemographic Regionalization</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Neighborhood Dynamics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./segregation_dynamics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Spatiotemporal Segregation Dynamics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./isochrone_example.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Pedestrian Travel Isochrones: Visualizing the 20-Minute Neighborhood</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#isochrones-for-specified-locations" id="toc-isochrones-for-specified-locations" class="nav-link active" data-scroll-target="#isochrones-for-specified-locations"><span class="header-section-number">8.1</span> Isochrones for Specified Locations</a></li>
  <li><a href="#extensions" id="toc-extensions" class="nav-link" data-scroll-target="#extensions"><span class="header-section-number">8.2</span> Extensions</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.dev/oturns/geosnap/blob/main/isochrone_example.ipynb" class="toc-action">Edit this page</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Pedestrian Travel Isochrones: Visualizing the 20-Minute Neighborhood</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:22.917478Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:22.917020Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:25.734260Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:25.733985Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:22.917449Z&quot;}" data-tags="[]" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>load_ext watermark</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>watermark <span class="op">-</span>a <span class="st">'eli knaap'</span> <span class="op">-</span>v <span class="op">-</span>d <span class="op">-</span>u <span class="op">-</span>p geopandas,geosnap</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>load_ext autoreload</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>autoreload <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Author: eli knaap

Last updated: 2024-01-18

Python implementation: CPython
Python version       : 3.11.0
IPython version      : 8.18.1

geopandas: 0.14.2
geosnap  : 0.12.1.dev9+g3a1cb0f6de61.d20240110
</code></pre>
</div>
</div>
<p>As a package focused on “neighborhoods”, much of the functionality in geosnap is organized around the concept of ‘endogenous’ neighborhoods. That is, it takes a classical perspective on neighborhood formation: a ‘neighborhood’ is defined loosely by its social composition, and the dynamics of residential mobility mean that these neighborhoods can grow, shrink, or transition entirely.</p>
<p>But two alternative concepts of “neighborhood” are also worth considering. The first, posited by social scientists, is that each person or household can be conceptialized as residing in <em>its own</em> neighborhood which extends outward from the person’s household until some threshold distance. This neighborhood represents the boundary inside which we might expect some social interaction to occur with one’s ‘neighbors’. The second is a normative concept advocated by architects, urban designers, and planners (arguably still the goal for <a href="http://www.newurbanism.org">new urbanists</a>): that a neighborhood is <a href="https://en.wikipedia.org/wiki/Neighbourhood_unit">a discrete pocket of infrastructure</a> organized as a small, self-contained economic unit. A common shorthand today is <a href="https://linkinghub.elsevier.com/retrieve/pii/S1361920921004077">the 20 minute neighborhood</a>.</p>
<p><img src="https://upload.wikimedia.org/wikipedia/en/e/e3/New_York_Regional_Survey%2C_Vol_7.jpg?20170410025533" class="img-fluid"></p>
<p><a href="https://upload.wikimedia.org/wikipedia/en/e/e3/New_York_Regional_Survey%2C_Vol_7.jpg?20170410025533" class="uri">https://upload.wikimedia.org/wikipedia/en/e/e3/New_York_Regional_Survey%2C_Vol_7.jpg?20170410025533</a></p>
<p>The difference between these two perspectives is really what defines the origin of the neighborhood (the ‘town center’ or the person’s home), and whether ‘neighborhood’ is universal to all neighbors or unique for each resident. Both of them rely abstractly on the concept of an isochrone: the set of destinations accessible within a specified travel budget. Defining an isochrone is a network routing problem, but its spatial representation is usually given as a polygon that covers the set of locations. That polygon is also sometimes called a walkshed (or *travel shed, depending on the particular mode). For the person at the center of the isochrone, whose “neighborhood” the isochrone represents, the polygon is sometimes conceptualized as an “egohood” or “bespoke neighborhood”.</p>
<p>The trouble with generating isochrones is twofold. First, they are computationally intensive to create. You need to know the shortest path from an origin to all other possible destinations inside the travel threshold, and depending on the density of the network, this can scale masssively. Second, they are not straightforward to present cartographically/visually. The set of destinations reachable within the threshold is technically a set of <em>points</em>. If you’re constrained to a network, then we can usually assume that you also have access to potential locations between discrete destinations. For example if you’re walking along the sidewalk, you can stop at any house along the block until you reach your threshold distance. But sometimes that’s not the case. If you walk to a subway station, you can stop anywhere along the walk–until you get into the subway, then you are stuck traveling in one direction until you reach another station, then you get freedom of mobility again.</p>
<p>The latter case is particularly difficult to represent because it doesnt create a “valid” polygon… there’s a single polygon in the pre-transit zone, then the “accessible zone” collapses to a line (or nothing at all?) before opening back up into a polygon again. Like a barbell. If you take the simple route and just draw a <a href="https://en.wikipedia.org/wiki/Convex_hull">convex hull</a> around the accessible destinations, it will fail to collapse along the line, giving the false impression of much more ‘access’ than is realistic.</p>
<p>But then again, sometimes these off-network spaces are actually traversable. If two network nodes inside the travel threshold are separated by a park, then you can just walk through the park and that should be included in the visualization. If they are separated by a harbor or a mountain, you definitely can’t walk through (ok, maybe you could <em>get</em> through, but not without sacrificing a bit of speed at the very least).</p>
<p>To handle these issues, the isochrones implemented in geosnap take a straightforward approach, achieving a good balance between accuracy and speed. Specifically, we tackle the problem in two stages: first, we use pandana to generate the set nodes accessible from [a set of] destination[s]. Then we wrap an <a href="https://en.wikipedia.org/wiki/Alpha_shape">alpha shape</a> around those destinations to create a tightly-fitted polygon. The alpha shape algorithm implemented in libpysal is also blazing fast, so the approach has worked quite well in all of our applications</p>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:25.735547Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:25.735386Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:25.761681Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:25.761233Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:25.735536Z&quot;}" data-tags="[]" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> geosnap.analyze <span class="im">import</span> isochrones_from_id, isochrones_from_gdf, pdna_to_adj <span class="co"># a singular and a plural</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> geosnap.io <span class="im">import</span> get_acs</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> geosnap <span class="im">import</span> DataStore</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:25.762169Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:25.762083Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:25.789833Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:25.789385Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:25.762160Z&quot;}" data-tags="[]" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandana <span class="im">as</span> pdna</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:25.790400Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:25.790302Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:25.815882Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:25.815459Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:25.790390Z&quot;}" data-tags="[]" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>datasets <span class="op">=</span> DataStore()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To generate a routable network, use <a href="">pandana</a> or <a href="">urbanaccess</a>. Alternatively, you can download one of the metropolitan-scale pedestrian networks for the U.S. from geosnap’s <a href="https://open.quiltdata.com/b/spatial-ucr/tree/osm/metro_networks_8k/">quilt bucket</a>. The files are named for each CBSA fips code and extend 8km beyond the metro region’s borders to help mitigate edge effects. Here, we’ll use the quilt version from the San Diego region.</p>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:25.816527Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:25.816433Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:28.272100Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:28.271824Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:25.816506Z&quot;}" data-tags="[]" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>sd_tracts <span class="op">=</span> get_acs(datasets, county_fips<span class="op">=</span><span class="st">'06073'</span>, years<span class="op">=</span>[<span class="dv">2018</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/knaaptime/Dropbox/projects/geosnap/geosnap/io/constructors.py:215: UserWarning: Currency columns unavailable at this resolution; not adjusting for inflation
  warn(</code></pre>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:28.272737Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:28.272629Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:33.186407Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:33.186091Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:28.272728Z&quot;}" data-tags="[]" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>sd_network <span class="op">=</span> pdna.Network.from_hdf5(<span class="st">"../../geosnap_data/metro_networks_8k/41740.h5"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Generating contraction hierarchies with 10 threads.
Setting CH node vector of size 332554
Setting CH edge vector of size 522484
Range graph removed 143094 edges of 1044968
. 10% . 20% . 30% . 40% . 50% . 60% . 70% . 80% . 90% . 100%</code></pre>
</div>
</div>
<p>To generate a travel isochrone, we have to specify an origin node on the network. For demonstration purposes, we can randomly select an origin from the network’s <code>nodes_df</code> dataframe (or choose a pre-selected example). To get the nodes for a specific set of origins, you can use pandana’s <a href="http://udst.github.io/pandana/network.html#pandana.network.Network.get_node_ids"><code>get_node_ids</code></a> function</p>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:33.188138Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:33.188050Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:33.214896Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:33.214509Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:33.188128Z&quot;}" data-tags="[]" data-execution_count="7">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> random <span class="im">import</span> sample</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:33.215357Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:33.215271Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:33.278507Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:33.278097Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:33.215347Z&quot;}" data-tags="[]" data-execution_count="8">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>random_origin <span class="op">=</span> sample(sd_network.nodes_df.index.unique().tolist(),<span class="dv">1</span>)[<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:33.279349Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:33.279228Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:33.308345Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:33.307846Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:33.279339Z&quot;}" data-tags="[]" data-execution_count="9">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>random_origin</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>54373189</code></pre>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:33.309155Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:33.309052Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:33.338906Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:33.338555Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:33.309146Z&quot;}" data-tags="[]" data-execution_count="10">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>example_origin <span class="op">=</span> <span class="dv">1985327805</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><a href="https://www.nike.com/a/how-long-does-it-take-to-walk-a-mile"><del>Nike</del></a>, er… <a href="https://jamanetwork.com/journals/jamanetworkopen/fullarticle/2752818">this study</a> says that the average person walks about a mile in 20 minutes, so we can define the 20-minute neighborhood for a given household as the 1-mile walkshed from that house. To simplify the computation a little, we say that each house “exists” at it’s nearest intersection</p>
<p>(this is the abstraction <code>pandana</code> typically uses to simplify the problem when using data from OpenStreetMap. There’s nothing prohibiting you from creating an even more realistic version with nodes for each residence, as long as you’re comfortable creating the <a href="https://udst.github.io/pandana/network.html"><code>Network</code></a>)</p>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:33.339562Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:33.339471Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:34.668541Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:34.668204Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:33.339552Z&quot;}" data-tags="[]" data-execution_count="11">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>adj <span class="op">=</span> pdna_to_adj(sd_tracts.set_index(<span class="st">'geoid'</span>), sd_network, threshold<span class="op">=</span><span class="dv">1600</span>, )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/knaaptime/Dropbox/projects/geosnap/geosnap/analyze/network.py:34: UserWarning: Geometry is in a geographic CRS. Results from 'centroid' are likely incorrect. Use 'GeoSeries.to_crs()' to re-project geometries to a projected CRS before this operation.

  node_ids = network.get_node_ids(origins.centroid.x, origins.centroid.y).astype(int)</code></pre>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:34.669012Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:34.668938Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:34.694281Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:34.693811Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:34.669003Z&quot;}" data-tags="[]" data-execution_count="12">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>adj</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">origin</th>
<th data-quarto-table-cell-role="th">destination</th>
<th data-quarto-table-cell-role="th">cost</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>060730001001</td>
<td>060730001001</td>
<td>0.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">136</td>
<td>060730001001</td>
<td>060730001002</td>
<td>987.565979</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">197</td>
<td>060730001001</td>
<td>060730002011</td>
<td>1221.943970</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">240</td>
<td>060730001001</td>
<td>060730002022</td>
<td>1465.890991</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">280</td>
<td>060730001002</td>
<td>060730001002</td>
<td>0.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1036301</td>
<td>060730166072</td>
<td>060730166071</td>
<td>1596.958008</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1036304</td>
<td>060730166073</td>
<td>060730166073</td>
<td>0.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1036489</td>
<td>060730166073</td>
<td>060730166071</td>
<td>932.747009</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1036512</td>
<td>060730166073</td>
<td>060730166072</td>
<td>982.960022</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1036608</td>
<td>060730166073</td>
<td>060730166101</td>
<td>1229.456055</td>
</tr>
</tbody>
</table>

<p>11391 rows × 3 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:34.694994Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:34.694884Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:35.682503Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:35.682107Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:34.694984Z&quot;}" data-tags="[]" data-execution_count="13">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="op">%%</span>time</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>iso <span class="op">=</span> isochrones_from_id(example_origin, sd_network, threshold<span class="op">=</span><span class="dv">1600</span> ) <span class="co"># network is expressed in meters</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/knaaptime/Dropbox/projects/geosnap/geosnap/analyze/network.py:34: UserWarning: Geometry is in a geographic CRS. Results from 'centroid' are likely incorrect. Use 'GeoSeries.to_crs()' to re-project geometries to a projected CRS before this operation.

  node_ids = network.get_node_ids(origins.centroid.x, origins.centroid.y).astype(int)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>CPU times: user 907 ms, sys: 43 ms, total: 950 ms
Wall time: 964 ms</code></pre>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:35.683170Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:35.683070Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:35.805092Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:35.804795Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:35.683161Z&quot;}" data-tags="[]" data-execution_count="14">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>iso.explore()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">

<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -&gt; Trust Notebook</span><iframe srcdoc="<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;></script>
    <script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;></script>
    <script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;></script>
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;></script>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/>
    
            <meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; />
            <style>
                #map_1ea0ab010a3b0e9a6f7a7fe3b4764e72 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
</head>
<body>
    
    
            <div class=&quot;folium-map&quot; id=&quot;map_1ea0ab010a3b0e9a6f7a7fe3b4764e72&quot; ></div>
        
</body>
<script>
    
    
            var map_1ea0ab010a3b0e9a6f7a7fe3b4764e72 = L.map(
                &quot;map_1ea0ab010a3b0e9a6f7a7fe3b4764e72&quot;,
                {
                    center: [33.441641000000004, -117.60211535],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );
            L.control.scale().addTo(map_1ea0ab010a3b0e9a6f7a7fe3b4764e72);

            

        
    
            var tile_layer_02feb75f46a1e6a8980d3fba42efdbce = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_02feb75f46a1e6a8980d3fba42efdbce.addTo(map_1ea0ab010a3b0e9a6f7a7fe3b4764e72);
        
    
            map_1ea0ab010a3b0e9a6f7a7fe3b4764e72.fitBounds(
                [[33.4352644, -117.6149627], [33.4480176, -117.589268]],
                {}
            );
        
    
        function geo_json_ef9cdf259de36b97514ed88bf5ecbdb1_styler(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.5, &quot;weight&quot;: 2};
            }
        }
        function geo_json_ef9cdf259de36b97514ed88bf5ecbdb1_highlighter(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.75};
            }
        }
        function geo_json_ef9cdf259de36b97514ed88bf5ecbdb1_pointToLayer(feature, latlng) {
            var opts = {&quot;bubblingMouseEvents&quot;: true, &quot;color&quot;: &quot;#3388ff&quot;, &quot;dashArray&quot;: null, &quot;dashOffset&quot;: null, &quot;fill&quot;: true, &quot;fillColor&quot;: &quot;#3388ff&quot;, &quot;fillOpacity&quot;: 0.2, &quot;fillRule&quot;: &quot;evenodd&quot;, &quot;lineCap&quot;: &quot;round&quot;, &quot;lineJoin&quot;: &quot;round&quot;, &quot;opacity&quot;: 1.0, &quot;radius&quot;: 2, &quot;stroke&quot;: true, &quot;weight&quot;: 3};
            
            let style = geo_json_ef9cdf259de36b97514ed88bf5ecbdb1_styler(feature)
            Object.assign(opts, style)
            
            return new L.CircleMarker(latlng, opts)
        }

        function geo_json_ef9cdf259de36b97514ed88bf5ecbdb1_onEachFeature(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        geo_json_ef9cdf259de36b97514ed88bf5ecbdb1.resetStyle(e.target);
                    }
                },
                mouseover: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        const highlightStyle = geo_json_ef9cdf259de36b97514ed88bf5ecbdb1_highlighter(e.target.feature)
                        e.target.setStyle(highlightStyle);
                    }
                },
            });
        };
        var geo_json_ef9cdf259de36b97514ed88bf5ecbdb1 = L.geoJson(null, {
                onEachFeature: geo_json_ef9cdf259de36b97514ed88bf5ecbdb1_onEachFeature,
            
                style: geo_json_ef9cdf259de36b97514ed88bf5ecbdb1_styler,
                pointToLayer: geo_json_ef9cdf259de36b97514ed88bf5ecbdb1_pointToLayer,
        });

        function geo_json_ef9cdf259de36b97514ed88bf5ecbdb1_add (data) {
            geo_json_ef9cdf259de36b97514ed88bf5ecbdb1
                .addData(data);
        }
            geo_json_ef9cdf259de36b97514ed88bf5ecbdb1_add({&quot;bbox&quot;: [-117.6149627, 33.4352644, -117.589268, 33.4480176], &quot;features&quot;: [{&quot;bbox&quot;: [-117.6149627, 33.4352644, -117.589268, 33.4480176], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.5922923, 33.4440509], [-117.5902135, 33.443599], [-117.589268, 33.4412214], [-117.5911919, 33.4369492], [-117.5911683, 33.4356881], [-117.5920085, 33.4353402], [-117.5928484, 33.4352644], [-117.5947469, 33.4363226], [-117.5974836, 33.4376435], [-117.5978631, 33.4377787], [-117.5991264, 33.438542], [-117.5994683, 33.4388998], [-117.6019739, 33.4401361], [-117.602542, 33.440207], [-117.6063877, 33.4417727], [-117.6088133, 33.4426619], [-117.6143231, 33.4425595], [-117.6148579, 33.4429227], [-117.6149627, 33.4433759], [-117.6147933, 33.4435268], [-117.6143171, 33.4439418], [-117.6136147, 33.4445241], [-117.6130065, 33.4450274], [-117.6067391, 33.443218], [-117.6060505, 33.4435429], [-117.6047276, 33.4444191], [-117.6023689, 33.4480176], [-117.6007767, 33.4473405], [-117.600112, 33.4467148], [-117.5976987, 33.445126], [-117.5976053, 33.4450649], [-117.5934028, 33.4445491], [-117.5922923, 33.4440509]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600}, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});

        
    
    geo_json_ef9cdf259de36b97514ed88bf5ecbdb1.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = [&quot;distance&quot;];
    let aliases = [&quot;distance&quot;];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{&quot;className&quot;: &quot;foliumtooltip&quot;, &quot;sticky&quot;: true});
                     
    
            geo_json_ef9cdf259de36b97514ed88bf5ecbdb1.addTo(map_1ea0ab010a3b0e9a6f7a7fe3b4764e72);
        
</script>
</html>" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe></div></div>
</div>
</div>
<p>We can also look at how the isochrone or bespoke neighborhood changes size and shape as we consider alternative travel thresholds. Because of the underlying network configuration, changing the threshold often results in some areas of the “neighborhood” changing more than others</p>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:35.805776Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:35.805576Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:36.419404Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:36.418954Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:35.805766Z&quot;}" data-tags="[]" data-execution_count="15">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="op">%%</span>time</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>iso_multiple <span class="op">=</span> isochrones_from_id(example_origin, sd_network, threshold<span class="op">=</span>[<span class="dv">1600</span>, <span class="dv">2400</span>, <span class="dv">3200</span>]  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/knaaptime/Dropbox/projects/geosnap/geosnap/analyze/network.py:34: UserWarning: Geometry is in a geographic CRS. Results from 'centroid' are likely incorrect. Use 'GeoSeries.to_crs()' to re-project geometries to a projected CRS before this operation.

  node_ids = network.get_node_ids(origins.centroid.x, origins.centroid.y).astype(int)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>CPU times: user 574 ms, sys: 13.3 ms, total: 587 ms
Wall time: 591 ms</code></pre>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:36.420038Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:36.419940Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:36.469064Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:36.468604Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:36.420029Z&quot;}" data-tags="[]" data-execution_count="16">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>iso_multiple.explore(<span class="st">'distance'</span>, cmap<span class="op">=</span><span class="st">'Blues_r'</span>, style_kwds<span class="op">=</span>{<span class="st">'fillOpacity'</span>:<span class="fl">0.5</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">

<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -&gt; Trust Notebook</span><iframe srcdoc="<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;></script>
    <script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;></script>
    <script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;></script>
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;></script>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/>
    
            <meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; />
            <style>
                #map_47eaa0279c97221386bb67b6a62e99ad {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js&quot;></script>
</head>
<body>
    
    
            <div class=&quot;folium-map&quot; id=&quot;map_47eaa0279c97221386bb67b6a62e99ad&quot; ></div>
        
</body>
<script>
    
    
            var map_47eaa0279c97221386bb67b6a62e99ad = L.map(
                &quot;map_47eaa0279c97221386bb67b6a62e99ad&quot;,
                {
                    center: [33.44471355, -117.6080777],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );
            L.control.scale().addTo(map_47eaa0279c97221386bb67b6a62e99ad);

            

        
    
            var tile_layer_f2697b417a35921c9e1fc25fa7428cbf = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_f2697b417a35921c9e1fc25fa7428cbf.addTo(map_47eaa0279c97221386bb67b6a62e99ad);
        
    
            map_47eaa0279c97221386bb67b6a62e99ad.fitBounds(
                [[33.4316456, -117.6296676], [33.4577815, -117.5864878]],
                {}
            );
        
    
        function geo_json_c7c8841598aefce5375b58ec1940c9d0_styler(feature) {
            switch(feature.id) {
                case &quot;0&quot;: 
                    return {&quot;color&quot;: &quot;#f7fbff&quot;, &quot;fillColor&quot;: &quot;#f7fbff&quot;, &quot;fillOpacity&quot;: 0.5, &quot;weight&quot;: 2};
                case &quot;1&quot;: 
                    return {&quot;color&quot;: &quot;#6aaed6&quot;, &quot;fillColor&quot;: &quot;#6aaed6&quot;, &quot;fillOpacity&quot;: 0.5, &quot;weight&quot;: 2};
                default:
                    return {&quot;color&quot;: &quot;#08306b&quot;, &quot;fillColor&quot;: &quot;#08306b&quot;, &quot;fillOpacity&quot;: 0.5, &quot;weight&quot;: 2};
            }
        }
        function geo_json_c7c8841598aefce5375b58ec1940c9d0_highlighter(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.75};
            }
        }
        function geo_json_c7c8841598aefce5375b58ec1940c9d0_pointToLayer(feature, latlng) {
            var opts = {&quot;bubblingMouseEvents&quot;: true, &quot;color&quot;: &quot;#3388ff&quot;, &quot;dashArray&quot;: null, &quot;dashOffset&quot;: null, &quot;fill&quot;: true, &quot;fillColor&quot;: &quot;#3388ff&quot;, &quot;fillOpacity&quot;: 0.2, &quot;fillRule&quot;: &quot;evenodd&quot;, &quot;lineCap&quot;: &quot;round&quot;, &quot;lineJoin&quot;: &quot;round&quot;, &quot;opacity&quot;: 1.0, &quot;radius&quot;: 2, &quot;stroke&quot;: true, &quot;weight&quot;: 3};
            
            let style = geo_json_c7c8841598aefce5375b58ec1940c9d0_styler(feature)
            Object.assign(opts, style)
            
            return new L.CircleMarker(latlng, opts)
        }

        function geo_json_c7c8841598aefce5375b58ec1940c9d0_onEachFeature(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        geo_json_c7c8841598aefce5375b58ec1940c9d0.resetStyle(e.target);
                    }
                },
                mouseover: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        const highlightStyle = geo_json_c7c8841598aefce5375b58ec1940c9d0_highlighter(e.target.feature)
                        e.target.setStyle(highlightStyle);
                    }
                },
            });
        };
        var geo_json_c7c8841598aefce5375b58ec1940c9d0 = L.geoJson(null, {
                onEachFeature: geo_json_c7c8841598aefce5375b58ec1940c9d0_onEachFeature,
            
                style: geo_json_c7c8841598aefce5375b58ec1940c9d0_styler,
                pointToLayer: geo_json_c7c8841598aefce5375b58ec1940c9d0_pointToLayer,
        });

        function geo_json_c7c8841598aefce5375b58ec1940c9d0_add (data) {
            geo_json_c7c8841598aefce5375b58ec1940c9d0
                .addData(data);
        }
            geo_json_c7c8841598aefce5375b58ec1940c9d0_add({&quot;bbox&quot;: [-117.6296676, 33.4316456, -117.5864878, 33.4577815], &quot;features&quot;: [{&quot;bbox&quot;: [-117.6296676, 33.4316456, -117.5864878, 33.4577815], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.6205959, 33.4487158], [-117.6169474, 33.4548918], [-117.6170647, 33.4553937], [-117.610578, 33.4577815], [-117.6051136, 33.4563097], [-117.6026985, 33.4566246], [-117.6007086, 33.4562777], [-117.6005742, 33.4561531], [-117.5970613, 33.4548119], [-117.5933689, 33.4548953], [-117.5932592, 33.4536074], [-117.5917638, 33.450897], [-117.5893511, 33.4488665], [-117.5875558, 33.4483779], [-117.5866261, 33.4480416], [-117.5864878, 33.4450285], [-117.587352, 33.442573], [-117.589211, 33.4357379], [-117.5920085, 33.4353402], [-117.5928484, 33.4352644], [-117.5947469, 33.4363226], [-117.5974836, 33.4376435], [-117.5978631, 33.4377787], [-117.6045653, 33.4347411], [-117.6063035, 33.4334535], [-117.6118103, 33.4316456], [-117.6135399, 33.4321773], [-117.6153462, 33.4326979], [-117.6236808, 33.432922], [-117.624246, 33.4331313], [-117.6243415, 33.4331667], [-117.6248074, 33.4333725], [-117.6283422, 33.4349441], [-117.6296294, 33.4352739], [-117.6286599, 33.4375677], [-117.6289376, 33.4453136], [-117.6296241, 33.4463649], [-117.6296676, 33.4472622], [-117.6279876, 33.4474355], [-117.6253664, 33.4483436], [-117.6219617, 33.4482325], [-117.6205959, 33.4487158]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#f7fbff&quot;, &quot;distance&quot;: 3200}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.6233869, 33.4352644, -117.587352, 33.4525801], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.6217629, 33.4390662], [-117.6219705, 33.4391651], [-117.623246, 33.4420319], [-117.6233869, 33.4424896], [-117.6227349, 33.4426848], [-117.6226689, 33.4426627], [-117.6216345, 33.4418807], [-117.6168839, 33.4425642], [-117.6149627, 33.4433759], [-117.6147933, 33.4435268], [-117.6143171, 33.4439418], [-117.6136147, 33.4445241], [-117.6130065, 33.4450274], [-117.6094625, 33.4492287], [-117.6098624, 33.4522038], [-117.6097734, 33.4522571], [-117.6084776, 33.4513246], [-117.6032073, 33.4513898], [-117.602932, 33.451654], [-117.6013687, 33.4525801], [-117.5993361, 33.4524836], [-117.5964797, 33.4483588], [-117.5927503, 33.4504672], [-117.5917583, 33.4507698], [-117.5916688, 33.4492373], [-117.5910642, 33.4449815], [-117.5874904, 33.4439894], [-117.587352, 33.442573], [-117.589268, 33.4412214], [-117.5899642, 33.4406589], [-117.5911919, 33.4369492], [-117.5911683, 33.4356881], [-117.5920085, 33.4353402], [-117.5928484, 33.4352644], [-117.5947469, 33.4363226], [-117.5974836, 33.4376435], [-117.5978631, 33.4377787], [-117.5991264, 33.438542], [-117.5994683, 33.4388998], [-117.6006623, 33.4397387], [-117.6011842, 33.4399465], [-117.6019739, 33.4401361], [-117.602542, 33.440207], [-117.6063877, 33.4417727], [-117.6100232, 33.4378104], [-117.6104282, 33.4379023], [-117.6134554, 33.4369881], [-117.6159928, 33.4373648], [-117.6202437, 33.4392753], [-117.6217629, 33.4390662]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;1&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#6aaed6&quot;, &quot;distance&quot;: 2400}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.6149627, 33.4352644, -117.589268, 33.4480176], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.5922923, 33.4440509], [-117.5902135, 33.443599], [-117.589268, 33.4412214], [-117.5911919, 33.4369492], [-117.5911683, 33.4356881], [-117.5920085, 33.4353402], [-117.5928484, 33.4352644], [-117.5947469, 33.4363226], [-117.5974836, 33.4376435], [-117.5978631, 33.4377787], [-117.5991264, 33.438542], [-117.5994683, 33.4388998], [-117.6019739, 33.4401361], [-117.602542, 33.440207], [-117.6063877, 33.4417727], [-117.6088133, 33.4426619], [-117.6143231, 33.4425595], [-117.6148579, 33.4429227], [-117.6149627, 33.4433759], [-117.6147933, 33.4435268], [-117.6143171, 33.4439418], [-117.6136147, 33.4445241], [-117.6130065, 33.4450274], [-117.6067391, 33.443218], [-117.6060505, 33.4435429], [-117.6047276, 33.4444191], [-117.6023689, 33.4480176], [-117.6007767, 33.4473405], [-117.600112, 33.4467148], [-117.5976987, 33.445126], [-117.5976053, 33.4450649], [-117.5934028, 33.4445491], [-117.5922923, 33.4440509]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;2&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#08306b&quot;, &quot;distance&quot;: 1600}, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});

        
    
    geo_json_c7c8841598aefce5375b58ec1940c9d0.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = [&quot;distance&quot;];
    let aliases = [&quot;distance&quot;];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{&quot;className&quot;: &quot;foliumtooltip&quot;, &quot;sticky&quot;: true});
                     
    
            geo_json_c7c8841598aefce5375b58ec1940c9d0.addTo(map_47eaa0279c97221386bb67b6a62e99ad);
        
    
    var color_map_800237323d0ab8da6132fc3731f7c020 = {};

    
    color_map_800237323d0ab8da6132fc3731f7c020.color = d3.scale.threshold()
              .domain([1600.0, 1603.2064128256513, 1606.4128256513027, 1609.6192384769538, 1612.8256513026051, 1616.0320641282565, 1619.2384769539078, 1622.4448897795592, 1625.6513026052105, 1628.8577154308616, 1632.064128256513, 1635.2705410821643, 1638.4769539078156, 1641.683366733467, 1644.8897795591183, 1648.0961923847694, 1651.3026052104208, 1654.5090180360721, 1657.7154308617235, 1660.9218436873748, 1664.1282565130261, 1667.3346693386773, 1670.5410821643286, 1673.74749498998, 1676.9539078156313, 1680.1603206412826, 1683.366733466934, 1686.573146292585, 1689.7795591182364, 1692.9859719438878, 1696.192384769539, 1699.3987975951904, 1702.6052104208418, 1705.811623246493, 1709.0180360721442, 1712.2244488977956, 1715.430861723447, 1718.6372745490983, 1721.8436873747496, 1725.0501002004007, 1728.256513026052, 1731.4629258517034, 1734.6693386773547, 1737.875751503006, 1741.0821643286572, 1744.2885771543085, 1747.4949899799599, 1750.7014028056112, 1753.9078156312626, 1757.114228456914, 1760.3206412825652, 1763.5270541082164, 1766.7334669338677, 1769.939879759519, 1773.1462925851704, 1776.3527054108217, 1779.5591182364728, 1782.7655310621242, 1785.9719438877755, 1789.1783567134269, 1792.3847695390782, 1795.5911823647295, 1798.797595190381, 1802.004008016032, 1805.2104208416833, 1808.4168336673347, 1811.623246492986, 1814.8296593186374, 1818.0360721442885, 1821.2424849699398, 1824.4488977955912, 1827.6553106212425, 1830.8617234468938, 1834.0681362725452, 1837.2745490981963, 1840.4809619238476, 1843.687374749499, 1846.8937875751503, 1850.1002004008017, 1853.306613226453, 1856.5130260521041, 1859.7194388777555, 1862.9258517034068, 1866.1322645290581, 1869.3386773547095, 1872.5450901803606, 1875.751503006012, 1878.9579158316633, 1882.1643286573146, 1885.370741482966, 1888.5771543086173, 1891.7835671342687, 1894.9899799599198, 1898.196392785571, 1901.4028056112224, 1904.6092184368738, 1907.8156312625251, 1911.0220440881762, 1914.2284569138276, 1917.434869739479, 1920.6412825651303, 1923.8476953907816, 1927.054108216433, 1930.2605210420843, 1933.4669338677354, 1936.6733466933867, 1939.879759519038, 1943.0861723446894, 1946.2925851703408, 1949.4989979959919, 1952.7054108216432, 1955.9118236472946, 1959.118236472946, 1962.3246492985973, 1965.5310621242484, 1968.7374749499, 1971.943887775551, 1975.1503006012024, 1978.3567134268537, 1981.563126252505, 1984.7695390781564, 1987.9759519038075, 1991.1823647294589, 1994.3887775551102, 1997.5951903807616, 2000.801603206413, 2004.008016032064, 2007.2144288577153, 2010.4208416833667, 2013.627254509018, 2016.8336673346694, 2020.0400801603207, 2023.246492985972, 2026.4529058116232, 2029.6593186372745, 2032.8657314629259, 2036.0721442885772, 2039.2785571142285, 2042.4849699398796, 2045.691382765531, 2048.8977955911823, 2052.104208416834, 2055.310621242485, 2058.517034068136, 2061.7234468937877, 2064.929859719439, 2068.1362725450904, 2071.3426853707415, 2074.5490981963926, 2077.755511022044, 2080.9619238476953, 2084.168336673347, 2087.374749498998, 2090.581162324649, 2093.7875751503007, 2096.9939879759518, 2100.2004008016033, 2103.4068136272545, 2106.613226452906, 2109.819639278557, 2113.0260521042082, 2116.23246492986, 2119.438877755511, 2122.645290581162, 2125.8517034068136, 2129.058116232465, 2132.2645290581163, 2135.4709418837674, 2138.677354709419, 2141.88376753507, 2145.090180360721, 2148.296593186373, 2151.503006012024, 2154.7094188376755, 2157.9158316633266, 2161.122244488978, 2164.3286573146293, 2167.5350701402804, 2170.741482965932, 2173.947895791583, 2177.1543086172346, 2180.3607214428857, 2183.5671342685373, 2186.7735470941884, 2189.9799599198395, 2193.186372745491, 2196.392785571142, 2199.5991983967933, 2202.805611222445, 2206.0120240480965, 2209.2184368737476, 2212.4248496993987, 2215.6312625250503, 2218.8376753507014, 2222.0440881763525, 2225.250501002004, 2228.456913827655, 2231.6633266533067, 2234.869739478958, 2238.0761523046094, 2241.2825651302605, 2244.4889779559117, 2247.695390781563, 2250.9018036072143, 2254.108216432866, 2257.314629258517, 2260.5210420841686, 2263.7274549098197, 2266.933867735471, 2270.1402805611224, 2273.3466933867735, 2276.5531062124246, 2279.759519038076, 2282.9659318637273, 2286.172344689379, 2289.37875751503, 2292.5851703406815, 2295.7915831663327, 2298.9979959919838, 2302.2044088176353, 2305.4108216432865, 2308.617234468938, 2311.823647294589, 2315.0300601202407, 2318.236472945892, 2321.442885771543, 2324.6492985971945, 2327.8557114228456, 2331.0621242484967, 2334.2685370741483, 2337.4749498998, 2340.681362725451, 2343.887775551102, 2347.0941883767537, 2350.300601202405, 2353.507014028056, 2356.7134268537075, 2359.9198396793586, 2363.12625250501, 2366.3326653306613, 2369.539078156313, 2372.745490981964, 2375.951903807615, 2379.1583166332666, 2382.3647294589177, 2385.5711422845693, 2388.7775551102204, 2391.983967935872, 2395.190380761523, 2398.396793587174, 2401.603206412826, 2404.809619238477, 2408.016032064128, 2411.2224448897796, 2414.4288577154307, 2417.6352705410823, 2420.8416833667334, 2424.048096192385, 2427.254509018036, 2430.460921843687, 2433.6673346693387, 2436.87374749499, 2440.0801603206414, 2443.2865731462925, 2446.492985971944, 2449.699398797595, 2452.9058116232463, 2456.112224448898, 2459.318637274549, 2462.5250501002, 2465.7314629258517, 2468.9378757515033, 2472.1442885771544, 2475.3507014028055, 2478.557114228457, 2481.763527054108, 2484.9699398797593, 2488.176352705411, 2491.382765531062, 2494.5891783567135, 2497.7955911823647, 2501.0020040080162, 2504.2084168336673, 2507.4148296593185, 2510.62124248497, 2513.827655310621, 2517.0340681362727, 2520.240480961924, 2523.4468937875754, 2526.6533066132265, 2529.8597194388776, 2533.066132264529, 2536.2725450901803, 2539.4789579158314, 2542.685370741483, 2545.891783567134, 2549.0981963927857, 2552.304609218437, 2555.5110220440883, 2558.7174348697395, 2561.9238476953906, 2565.130260521042, 2568.3366733466933, 2571.543086172345, 2574.749498997996, 2577.9559118236475, 2581.1623246492986, 2584.3687374749497, 2587.5751503006013, 2590.7815631262524, 2593.9879759519035, 2597.194388777555, 2600.4008016032067, 2603.607214428858, 2606.813627254509, 2610.0200400801605, 2613.2264529058116, 2616.4328657314627, 2619.6392785571143, 2622.8456913827654, 2626.0521042084165, 2629.258517034068, 2632.4649298597196, 2635.6713426853707, 2638.877755511022, 2642.0841683366734, 2645.2905811623245, 2648.4969939879757, 2651.703406813627, 2654.909819639279, 2658.11623246493, 2661.322645290581, 2664.5290581162326, 2667.7354709418837, 2670.941883767535, 2674.1482965931864, 2677.354709418838, 2680.561122244489, 2683.76753507014, 2686.9739478957918, 2690.180360721443, 2693.386773547094, 2696.5931863727455, 2699.799599198397, 2703.006012024048, 2706.2124248496993, 2709.418837675351, 2712.625250501002, 2715.831663326653, 2719.0380761523047, 2722.244488977956, 2725.450901803607, 2728.6573146292585, 2731.86372745491, 2735.070140280561, 2738.2765531062123, 2741.482965931864, 2744.689378757515, 2747.895791583166, 2751.1022044088177, 2754.3086172344692, 2757.5150300601204, 2760.7214428857715, 2763.927855711423, 2767.134268537074, 2770.3406813627253, 2773.547094188377, 2776.753507014028, 2779.959919839679, 2783.1663326653306, 2786.372745490982, 2789.5791583166333, 2792.7855711422844, 2795.991983967936, 2799.198396793587, 2802.404809619238, 2805.61122244489, 2808.8176352705414, 2812.0240480961925, 2815.2304609218436, 2818.436873747495, 2821.6432865731463, 2824.8496993987974, 2828.056112224449, 2831.2625250501005, 2834.468937875751, 2837.6753507014027, 2840.8817635270543, 2844.0881763527054, 2847.2945891783565, 2850.501002004008, 2853.7074148296592, 2856.9138276553103, 2860.120240480962, 2863.3266533066135, 2866.5330661322646, 2869.7394789579157, 2872.9458917835673, 2876.1523046092184, 2879.3587174348695, 2882.565130260521, 2885.7715430861726, 2888.9779559118238, 2892.184368737475, 2895.3907815631264, 2898.5971943887776, 2901.8036072144287, 2905.0100200400802, 2908.216432865732, 2911.4228456913825, 2914.629258517034, 2917.8356713426856, 2921.0420841683367, 2924.248496993988, 2927.4549098196394, 2930.6613226452905, 2933.8677354709416, 2937.074148296593, 2940.2805611222448, 2943.486973947896, 2946.693386773547, 2949.8997995991986, 2953.1062124248497, 2956.312625250501, 2959.5190380761524, 2962.725450901804, 2965.9318637274546, 2969.138276553106, 2972.3446893787577, 2975.551102204409, 2978.75751503006, 2981.9639278557115, 2985.1703406813626, 2988.3767535070137, 2991.5831663326653, 2994.789579158317, 2997.995991983968, 3001.202404809619, 3004.4088176352707, 3007.615230460922, 3010.821643286573, 3014.0280561122245, 3017.234468937876, 3020.440881763527, 3023.6472945891783, 3026.85370741483, 3030.060120240481, 3033.266533066132, 3036.4729458917836, 3039.679358717435, 3042.885771543086, 3046.0921843687374, 3049.298597194389, 3052.50501002004, 3055.7114228456912, 3058.917835671343, 3062.124248496994, 3065.330661322645, 3068.5370741482966, 3071.743486973948, 3074.9498997995993, 3078.1563126252504, 3081.362725450902, 3084.569138276553, 3087.775551102204, 3090.9819639278558, 3094.1883767535073, 3097.394789579158, 3100.6012024048096, 3103.807615230461, 3107.0140280561122, 3110.2204408817634, 3113.426853707415, 3116.633266533066, 3119.839679358717, 3123.0460921843687, 3126.2525050100203, 3129.4589178356714, 3132.6653306613225, 3135.871743486974, 3139.078156312625, 3142.2845691382763, 3145.490981963928, 3148.6973947895794, 3151.9038076152306, 3155.1102204408817, 3158.3166332665332, 3161.5230460921844, 3164.7294589178355, 3167.935871743487, 3171.1422845691386, 3174.3486973947893, 3177.555110220441, 3180.7615230460924, 3183.9679358717435, 3187.1743486973946, 3190.380761523046, 3193.5871743486973, 3196.7935871743484, 3200.0])
              .range(['#08306bff', '#08306cff', '#08316dff', '#08316dff', '#08326eff', '#08326fff', '#083370ff', '#083371ff', '#083471ff', '#083472ff', '#083573ff', '#083574ff', '#083674ff', '#083675ff', '#083776ff', '#083777ff', '#083877ff', '#083878ff', '#083979ff', '#08397aff', '#083a7aff', '#083a7bff', '#083b7cff', '#083b7dff', '#083c7eff', '#083d7fff', '#083d80ff', '#083e81ff', '#083e81ff', '#083f82ff', '#084083ff', '#084184ff', '#084184ff', '#084285ff', '#084286ff', '#084387ff', '#084387ff', '#084488ff', '#084489ff', '#08458aff', '#08458aff', '#08468bff', '#08468cff', '#08478dff', '#08478eff', '#08488eff', '#08488fff', '#084990ff', '#084991ff', '#084a91ff', '#084a92ff', '#084b93ff', '#084b94ff', '#084c95ff', '#084c96ff', '#084d96ff', '#084d97ff', '#084e98ff', '#084e99ff', '#084f99ff', '#084f9aff', '#08509bff', '#08509cff', '#08519cff', '#08529dff', '#09529dff', '#09539eff', '#0a539eff', '#0a549eff', '#0a549eff', '#0a559fff', '#0b559fff', '#0b56a0ff', '#0c56a0ff', '#0c57a1ff', '#0d57a1ff', '#0d58a2ff', '#0e58a2ff', '#0e59a2ff', '#0e59a3ff', '#0e5aa3ff', '#0f5aa4ff', '#0f5ba4ff', '#105ba5ff', '#105ca5ff', '#115ca6ff', '#125da6ff', '#125da6ff', '#125ea6ff', '#125ea7ff', '#135fa7ff', '#135fa8ff', '#1460a8ff', '#1460a9ff', '#1561a9ff', '#1561a9ff', '#1562a9ff', '#1562aaff', '#1663aaff', '#1663abff', '#1764abff', '#1765acff', '#1865acff', '#1866adff', '#1966adff', '#1967adff', '#1967adff', '#1968aeff', '#1a68aeff', '#1a69afff', '#1b69afff', '#1b6ab0ff', '#1c6ab0ff', '#1c6bb0ff', '#1c6bb0ff', '#1c6cb1ff', '#1d6cb1ff', '#1d6db2ff', '#1e6db2ff', '#1e6eb3ff', '#1f6eb4ff', '#1f6fb4ff', '#206fb4ff', '#2070b4ff', '#2070b5ff', '#2171b5ff', '#2171b6ff', '#2272b6ff', '#2272b6ff', '#2373b6ff', '#2373b7ff', '#2474b7ff', '#2474b7ff', '#2575b7ff', '#2575b8ff', '#2676b8ff', '#2676b8ff', '#2777b8ff', '#2878b9ff', '#2979b9ff', '#297ab9ff', '#2a7ab9ff', '#2a7bbaff', '#2b7bbaff', '#2b7cbaff', '#2c7cbaff', '#2c7dbbff', '#2d7dbbff', '#2d7ebcff', '#2e7ebcff', '#2e7fbcff', '#2f7fbcff', '#2f80bdff', '#3080bdff', '#3081bdff', '#3181bdff', '#3182beff', '#3282beff', '#3283beff', '#3383beff', '#3384bfff', '#3484bfff', '#3485bfff', '#3585c0ff', '#3686c0ff', '#3686c0ff', '#3787c0ff', '#3787c1ff', '#3888c1ff', '#3888c1ff', '#3989c1ff', '#3989c2ff', '#3a8ac2ff', '#3a8ac2ff', '#3b8bc2ff', '#3b8bc3ff', '#3c8cc3ff', '#3c8dc4ff', '#3d8dc4ff', '#3d8ec4ff', '#3e8ec4ff', '#3e8fc5ff', '#3f8fc5ff', '#3f90c5ff', '#4090c5ff', '#4091c6ff', '#4191c6ff', '#4192c6ff', '#4292c6ff', '#4393c7ff', '#4493c7ff', '#4494c7ff', '#4594c7ff', '#4595c8ff', '#4695c8ff', '#4796c8ff', '#4896c8ff', '#4897c9ff', '#4997c9ff', '#4998c9ff', '#4a98c9ff', '#4b98caff', '#4b98caff', '#4c99caff', '#4d99cbff', '#4e9acbff', '#4e9acbff', '#4f9bcbff', '#4f9bccff', '#509cccff', '#519cccff', '#529dccff', '#529dcdff', '#539ecdff', '#539ecdff', '#549fcdff', '#55a0ceff', '#56a0ceff', '#56a0ceff', '#57a0ceff', '#57a1cfff', '#58a1cfff', '#59a2cfff', '#5aa2cfff', '#5aa3d0ff', '#5ba3d0ff', '#5ba4d0ff', '#5ca4d0ff', '#5ca5d1ff', '#5da5d1ff', '#5ea6d1ff', '#5fa6d1ff', '#5fa7d2ff', '#60a7d2ff', '#60a7d2ff', '#61a7d2ff', '#62a8d3ff', '#63a8d3ff', '#64a9d3ff', '#64a9d3ff', '#65aad4ff', '#65aad4ff', '#66abd4ff', '#66abd5ff', '#67acd5ff', '#68acd5ff', '#69add5ff', '#69add6ff', '#6aaed6ff', '#6aaed6ff', '#6baed6ff', '#6caed7ff', '#6dafd7ff', '#6eafd7ff', '#6fb0d7ff', '#70b1d7ff', '#71b1d7ff', '#71b2d8ff', '#72b2d8ff', '#73b3d8ff', '#74b3d8ff', '#74b4d8ff', '#75b4d8ff', '#76b5d9ff', '#77b5d9ff', '#78b5d9ff', '#79b5d9ff', '#79b6d9ff', '#7ab6d9ff', '#7bb7daff', '#7cb7daff', '#7cb8daff', '#7db8daff', '#7eb9daff', '#7fb9daff', '#80badbff', '#81badbff', '#82bbdbff', '#82bbdbff', '#83bcdbff', '#84bcdbff', '#85bcdcff', '#85bcdcff', '#86bddcff', '#87bddcff', '#88bedcff', '#89beddff', '#8abfddff', '#8abfddff', '#8bc0ddff', '#8cc0ddff', '#8dc1ddff', '#8dc1deff', '#8fc2deff', '#90c3deff', '#91c3deff', '#91c4deff', '#92c4deff', '#93c4dfff', '#94c4dfff', '#94c5dfff', '#95c5dfff', '#96c6dfff', '#97c6dfff', '#98c7e0ff', '#99c7e0ff', '#99c8e0ff', '#9ac8e0ff', '#9bc9e1ff', '#9cc9e1ff', '#9dcae1ff', '#9dcae1ff', '#9ecae1ff', '#9fcae1ff', '#a0cbe2ff', '#a0cbe2ff', '#a1cbe2ff', '#a1cbe2ff', '#a2cce3ff', '#a3cce3ff', '#a4cce3ff', '#a4cce3ff', '#a5cde3ff', '#a5cde3ff', '#a6cee4ff', '#a6cee4ff', '#a7cee4ff', '#a8cee4ff', '#a9cfe5ff', '#a9cfe5ff', '#aacfe5ff', '#aacfe6ff', '#abd0e6ff', '#acd0e6ff', '#add0e6ff', '#add1e7ff', '#aed1e7ff', '#aed1e7ff', '#afd1e7ff', '#afd2e7ff', '#b0d2e7ff', '#b1d2e8ff', '#b2d2e8ff', '#b2d3e8ff', '#b3d3e8ff', '#b4d3e9ff', '#b4d3e9ff', '#b5d4e9ff', '#b5d4e9ff', '#b6d4eaff', '#b7d4eaff', '#b8d5eaff', '#b8d5eaff', '#b9d6eaff', '#b9d6eaff', '#bad6ebff', '#bad6ebff', '#bbd7ebff', '#bcd7ebff', '#bdd7ecff', '#bdd7ecff', '#bed8ecff', '#bed8ecff', '#bfd8edff', '#bfd8edff', '#c0d9edff', '#c1d9edff', '#c2d9eeff', '#c2d9eeff', '#c3daeeff', '#c3daeeff', '#c4daeeff', '#c4daefff', '#c5dbefff', '#c6dbefff', '#c7dbefff', '#c7dcefff', '#c7dcefff', '#c7dcf0ff', '#c8dcf0ff', '#c8ddf0ff', '#c9ddf0ff', '#c9ddf0ff', '#caddf0ff', '#cadef0ff', '#cadef0ff', '#cbdef1ff', '#cbdef1ff', '#ccdff1ff', '#ccdff1ff', '#cddff1ff', '#cddff1ff', '#cde0f1ff', '#cde0f1ff', '#cee0f2ff', '#cee0f2ff', '#cfe1f2ff', '#cfe1f2ff', '#d0e1f2ff', '#d0e1f2ff', '#d0e2f2ff', '#d0e2f2ff', '#d1e2f3ff', '#d1e2f3ff', '#d2e3f3ff', '#d2e3f3ff', '#d3e3f3ff', '#d3e3f3ff', '#d3e4f3ff', '#d3e4f3ff', '#d4e4f4ff', '#d4e4f4ff', '#d5e5f4ff', '#d5e5f4ff', '#d6e5f4ff', '#d6e5f4ff', '#d6e6f4ff', '#d6e6f5ff', '#d7e6f5ff', '#d7e7f5ff', '#d8e7f5ff', '#d8e7f5ff', '#d9e7f5ff', '#d9e8f5ff', '#d9e8f5ff', '#dae8f6ff', '#dae8f6ff', '#dbe9f6ff', '#dbe9f6ff', '#dce9f6ff', '#dce9f6ff', '#dceaf6ff', '#dceaf6ff', '#ddeaf7ff', '#ddeaf7ff', '#deebf7ff', '#deebf7ff', '#dfebf7ff', '#dfebf7ff', '#dfecf7ff', '#dfecf7ff', '#e0ecf8ff', '#e0ecf8ff', '#e1edf8ff', '#e1edf8ff', '#e2edf8ff', '#e2edf8ff', '#e3eef8ff', '#e3eef8ff', '#e3eef9ff', '#e3eef9ff', '#e4eff9ff', '#e4eff9ff', '#e5eff9ff', '#e5eff9ff', '#e6f0f9ff', '#e6f0faff', '#e7f0faff', '#e7f0faff', '#e7f1faff', '#e7f1faff', '#e8f1faff', '#e9f2faff', '#e9f2faff', '#eaf2fbff', '#eaf2fbff', '#eaf3fbff', '#eaf3fbff', '#ebf3fbff', '#ebf3fbff', '#ecf4fbff', '#ecf4fbff', '#edf4fcff', '#edf4fcff', '#eef5fcff', '#eef5fcff', '#eef5fcff', '#eef5fcff', '#eff6fcff', '#eff6fcff', '#f0f6fdff', '#f0f6fdff', '#f1f7fdff', '#f1f7fdff', '#f2f7fdff', '#f2f7fdff', '#f2f8fdff', '#f2f8fdff', '#f3f8feff', '#f3f8feff', '#f4f9feff', '#f4f9feff', '#f5f9feff', '#f5f9feff', '#f5fafeff', '#f5fafeff', '#f6faffff', '#f6faffff', '#f7fbffff', '#f7fbffff']);
    

    color_map_800237323d0ab8da6132fc3731f7c020.x = d3.scale.linear()
              .domain([1600.0, 3200.0])
              .range([0, 450 - 50]);

    color_map_800237323d0ab8da6132fc3731f7c020.legend = L.control({position: 'topright'});
    color_map_800237323d0ab8da6132fc3731f7c020.legend.onAdd = function (map) {var div = L.DomUtil.create('div', 'legend'); return div};
    color_map_800237323d0ab8da6132fc3731f7c020.legend.addTo(map_47eaa0279c97221386bb67b6a62e99ad);

    color_map_800237323d0ab8da6132fc3731f7c020.xAxis = d3.svg.axis()
        .scale(color_map_800237323d0ab8da6132fc3731f7c020.x)
        .orient(&quot;top&quot;)
        .tickSize(1)
        .tickValues([1600.0, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 1763.1372549019607, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 1926.2745098039215, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 2089.4117647058824, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 2252.549019607843, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 2415.6862745098038, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 2578.823529411765, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 2741.9607843137255, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 2905.098039215686, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 3068.235294117647, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '']);

    color_map_800237323d0ab8da6132fc3731f7c020.svg = d3.select(&quot;.legend.leaflet-control&quot;).append(&quot;svg&quot;)
        .attr(&quot;id&quot;, 'legend')
        .attr(&quot;width&quot;, 450)
        .attr(&quot;height&quot;, 40);

    color_map_800237323d0ab8da6132fc3731f7c020.g = color_map_800237323d0ab8da6132fc3731f7c020.svg.append(&quot;g&quot;)
        .attr(&quot;class&quot;, &quot;key&quot;)
        .attr(&quot;transform&quot;, &quot;translate(25,16)&quot;);

    color_map_800237323d0ab8da6132fc3731f7c020.g.selectAll(&quot;rect&quot;)
        .data(color_map_800237323d0ab8da6132fc3731f7c020.color.range().map(function(d, i) {
          return {
            x0: i ? color_map_800237323d0ab8da6132fc3731f7c020.x(color_map_800237323d0ab8da6132fc3731f7c020.color.domain()[i - 1]) : color_map_800237323d0ab8da6132fc3731f7c020.x.range()[0],
            x1: i < color_map_800237323d0ab8da6132fc3731f7c020.color.domain().length ? color_map_800237323d0ab8da6132fc3731f7c020.x(color_map_800237323d0ab8da6132fc3731f7c020.color.domain()[i]) : color_map_800237323d0ab8da6132fc3731f7c020.x.range()[1],
            z: d
          };
        }))
      .enter().append(&quot;rect&quot;)
        .attr(&quot;height&quot;, 40 - 30)
        .attr(&quot;x&quot;, function(d) { return d.x0; })
        .attr(&quot;width&quot;, function(d) { return d.x1 - d.x0; })
        .style(&quot;fill&quot;, function(d) { return d.z; });

    color_map_800237323d0ab8da6132fc3731f7c020.g.call(color_map_800237323d0ab8da6132fc3731f7c020.xAxis).append(&quot;text&quot;)
        .attr(&quot;class&quot;, &quot;caption&quot;)
        .attr(&quot;y&quot;, 21)
        .text(&quot;distance&quot;);
</script>
</html>" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe></div></div>
</div>
</div>
<p>In this example it’s easy to see how the road network topology makes it easier to travel in some directions more than others. Greenspace squeezes the western portion of the 1600m (20 min) isochrone into a horizontal pattern along Calle del Cerro, but the 2400m (30 minute) isochrone opens north-south tavel again along Avienda Pico, providing access to two other pockets of development, including San Clemente High School</p>
<p>We can also compare the network-based isochrone to the as-the-crow-flies approximation given by a euclidean buffer. If we didn’t have access to network data, this would be our best estimate of the shape and extent of the 20-minute neighborhood.</p>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:36.469591Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:36.469509Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:36.702099Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:36.701701Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:36.469582Z&quot;}" data-tags="[]" data-execution_count="17">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>sd_network.nodes_df[<span class="st">'geometry'</span>] <span class="op">=</span> gpd.points_from_xy(sd_network.nodes_df.x, sd_network.nodes_df.y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:36.702589Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:36.702503Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:36.779917Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:36.779415Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:36.702580Z&quot;}" data-tags="[]" data-execution_count="18">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># convert the node into a Point and buffer it 1600m</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>example_point <span class="op">=</span> gpd.GeoDataFrame(sd_network.nodes_df.loc[example_origin]).T.set_geometry(<span class="st">'geometry'</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>example_point <span class="op">=</span> example_point.set_crs(<span class="dv">4326</span>)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>planar_iso <span class="op">=</span> example_point.to_crs(example_point.estimate_utm_crs()).<span class="bu">buffer</span>(<span class="dv">1600</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:36.780637Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:36.780531Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:36.815740Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:36.815315Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:36.780628Z&quot;}" data-tags="[]" data-execution_count="19">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the buffer and isochrone on the same map</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> planar_iso.to_crs(<span class="dv">4326</span>).explore()</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>iso.explore(m<span class="op">=</span>m)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">

<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -&gt; Trust Notebook</span><iframe srcdoc="<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;></script>
    <script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;></script>
    <script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;></script>
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;></script>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/>
    
            <meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; />
            <style>
                #map_dc2d4d81da66f33ca7392470117b9ea0 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
</head>
<body>
    
    
            <div class=&quot;folium-map&quot; id=&quot;map_dc2d4d81da66f33ca7392470117b9ea0&quot; ></div>
        
</body>
<script>
    
    
            var map_dc2d4d81da66f33ca7392470117b9ea0 = L.map(
                &quot;map_dc2d4d81da66f33ca7392470117b9ea0&quot;,
                {
                    center: [33.4398802830519, -117.6009877645547],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );
            L.control.scale().addTo(map_dc2d4d81da66f33ca7392470117b9ea0);

            

        
    
            var tile_layer_3e44ba85b6223d8b0a4a2d60fe9313fa = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_3e44ba85b6223d8b0a4a2d60fe9313fa.addTo(map_dc2d4d81da66f33ca7392470117b9ea0);
        
    
            map_dc2d4d81da66f33ca7392470117b9ea0.fitBounds(
                [[33.42544949614595, -117.61820045648814], [33.454311069957846, -117.58377507262128]],
                {}
            );
        
    
        function geo_json_4d82077ad58d5c751ced5950a6566c4f_styler(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.5, &quot;weight&quot;: 2};
            }
        }
        function geo_json_4d82077ad58d5c751ced5950a6566c4f_highlighter(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.75};
            }
        }
        function geo_json_4d82077ad58d5c751ced5950a6566c4f_pointToLayer(feature, latlng) {
            var opts = {&quot;bubblingMouseEvents&quot;: true, &quot;color&quot;: &quot;#3388ff&quot;, &quot;dashArray&quot;: null, &quot;dashOffset&quot;: null, &quot;fill&quot;: true, &quot;fillColor&quot;: &quot;#3388ff&quot;, &quot;fillOpacity&quot;: 0.2, &quot;fillRule&quot;: &quot;evenodd&quot;, &quot;lineCap&quot;: &quot;round&quot;, &quot;lineJoin&quot;: &quot;round&quot;, &quot;opacity&quot;: 1.0, &quot;radius&quot;: 2, &quot;stroke&quot;: true, &quot;weight&quot;: 3};
            
            let style = geo_json_4d82077ad58d5c751ced5950a6566c4f_styler(feature)
            Object.assign(opts, style)
            
            return new L.CircleMarker(latlng, opts)
        }

        function geo_json_4d82077ad58d5c751ced5950a6566c4f_onEachFeature(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        geo_json_4d82077ad58d5c751ced5950a6566c4f.resetStyle(e.target);
                    }
                },
                mouseover: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        const highlightStyle = geo_json_4d82077ad58d5c751ced5950a6566c4f_highlighter(e.target.feature)
                        e.target.setStyle(highlightStyle);
                    }
                },
            });
        };
        var geo_json_4d82077ad58d5c751ced5950a6566c4f = L.geoJson(null, {
                onEachFeature: geo_json_4d82077ad58d5c751ced5950a6566c4f_onEachFeature,
            
                style: geo_json_4d82077ad58d5c751ced5950a6566c4f_styler,
                pointToLayer: geo_json_4d82077ad58d5c751ced5950a6566c4f_pointToLayer,
        });

        function geo_json_4d82077ad58d5c751ced5950a6566c4f_add (data) {
            geo_json_4d82077ad58d5c751ced5950a6566c4f
                .addData(data);
        }
            geo_json_4d82077ad58d5c751ced5950a6566c4f_add({&quot;bbox&quot;: [-117.61820045648814, 33.42544949614595, -117.58377507262128, 33.454311069957846], &quot;features&quot;: [{&quot;bbox&quot;: [-117.61820045648814, 33.42544949614595, -117.58377507262128, 33.454311069957846], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.58377507262128, 33.43996252158166], [-117.58384848266682, 33.43854766238966], [-117.58408694667975, 33.4371456481466], [-117.58448816036987, 33.4357699801706], [-117.58504825264757, 33.43443390543985], [-117.58576182318032, 33.433150289073055], [-117.58662199464425, 33.43193149050862], [-117.58762047915765, 33.43078924457229], [-117.58874765824989, 33.42973454857462], [-117.58999267558886, 33.42877755652162], [-117.59134354157081, 33.42792748145245], [-117.59278724876384, 33.42719250684034], [-117.59430989709385, 33.4265797079045], [-117.59589682757095, 33.42609498358658], [-117.59753276327363, 33.425742999842235], [-117.59920195624004, 33.425527144789946], [-117.60088833886094, 33.42544949614595], [-117.60257567832682, 33.425510801256344], [-117.60424773265231, 33.4257104699171], [-117.60588840678784, 33.42604658005046], [-117.60748190732627, 33.42651589618343], [-117.60901289432636, 33.427113900551426], [-117.61046662880128, 33.427834836529875], [-117.61182911446141, 33.42867176397838], [-117.61308723235355, 33.429616625968016], [-117.61422886710652, 33.430660326253495], [-117.61524302357039, 33.43179281674858], [-117.61611993272787, 33.433003194167256], [-117.61685114585714, 33.434279804904776], [-117.61742961603588, 33.43561035715332], [-117.61784976619644, 33.43698203917687], [-117.61810754306957, 33.43838164261021], [-117.61820045648814, 33.43979568959801], [-117.61812760366199, 33.441210562551774], [-117.61788967817907, 33.44261263527694], [-117.61748896363426, 33.44398840420796], [-117.61692931193525, 33.44532461848697], [-117.61621610648335, 33.446608407632574], [-117.61535621057268, 33.4478274055665], [-117.6143579014955, 33.4489698698014], [-117.61323079098052, 33.45002479463759], [-117.6119857327245, 33.45098201727498], [-117.61063471790358, 33.45183231581311], [-117.6091907596695, 33.45256749819102], [-117.60766776774366, 33.45318048120515], [-117.60608041432013, 33.45366535883981], [-117.60444399257409, 33.454017459247495], [-117.60277426914578, 33.454233389826406], [-117.60108733202969, 33.454311069957846], [-117.59939943534435, 33.454249751085705], [-117.59772684248874, 33.45405002394285], [-117.59608566920784, 33.45371381285444], [-117.5944917280907, 33.45324435717317], [-117.59296037600977, 33.45264618002636], [-117.59150636598163, 33.451925044678376], [-117.59014370488539, 33.451087898931284], [-117.58888551841605, 33.45014280810311], [-117.58774392458022, 33.44909887723328], [-117.58672991695539, 33.447966163269214], [-117.58585325883904, 33.44675557808478], [-117.58512238930561, 33.445478783268996], [-117.58454434207326, 33.44414807770373], [-117.584124677956, 33.44277627901687], [-117.58386743154475, 33.44137660005691], [-117.58377507262128, 33.43996252158166]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;1985327805&quot;, &quot;properties&quot;: {}, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});

        
    
            geo_json_4d82077ad58d5c751ced5950a6566c4f.addTo(map_dc2d4d81da66f33ca7392470117b9ea0);
        
    
        function geo_json_3e7b0f98c58334aad7a5fdb9f25f3ccc_styler(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.5, &quot;weight&quot;: 2};
            }
        }
        function geo_json_3e7b0f98c58334aad7a5fdb9f25f3ccc_highlighter(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.75};
            }
        }
        function geo_json_3e7b0f98c58334aad7a5fdb9f25f3ccc_pointToLayer(feature, latlng) {
            var opts = {&quot;bubblingMouseEvents&quot;: true, &quot;color&quot;: &quot;#3388ff&quot;, &quot;dashArray&quot;: null, &quot;dashOffset&quot;: null, &quot;fill&quot;: true, &quot;fillColor&quot;: &quot;#3388ff&quot;, &quot;fillOpacity&quot;: 0.2, &quot;fillRule&quot;: &quot;evenodd&quot;, &quot;lineCap&quot;: &quot;round&quot;, &quot;lineJoin&quot;: &quot;round&quot;, &quot;opacity&quot;: 1.0, &quot;radius&quot;: 2, &quot;stroke&quot;: true, &quot;weight&quot;: 3};
            
            let style = geo_json_3e7b0f98c58334aad7a5fdb9f25f3ccc_styler(feature)
            Object.assign(opts, style)
            
            return new L.CircleMarker(latlng, opts)
        }

        function geo_json_3e7b0f98c58334aad7a5fdb9f25f3ccc_onEachFeature(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        geo_json_3e7b0f98c58334aad7a5fdb9f25f3ccc.resetStyle(e.target);
                    }
                },
                mouseover: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        const highlightStyle = geo_json_3e7b0f98c58334aad7a5fdb9f25f3ccc_highlighter(e.target.feature)
                        e.target.setStyle(highlightStyle);
                    }
                },
            });
        };
        var geo_json_3e7b0f98c58334aad7a5fdb9f25f3ccc = L.geoJson(null, {
                onEachFeature: geo_json_3e7b0f98c58334aad7a5fdb9f25f3ccc_onEachFeature,
            
                style: geo_json_3e7b0f98c58334aad7a5fdb9f25f3ccc_styler,
                pointToLayer: geo_json_3e7b0f98c58334aad7a5fdb9f25f3ccc_pointToLayer,
        });

        function geo_json_3e7b0f98c58334aad7a5fdb9f25f3ccc_add (data) {
            geo_json_3e7b0f98c58334aad7a5fdb9f25f3ccc
                .addData(data);
        }
            geo_json_3e7b0f98c58334aad7a5fdb9f25f3ccc_add({&quot;bbox&quot;: [-117.6149627, 33.4352644, -117.589268, 33.4480176], &quot;features&quot;: [{&quot;bbox&quot;: [-117.6149627, 33.4352644, -117.589268, 33.4480176], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.5922923, 33.4440509], [-117.5902135, 33.443599], [-117.589268, 33.4412214], [-117.5911919, 33.4369492], [-117.5911683, 33.4356881], [-117.5920085, 33.4353402], [-117.5928484, 33.4352644], [-117.5947469, 33.4363226], [-117.5974836, 33.4376435], [-117.5978631, 33.4377787], [-117.5991264, 33.438542], [-117.5994683, 33.4388998], [-117.6019739, 33.4401361], [-117.602542, 33.440207], [-117.6063877, 33.4417727], [-117.6088133, 33.4426619], [-117.6143231, 33.4425595], [-117.6148579, 33.4429227], [-117.6149627, 33.4433759], [-117.6147933, 33.4435268], [-117.6143171, 33.4439418], [-117.6136147, 33.4445241], [-117.6130065, 33.4450274], [-117.6067391, 33.443218], [-117.6060505, 33.4435429], [-117.6047276, 33.4444191], [-117.6023689, 33.4480176], [-117.6007767, 33.4473405], [-117.600112, 33.4467148], [-117.5976987, 33.445126], [-117.5976053, 33.4450649], [-117.5934028, 33.4445491], [-117.5922923, 33.4440509]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600}, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});

        
    
    geo_json_3e7b0f98c58334aad7a5fdb9f25f3ccc.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = [&quot;distance&quot;];
    let aliases = [&quot;distance&quot;];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{&quot;className&quot;: &quot;foliumtooltip&quot;, &quot;sticky&quot;: true});
                     
    
            geo_json_3e7b0f98c58334aad7a5fdb9f25f3ccc.addTo(map_dc2d4d81da66f33ca7392470117b9ea0);
        
</script>
</html>" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe></div></div>
</div>
</div>
<p>Obviously from this depiction, network-constrained travel is very different from a euclidean approximation. That’s especially true in places with irregular networks or topography considerations (like much of California)</p>
<section id="isochrones-for-specified-locations" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="isochrones-for-specified-locations"><span class="header-section-number">8.1</span> Isochrones for Specified Locations</h2>
<p>the <code>isochrones</code> function calculates several isochrones simultaneously, given a set of input destinations. For example we could look at the 20-minute neighborhood for schools in San Diego county.</p>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:36.816380Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:36.816292Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:36.841393Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:36.840950Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:36.816371Z&quot;}" data-tags="[]" data-execution_count="20">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> geosnap.io <span class="im">import</span> get_nces</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:36.841971Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:36.841876Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:39.907354Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:39.906940Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:36.841962Z&quot;}" data-tags="[]" data-execution_count="21">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># same as county fips 06073 in this case, but use metro fips for consistency with network</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>sd <span class="op">=</span> get_acs(datasets, msa_fips<span class="op">=</span><span class="st">'41740'</span>, level<span class="op">=</span><span class="st">'bg'</span>, years<span class="op">=</span>[<span class="dv">2019</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:39.912281Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:39.912034Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:40.194463Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:40.194001Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:39.912235Z&quot;}" data-tags="[]" data-execution_count="22">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>sd.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>&lt;Axes: &gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="isochrone_example_files/figure-html/cell-25-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:40.194927Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:40.194832Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:40.353056Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:40.352382Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:40.194919Z&quot;}" data-tags="[]" data-execution_count="23">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>schools <span class="op">=</span> get_nces(datasets, dataset<span class="op">=</span><span class="st">'schools'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:40.353679Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:40.353587Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:40.974895Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:40.974556Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:40.353670Z&quot;}" data-tags="[]" data-execution_count="24">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>sd_schools <span class="op">=</span> schools[schools.to_crs(sd.crs).intersects(sd.unary_union)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:40.975411Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:40.975322Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:41.004682Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:41.004376Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:40.975401Z&quot;}" data-tags="[]" data-execution_count="25">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>sd_schools.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">NCESSCH</th>
<th data-quarto-table-cell-role="th">NAME</th>
<th data-quarto-table-cell-role="th">OPSTFIPS</th>
<th data-quarto-table-cell-role="th">LSTREE</th>
<th data-quarto-table-cell-role="th">LCITY</th>
<th data-quarto-table-cell-role="th">LSTATE</th>
<th data-quarto-table-cell-role="th">LZIP</th>
<th data-quarto-table-cell-role="th">LZIP4</th>
<th data-quarto-table-cell-role="th">STFIP15</th>
<th data-quarto-table-cell-role="th">CNTY15</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">CBSATYPE15</th>
<th data-quarto-table-cell-role="th">CSA15</th>
<th data-quarto-table-cell-role="th">NMCSA15</th>
<th data-quarto-table-cell-role="th">NECTA15</th>
<th data-quarto-table-cell-role="th">NMNECTA15</th>
<th data-quarto-table-cell-role="th">CD15</th>
<th data-quarto-table-cell-role="th">SLDL15</th>
<th data-quarto-table-cell-role="th">SLDU15</th>
<th data-quarto-table-cell-role="th">geometry</th>
<th data-quarto-table-cell-role="th">year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">5895</td>
<td>060004205341</td>
<td>Warner Junior/Senior High</td>
<td>06</td>
<td>30951 Highway 79</td>
<td>Warner Springs</td>
<td>CA</td>
<td>92086</td>
<td>M</td>
<td>06</td>
<td>06073</td>
<td>...</td>
<td>1</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>0650</td>
<td>071</td>
<td>038</td>
<td>POINT (-116.64292 33.27525)</td>
<td>1516</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5896</td>
<td>060004206527</td>
<td>San Jose Valley Continuation Hig</td>
<td>06</td>
<td>30951 Highway 79</td>
<td>Warner Springs</td>
<td>CA</td>
<td>92086</td>
<td>M</td>
<td>06</td>
<td>06073</td>
<td>...</td>
<td>1</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>0650</td>
<td>071</td>
<td>038</td>
<td>POINT (-116.64292 33.27525)</td>
<td>1516</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5897</td>
<td>060004206844</td>
<td>Warner Elementary</td>
<td>06</td>
<td>30951 Highway 79</td>
<td>Warner Springs</td>
<td>CA</td>
<td>92086</td>
<td>0008</td>
<td>06</td>
<td>06073</td>
<td>...</td>
<td>1</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>0650</td>
<td>071</td>
<td>038</td>
<td>POINT (-116.64292 33.27525)</td>
<td>1516</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5898</td>
<td>060004210387</td>
<td>All Tribes Charter</td>
<td>06</td>
<td>34320 Valley Center Rd.</td>
<td>Valley Center</td>
<td>CA</td>
<td>92082</td>
<td>6046</td>
<td>06</td>
<td>06073</td>
<td>...</td>
<td>1</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>0650</td>
<td>075</td>
<td>038</td>
<td>POINT (-116.95367 33.27796)</td>
<td>1516</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5899</td>
<td>060004212735</td>
<td>All Tribes Elementary Charter</td>
<td>06</td>
<td>34320 Valley Center Rd.</td>
<td>Valley Center</td>
<td>CA</td>
<td>92082</td>
<td>6046</td>
<td>06</td>
<td>06073</td>
<td>...</td>
<td>1</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>0650</td>
<td>075</td>
<td>038</td>
<td>POINT (-116.95367 33.27796)</td>
<td>1516</td>
</tr>
</tbody>
</table>

<p>5 rows × 26 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:41.005444Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:41.005345Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:41.117629Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:41.117212Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:41.005436Z&quot;}" data-tags="[]" data-execution_count="26">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>sd_schools.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>&lt;Axes: &gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="isochrone_example_files/figure-html/cell-29-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:41.118372Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:41.118265Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:45.720904Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:45.720444Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:41.118363Z&quot;}" data-tags="[]" data-execution_count="27">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># randomly sample 25 schools and compute their walksheds</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>school_neighborhoods <span class="op">=</span> isochrones_from_gdf(origins<span class="op">=</span>sd_schools.sample(<span class="dv">25</span>), network<span class="op">=</span>sd_network, threshold<span class="op">=</span><span class="dv">1600</span>,)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/knaaptime/Dropbox/projects/geosnap/geosnap/analyze/network.py:140: UserWarning: Geometry is in a geographic CRS. Results from 'centroid' are likely incorrect. Use 'GeoSeries.to_crs()' to re-project geometries to a projected CRS before this operation.

  node_ids = network.get_node_ids(origins.centroid.x, origins.centroid.y).astype(int)
/Users/knaaptime/Dropbox/projects/geosnap/geosnap/analyze/network.py:34: UserWarning: Geometry is in a geographic CRS. Results from 'centroid' are likely incorrect. Use 'GeoSeries.to_crs()' to re-project geometries to a projected CRS before this operation.

  node_ids = network.get_node_ids(origins.centroid.x, origins.centroid.y).astype(int)</code></pre>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:45.721464Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:45.721377Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:45.747973Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:45.747677Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:45.721454Z&quot;}" data-tags="[]" data-execution_count="28">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>school_neighborhoods</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">geometry</th>
<th data-quarto-table-cell-role="th">distance</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">origin</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">9651</td>
<td>POLYGON ((-117.01489 32.71285, -117.01344 32.7...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13747</td>
<td>POLYGON ((-117.09568 32.93803, -117.09502 32.9...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7212</td>
<td>POLYGON ((-116.86311 32.80538, -116.86457 32.8...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8420</td>
<td>POLYGON ((-117.06625 33.12177, -117.06792 33.1...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13580</td>
<td>POLYGON ((-117.20319 32.84771, -117.20681 32.8...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13660</td>
<td>POLYGON ((-117.09470 32.82486, -117.09474 32.8...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9638</td>
<td>POLYGON ((-116.98320 32.73608, -116.98300 32.7...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13725</td>
<td>POLYGON ((-117.11974 32.71711, -117.12103 32.7...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13569</td>
<td>POLYGON ((-117.21212 32.82199, -117.21207 32.8...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14239</td>
<td>POLYGON ((-117.02469 32.57056, -117.02482 32.5...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13770</td>
<td>POLYGON ((-117.17735 32.78274, -117.17874 32.7...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14869</td>
<td>POLYGON ((-116.98918 32.62351, -116.98680 32.6...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8424</td>
<td>POLYGON ((-117.05322 33.15300, -117.05082 33.1...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13612</td>
<td>POLYGON ((-117.14372 32.74844, -117.14440 32.7...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14131</td>
<td>POLYGON ((-117.16291 33.18795, -117.15759 33.1...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13598</td>
<td>POLYGON ((-117.14169 32.72249, -117.13938 32.7...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7924</td>
<td>POLYGON ((-117.17627 32.70042, -117.17508 32.7...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14659</td>
<td>POLYGON ((-117.06964 32.57197, -117.07041 32.5...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14874</td>
<td>POLYGON ((-117.07005 32.56781, -117.07120 32.5...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13701</td>
<td>POLYGON ((-117.03371 32.67971, -117.03487 32.6...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8554</td>
<td>POLYGON ((-117.57137 33.39045, -117.57100 33.3...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7621</td>
<td>POLYGON ((-116.98228 32.65846, -116.98054 32.6...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7605</td>
<td>POLYGON ((-117.03730 32.60022, -117.03850 32.5...</td>
<td>1600</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13740</td>
<td>POLYGON ((-117.11512 32.76489, -117.11463 32.7...</td>
<td>1600</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13657</td>
<td>POLYGON ((-117.11268 32.72461, -117.11208 32.7...</td>
<td>1600</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-01-19T00:48:45.748516Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-01-19T00:48:45.748414Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-01-19T00:48:45.790040Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-01-19T00:48:45.789526Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-01-19T00:48:45.748508Z&quot;}" data-tags="[]" data-execution_count="29">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>school_neighborhoods.explore()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">

<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -&gt; Trust Notebook</span><iframe srcdoc="<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;></script>
    <script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;></script>
    <script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;></script>
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;></script>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/>
    
            <meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; />
            <style>
                #map_372798e68046b1f90ab707dd4fc22984 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
</head>
<body>
    
    
            <div class=&quot;folium-map&quot; id=&quot;map_372798e68046b1f90ab707dd4fc22984&quot; ></div>
        
</body>
<script>
    
    
            var map_372798e68046b1f90ab707dd4fc22984 = L.map(
                &quot;map_372798e68046b1f90ab707dd4fc22984&quot;,
                {
                    center: [32.980015, -117.21700734999999],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );
            L.control.scale().addTo(map_372798e68046b1f90ab707dd4fc22984);

            

        
    
            var tile_layer_c516abbf62e70dac1c9ee369ec267795 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_c516abbf62e70dac1c9ee369ec267795.addTo(map_372798e68046b1f90ab707dd4fc22984);
        
    
            map_372798e68046b1f90ab707dd4fc22984.fitBounds(
                [[32.56123, -117.5757012], [33.3988, -116.8583135]],
                {}
            );
        
    
        function geo_json_29dfb85e64498c44b9082fbfb446b556_styler(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.5, &quot;weight&quot;: 2};
            }
        }
        function geo_json_29dfb85e64498c44b9082fbfb446b556_highlighter(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.75};
            }
        }
        function geo_json_29dfb85e64498c44b9082fbfb446b556_pointToLayer(feature, latlng) {
            var opts = {&quot;bubblingMouseEvents&quot;: true, &quot;color&quot;: &quot;#3388ff&quot;, &quot;dashArray&quot;: null, &quot;dashOffset&quot;: null, &quot;fill&quot;: true, &quot;fillColor&quot;: &quot;#3388ff&quot;, &quot;fillOpacity&quot;: 0.2, &quot;fillRule&quot;: &quot;evenodd&quot;, &quot;lineCap&quot;: &quot;round&quot;, &quot;lineJoin&quot;: &quot;round&quot;, &quot;opacity&quot;: 1.0, &quot;radius&quot;: 2, &quot;stroke&quot;: true, &quot;weight&quot;: 3};
            
            let style = geo_json_29dfb85e64498c44b9082fbfb446b556_styler(feature)
            Object.assign(opts, style)
            
            return new L.CircleMarker(latlng, opts)
        }

        function geo_json_29dfb85e64498c44b9082fbfb446b556_onEachFeature(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        geo_json_29dfb85e64498c44b9082fbfb446b556.resetStyle(e.target);
                    }
                },
                mouseover: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        const highlightStyle = geo_json_29dfb85e64498c44b9082fbfb446b556_highlighter(e.target.feature)
                        e.target.setStyle(highlightStyle);
                    }
                },
            });
        };
        var geo_json_29dfb85e64498c44b9082fbfb446b556 = L.geoJson(null, {
                onEachFeature: geo_json_29dfb85e64498c44b9082fbfb446b556_onEachFeature,
            
                style: geo_json_29dfb85e64498c44b9082fbfb446b556_styler,
                pointToLayer: geo_json_29dfb85e64498c44b9082fbfb446b556_pointToLayer,
        });

        function geo_json_29dfb85e64498c44b9082fbfb446b556_add (data) {
            geo_json_29dfb85e64498c44b9082fbfb446b556
                .addData(data);
        }
            geo_json_29dfb85e64498c44b9082fbfb446b556_add({&quot;bbox&quot;: [-117.5757012, 32.56123, -116.8583135, 33.3988], &quot;features&quot;: [{&quot;bbox&quot;: [-117.029167, 32.6952346, -117.005043, 32.7166201], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.014893, 32.712852], [-117.013443, 32.709949], [-117.0117036, 32.7091773], [-117.010803, 32.70919], [-117.010513, 32.709236], [-117.0097087, 32.7092312], [-117.007439, 32.709213], [-117.0057899, 32.7077368], [-117.00565, 32.7076393], [-117.0056497, 32.7076306], [-117.005814, 32.707119], [-117.0063933, 32.7040288], [-117.0063984, 32.7038838], [-117.0064034, 32.7037427], [-117.0064088, 32.703592], [-117.0064139, 32.7034465], [-117.0064196, 32.7032873], [-117.0064335, 32.7031452], [-117.0064472, 32.703005], [-117.0064619, 32.7028547], [-117.0064771, 32.7026994], [-117.0064909, 32.7025581], [-117.0065108, 32.7023541], [-117.0059364, 32.7007232], [-117.0057001, 32.700186], [-117.005043, 32.699451], [-117.0064089, 32.7000044], [-117.0072068, 32.7000213], [-117.0081167, 32.7001993], [-117.010455, 32.699056], [-117.0109888, 32.6992727], [-117.0132773, 32.6985587], [-117.0159, 32.697742], [-117.017706, 32.6952346], [-117.019203, 32.69556], [-117.01931, 32.695557], [-117.021744, 32.696011], [-117.0225774, 32.6969703], [-117.023638, 32.697967], [-117.0272585, 32.6987633], [-117.027557, 32.699268], [-117.029137, 32.700382], [-117.029167, 32.704029], [-117.0281631, 32.705476], [-117.026237, 32.706043], [-117.026192, 32.709072], [-117.025368, 32.709236], [-117.024406, 32.71233], [-117.022781, 32.713722], [-117.021767, 32.714771], [-117.021408, 32.716095], [-117.0199543, 32.7166201], [-117.0196342, 32.7165204], [-117.017326, 32.715889], [-117.016441, 32.716454], [-117.0145512, 32.7147535], [-117.0143225, 32.7147541], [-117.0136145, 32.7147559], [-117.0134134, 32.7147589], [-117.014893, 32.712852]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 9651}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.1098634, 32.9251985, -117.0834632, 32.941997], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.0956797, 32.9380307], [-117.0950213, 32.9378875], [-117.0941212, 32.9377769], [-117.0932508, 32.9377682], [-117.0922719, 32.9378809], [-117.089607, 32.937336], [-117.087959, 32.936348], [-117.087173, 32.93605], [-117.086533, 32.93568], [-117.08432, 32.93504], [-117.0834632, 32.9342253], [-117.0843975, 32.933405], [-117.086761, 32.931229], [-117.091713, 32.93132], [-117.0901091, 32.9251985], [-117.0902598, 32.9252008], [-117.092118, 32.9256994], [-117.0935907, 32.9254476], [-117.095238, 32.927891], [-117.0955595, 32.9285536], [-117.097778, 32.93084], [-117.098579, 32.931068], [-117.100227, 32.93119], [-117.100563, 32.933083], [-117.102138, 32.9362566], [-117.1073935, 32.934369], [-117.1098634, 32.9364995], [-117.1092676, 32.9369869], [-117.1084729, 32.9377807], [-117.1082852, 32.9377762], [-117.1080961, 32.9377717], [-117.1060116, 32.9384158], [-117.1040306, 32.9411079], [-117.1039172, 32.9411681], [-117.103457, 32.9414127], [-117.1023946, 32.9418078], [-117.1022388, 32.9418867], [-117.1019162, 32.9419579], [-117.1016836, 32.941997], [-117.1008342, 32.9418574], [-117.0981646, 32.9412587], [-117.0981316, 32.9410985], [-117.0956797, 32.9380307]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;1&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 13747}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-116.876554, 32.797169, -116.8583135, 32.8185769], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-116.863106, 32.8053817], [-116.8645652, 32.8024376], [-116.863319, 32.799938], [-116.863506, 32.7986894], [-116.8637551, 32.7983143], [-116.864861, 32.797169], [-116.864899, 32.798771], [-116.8676617, 32.8008846], [-116.8691944, 32.8010301], [-116.8693907, 32.8011441], [-116.8719698, 32.8014327], [-116.8731144, 32.8013138], [-116.8749894, 32.80108], [-116.876554, 32.800797], [-116.8753902, 32.8024538], [-116.8760308, 32.8060592], [-116.874123, 32.80658], [-116.8737152, 32.8065787], [-116.8710785, 32.8072697], [-116.8709209, 32.8072803], [-116.8707869, 32.8072839], [-116.867958, 32.810032], [-116.869453, 32.814007], [-116.869507, 32.814072], [-116.8669122, 32.8145434], [-116.866349, 32.8147985], [-116.8645817, 32.8149947], [-116.8624987, 32.8179097], [-116.86245, 32.818115], [-116.8622197, 32.8185769], [-116.8611147, 32.8179278], [-116.8583969, 32.81753], [-116.8583135, 32.8172608], [-116.858383, 32.817226], [-116.8598955, 32.8142882], [-116.8598794, 32.8138964], [-116.861549, 32.811214], [-116.861115, 32.809423], [-116.860687, 32.808258], [-116.863106, 32.8053817]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;2&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 7212}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.0943715, 33.1074994, -117.064232, 33.1319373], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.066254, 33.121765], [-117.0679229, 33.1206768], [-117.0681829, 33.1188337], [-117.067093, 33.11705], [-117.067577, 33.114526], [-117.0682882, 33.1148413], [-117.068359, 33.114868], [-117.0689564, 33.1151102], [-117.070869, 33.113953], [-117.0710873, 33.1133867], [-117.0707852, 33.1117596], [-117.070473, 33.111313], [-117.0699008, 33.1104799], [-117.0717597, 33.1095305], [-117.071912, 33.1094556], [-117.0725976, 33.1091082], [-117.0733012, 33.1087655], [-117.0739122, 33.1084453], [-117.0739626, 33.10842], [-117.0744885, 33.1081722], [-117.0748202, 33.1080006], [-117.0749836, 33.107916], [-117.0753086, 33.1077478], [-117.0758181, 33.1074994], [-117.0780923, 33.1079191], [-117.0782045, 33.1079629], [-117.0791459, 33.1082168], [-117.0815387, 33.1088183], [-117.0835361, 33.1090598], [-117.083852, 33.109503], [-117.0855413, 33.1098736], [-117.0858453, 33.1097249], [-117.0861624, 33.1101875], [-117.0864778, 33.1106282], [-117.0884578, 33.1108542], [-117.0886738, 33.1111581], [-117.0913409, 33.1112384], [-117.0916149, 33.1116084], [-117.0921684, 33.1123547], [-117.091915, 33.1135509], [-117.0919787, 33.114565], [-117.0934616, 33.1158288], [-117.0935593, 33.1158508], [-117.0936055, 33.115922], [-117.0942206, 33.11735], [-117.0943715, 33.1174516], [-117.0934787, 33.1181894], [-117.0933495, 33.1194139], [-117.091979, 33.1207904], [-117.0919512, 33.1213408], [-117.0912813, 33.1226471], [-117.0912285, 33.1227812], [-117.0909425, 33.124661], [-117.0907688, 33.1250455], [-117.0903228, 33.1257139], [-117.089632, 33.1277259], [-117.0891431, 33.1285193], [-117.0890941, 33.1287052], [-117.087279, 33.1297698], [-117.0871733, 33.1299045], [-117.0870177, 33.1300749], [-117.0864129, 33.1314887], [-117.086406, 33.1315558], [-117.0858318, 33.1319373], [-117.0840151, 33.1310169], [-117.0835636, 33.1311947], [-117.0833707, 33.1310867], [-117.0832587, 33.131021], [-117.0815857, 33.1307948], [-117.0815284, 33.1308228], [-117.0814497, 33.1308078], [-117.0791701, 33.1305665], [-117.079095, 33.1305884], [-117.0784677, 33.1303432], [-117.0777902, 33.1301673], [-117.075891, 33.1297912], [-117.0750249, 33.1297167], [-117.0745016, 33.1291092], [-117.0730683, 33.1286832], [-117.0719623, 33.1289752], [-117.0713943, 33.1287339], [-117.0711492, 33.1286895], [-117.0710018, 33.1286391], [-117.0698122, 33.127561], [-117.0689772, 33.1272629], [-117.0684725, 33.1268639], [-117.0678872, 33.1265934], [-117.0677517, 33.126532], [-117.0671388, 33.1258217], [-117.0669999, 33.1257148], [-117.0663584, 33.1252786], [-117.064232, 33.124264], [-117.064751, 33.122601], [-117.064783, 33.121266], [-117.064957, 33.1210275], [-117.066254, 33.121765]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;3&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 8420}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.2178912, 32.8446191, -117.1868396, 32.8642874], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.2031913, 32.8477072], [-117.20681, 32.847839], [-117.2085816, 32.84557], [-117.2087238, 32.8456173], [-117.2088284, 32.8457548], [-117.2095989, 32.8469083], [-117.212723, 32.848183], [-117.216057, 32.849651], [-117.216843, 32.849991], [-117.2174381, 32.8511643], [-117.2178912, 32.8516576], [-117.2173107, 32.8549766], [-117.214653, 32.857235], [-117.2124587, 32.859432], [-117.2123404, 32.8637619], [-117.2127465, 32.8642534], [-117.2125849, 32.8642874], [-117.2082424, 32.8629603], [-117.2057404, 32.8615368], [-117.204825, 32.860901], [-117.19944, 32.860916], [-117.19854, 32.860973], [-117.196274, 32.860832], [-117.194656, 32.860786], [-117.19326, 32.860809], [-117.1925889, 32.8588029], [-117.1914551, 32.857918], [-117.190724, 32.8566524], [-117.1880796, 32.8541295], [-117.1869848, 32.8536384], [-117.1868396, 32.8535095], [-117.187332, 32.852364], [-117.190623, 32.8500839], [-117.1911288, 32.8484947], [-117.1911163, 32.8480547], [-117.192627, 32.847595], [-117.1950169, 32.8464607], [-117.1955456, 32.8463383], [-117.1985057, 32.8451849], [-117.199635, 32.8446191], [-117.199947, 32.8446957], [-117.2000489, 32.8447904], [-117.2002524, 32.8449632], [-117.202199, 32.845658], [-117.2031913, 32.8477072]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;4&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 13580}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.1178064, 32.812473, -117.0900686, 32.8387316], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.094704, 32.82486], [-117.0947416, 32.8244318], [-117.095284, 32.822254], [-117.0932197, 32.8177977], [-117.093872, 32.817177], [-117.0944006, 32.8177918], [-117.099487, 32.816425], [-117.103897, 32.813507], [-117.1059583, 32.8126656], [-117.1060928, 32.8126394], [-117.106773, 32.812473], [-117.10804, 32.814434], [-117.108521, 32.814713], [-117.108887, 32.814968], [-117.110764, 32.818668], [-117.1114947, 32.8210999], [-117.1158625, 32.822878], [-117.1160465, 32.8228611], [-117.1169781, 32.8227951], [-117.1178064, 32.822913], [-117.1170006, 32.8229837], [-117.1160689, 32.8230497], [-117.1134628, 32.8265936], [-117.113777, 32.828732], [-117.113918, 32.8294528], [-117.1135796, 32.8298469], [-117.112129, 32.831734], [-117.1118823, 32.832289], [-117.1117091, 32.8323789], [-117.1089701, 32.8330482], [-117.1077177, 32.8338951], [-117.1072006, 32.8342068], [-117.105827, 32.835499], [-117.105522, 32.836117], [-117.102592, 32.837193], [-117.100861, 32.83712], [-117.099533, 32.837696], [-117.0981125, 32.8387316], [-117.0979908, 32.838677], [-117.097233, 32.8372468], [-117.096542, 32.83569], [-117.0956956, 32.8342253], [-117.0949151, 32.8301452], [-117.0936785, 32.8295431], [-117.0906485, 32.828989], [-117.0900686, 32.8289348], [-117.090273, 32.828696], [-117.090783, 32.8284546], [-117.0913722, 32.8281753], [-117.0918936, 32.8279191], [-117.0919788, 32.8278772], [-117.0920859, 32.8278246], [-117.0929847, 32.8274081], [-117.094223, 32.826221], [-117.094704, 32.82486]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;5&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 13660}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-116.9928967, 32.727238, -116.9688238, 32.7507962], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-116.9832, 32.736084], [-116.9830007, 32.7391353], [-116.983627, 32.741505], [-116.98526, 32.742805], [-116.9853066, 32.7454048], [-116.9866385, 32.7464978], [-116.9877613, 32.7465451], [-116.9883764, 32.7466926], [-116.9884273, 32.7470256], [-116.9869912, 32.7479848], [-116.9864857, 32.7481333], [-116.9853464, 32.7493019], [-116.9833718, 32.7507962], [-116.9809553, 32.7487869], [-116.9807991, 32.7487842], [-116.980278, 32.748775], [-116.9800348, 32.748771], [-116.9798336, 32.7487676], [-116.9797357, 32.748766], [-116.9795265, 32.7487625], [-116.978951, 32.748753], [-116.9773078, 32.7485607], [-116.9772703, 32.7485706], [-116.9768144, 32.7450746], [-116.9740761, 32.7442352], [-116.9728303, 32.7440658], [-116.9721673, 32.7439884], [-116.9713095, 32.7441149], [-116.9713081, 32.7439812], [-116.9714094, 32.7435508], [-116.971428, 32.741707], [-116.9688238, 32.7397779], [-116.969879, 32.73978], [-116.9717077, 32.7368056], [-116.9720954, 32.7370641], [-116.9728277, 32.7373391], [-116.9769195, 32.7368925], [-116.975487, 32.734543], [-116.975403, 32.73362], [-116.9731133, 32.7317867], [-116.9728832, 32.7317868], [-116.9721155, 32.7312452], [-116.9721336, 32.7310795], [-116.9722644, 32.7308583], [-116.9729862, 32.730363], [-116.973923, 32.729828], [-116.975533, 32.7304246], [-116.977631, 32.729336], [-116.978317, 32.728645], [-116.978798, 32.728516], [-116.979584, 32.728222], [-116.980247, 32.727825], [-116.980667, 32.727688], [-116.981171, 32.72757], [-116.983467, 32.727238], [-116.985184, 32.729034], [-116.9877902, 32.7295306], [-116.9889991, 32.7292909], [-116.9917857, 32.7309123], [-116.9928967, 32.7305046], [-116.9928081, 32.7305872], [-116.9917594, 32.7324276], [-116.9912847, 32.7343633], [-116.991364, 32.736115], [-116.989159, 32.733292], [-116.986816, 32.735367], [-116.9832, 32.736084]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;6&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 9638}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.1381984, 32.709538, -117.114777, 32.7296371], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.119743, 32.717106], [-117.121033, 32.716946], [-117.1224762, 32.7144558], [-117.123138, 32.7132833], [-117.124961, 32.7116794], [-117.125267, 32.711674], [-117.1253535, 32.7116734], [-117.1271727, 32.7116599], [-117.127434, 32.711658], [-117.1277702, 32.7116557], [-117.1284333, 32.7116512], [-117.130219, 32.709538], [-117.131126, 32.7100548], [-117.132057, 32.710575], [-117.133751, 32.712704], [-117.1354837, 32.714325], [-117.13604, 32.714783], [-117.1366458, 32.7153113], [-117.138191, 32.7163478], [-117.138191, 32.7168625], [-117.1381976, 32.7173323], [-117.1381984, 32.7173874], [-117.1364556, 32.7194395], [-117.136078, 32.719444], [-117.133904, 32.721348], [-117.1339902, 32.7223175], [-117.1339915, 32.7234972], [-117.1339951, 32.7245227], [-117.1339903, 32.7247443], [-117.132927, 32.725502], [-117.131104, 32.726536], [-117.130173, 32.727562], [-117.129593, 32.728085], [-117.1274608, 32.7296371], [-117.125351, 32.727528], [-117.1249521, 32.7275243], [-117.123642, 32.726547], [-117.1227357, 32.7254503], [-117.1203781, 32.7256821], [-117.119263, 32.725407], [-117.118103, 32.725838], [-117.114777, 32.726093], [-117.118294, 32.724735], [-117.1168923, 32.7224956], [-117.116902, 32.7224091], [-117.1175835, 32.7213245], [-117.117958, 32.720161], [-117.119743, 32.717106]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;7&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 13725}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.2286, 32.8102524, -117.2052264, 32.833363], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.21212, 32.821991], [-117.2120731, 32.8191501], [-117.209938, 32.818554], [-117.208771, 32.817444], [-117.208687, 32.815166], [-117.210747, 32.812637], [-117.2114503, 32.8107382], [-117.2115254, 32.8102524], [-117.2130865, 32.8117346], [-117.215893, 32.8117712], [-117.2163783, 32.8115271], [-117.2164308, 32.8115016], [-117.21772, 32.8131931], [-117.2182737, 32.8146133], [-117.2197397, 32.8152106], [-117.219566, 32.817211], [-117.219818, 32.817593], [-117.220131, 32.817894], [-117.220261, 32.818275], [-117.220062, 32.8195], [-117.220177, 32.820175], [-117.221893, 32.822453], [-117.222366, 32.824242], [-117.2248, 32.8249373], [-117.2250122, 32.8248706], [-117.2255105, 32.8248752], [-117.2273295, 32.8247417], [-117.2275533, 32.8245682], [-117.2281141, 32.8241336], [-117.2286, 32.823757], [-117.228292, 32.8242758], [-117.2279174, 32.8246313], [-117.2276361, 32.8248861], [-117.2264032, 32.826506], [-117.224777, 32.826485], [-117.222252, 32.826733], [-117.221809, 32.828964], [-117.221748, 32.830307], [-117.2218586, 32.8320162], [-117.2215946, 32.8320984], [-117.220306, 32.832516], [-117.217789, 32.833183], [-117.216583, 32.833363], [-117.214287, 32.833332], [-117.213676, 32.832893], [-117.211884, 32.831318], [-117.211143, 32.831051], [-117.210533, 32.830795], [-117.207909, 32.830162], [-117.2060739, 32.8283369], [-117.2052264, 32.8276304], [-117.2056288, 32.8272846], [-117.2061249, 32.8266054], [-117.2066768, 32.8258754], [-117.207657, 32.824081], [-117.208076, 32.823669], [-117.2088217, 32.8235708], [-117.21212, 32.821991]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;8&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 13569}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.0309338, 32.5678225, -117.0120549, 32.5830517], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.0246874, 32.5705574], [-117.024819, 32.5705537], [-117.0273358, 32.5700055], [-117.0285475, 32.571465], [-117.0309338, 32.5747575], [-117.0293137, 32.5779851], [-117.027427, 32.5829474], [-117.0273758, 32.5830517], [-117.0264606, 32.5827078], [-117.0258508, 32.5823062], [-117.0237135, 32.580532], [-117.0199089, 32.5810395], [-117.0195337, 32.5810269], [-117.0194436, 32.5795881], [-117.0185527, 32.5777863], [-117.0160284, 32.5756754], [-117.0151762, 32.5756499], [-117.0144285, 32.5755672], [-117.0143026, 32.5738081], [-117.0120549, 32.5702123], [-117.0128027, 32.5695495], [-117.0140865, 32.5685105], [-117.014193, 32.5683311], [-117.016927, 32.5678225], [-117.0171254, 32.5678704], [-117.0173244, 32.5679207], [-117.0175246, 32.5679702], [-117.0178834, 32.5680608], [-117.0179872, 32.5680871], [-117.0188318, 32.568318], [-117.0194533, 32.5685687], [-117.0223656, 32.5720509], [-117.0246874, 32.5705574]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;9&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 14239}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.1814966, 32.7737014, -117.1597319, 32.7979914], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.1773545, 32.7827379], [-117.1787392, 32.7870744], [-117.180267, 32.789997], [-117.180687, 32.791275], [-117.181168, 32.791832], [-117.180267, 32.794117], [-117.178291, 32.795658], [-117.177544, 32.795696], [-117.175827, 32.796608], [-117.174492, 32.797836], [-117.1717267, 32.7979914], [-117.171127, 32.797806], [-117.168762, 32.796616], [-117.167747, 32.7961015], [-117.165009, 32.796524], [-117.1630875, 32.7959144], [-117.1612544, 32.7962459], [-117.161397, 32.7947905], [-117.1603683, 32.7928391], [-117.1597319, 32.7914365], [-117.1602639, 32.7902109], [-117.1608464, 32.7893186], [-117.1611777, 32.7882689], [-117.162529, 32.785934], [-117.163078, 32.783592], [-117.163986, 32.781853], [-117.164703, 32.780003], [-117.164917, 32.777031], [-117.167168, 32.775925], [-117.1675761, 32.7753284], [-117.170547, 32.775059], [-117.172813, 32.774174], [-117.1742361, 32.7737014], [-117.174941, 32.7737464], [-117.175301, 32.7738523], [-117.175133, 32.776199], [-117.179203, 32.7784545], [-117.1799969, 32.77803], [-117.1806291, 32.777618], [-117.1811779, 32.7778121], [-117.1814966, 32.7780416], [-117.1814286, 32.778537], [-117.1799776, 32.7798602], [-117.1798098, 32.7802895], [-117.179703, 32.7804113], [-117.1792574, 32.780843], [-117.1784594, 32.7814426], [-117.1773545, 32.7827379]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;10&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 13770}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-116.9982125, 32.6107802, -116.9754921, 32.6281127], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-116.9891813, 32.6235075], [-116.9868034, 32.625934], [-116.9866143, 32.6259744], [-116.983811, 32.6281127], [-116.983095, 32.6276722], [-116.9808765, 32.6277288], [-116.9797281, 32.6275193], [-116.9782699, 32.6258717], [-116.9782458, 32.6258197], [-116.978109, 32.6255241], [-116.9762859, 32.6239831], [-116.9754921, 32.6236695], [-116.9762649, 32.6226967], [-116.9771918, 32.6196757], [-116.9764983, 32.618474], [-116.9764357, 32.6183481], [-116.976516, 32.6181919], [-116.9779159, 32.615891], [-116.9782593, 32.6148653], [-116.9787581, 32.6147388], [-116.9803406, 32.6132477], [-116.982057, 32.6126467], [-116.9834947, 32.6114447], [-116.983633, 32.611402], [-116.983701, 32.6113805], [-116.9860614, 32.6136906], [-116.9890141, 32.6127356], [-116.9905243, 32.6113648], [-116.9913251, 32.6110759], [-116.9921038, 32.6107802], [-116.9927855, 32.612015], [-116.9950811, 32.6126043], [-116.9959657, 32.6143392], [-116.9961165, 32.6146101], [-116.9962867, 32.6149306], [-116.9964539, 32.6152559], [-116.9966226, 32.6155839], [-116.9963755, 32.6163253], [-116.99599, 32.6172755], [-116.9962991, 32.6201651], [-116.9982125, 32.6210729], [-116.9973779, 32.6229332], [-116.9959124, 32.6249741], [-116.9957538, 32.6248438], [-116.9949123, 32.6244149], [-116.9933955, 32.6243058], [-116.9912249, 32.6242135], [-116.9891813, 32.6235075]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;11&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 14869}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.0671563, 33.1354064, -117.0389398, 33.1572657], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.0532162, 33.1530004], [-117.050816, 33.1518379], [-117.04849, 33.1538153], [-117.0465029, 33.1524511], [-117.0440672, 33.1531322], [-117.0424514, 33.1514349], [-117.0415217, 33.1514492], [-117.0407031, 33.1509111], [-117.0399006, 33.1507137], [-117.0390854, 33.1505863], [-117.0389398, 33.1505635], [-117.0389731, 33.1502548], [-117.038986, 33.150135], [-117.041656, 33.148239], [-117.041519, 33.146378], [-117.0429115, 33.1457409], [-117.043518, 33.142864], [-117.043053, 33.142101], [-117.0428293, 33.1416433], [-117.0426695, 33.1414162], [-117.0428682, 33.1406853], [-117.0431759, 33.1397628], [-117.0433518, 33.1395465], [-117.0441021, 33.1396943], [-117.0449862, 33.1399979], [-117.0459084, 33.1402097], [-117.046661, 33.140377], [-117.0490641, 33.1384773], [-117.0492776, 33.1380025], [-117.0503059, 33.1364473], [-117.0504522, 33.1354064], [-117.0507533, 33.1354103], [-117.0513776, 33.1355609], [-117.0521082, 33.1357112], [-117.052659, 33.1356733], [-117.0538397, 33.1360823], [-117.0541307, 33.1361497], [-117.0547108, 33.1361723], [-117.0573311, 33.137116], [-117.0577894, 33.1369807], [-117.0582867, 33.1368063], [-117.0589905, 33.1371681], [-117.0610359, 33.1372565], [-117.0611936, 33.1372841], [-117.0620369, 33.1377585], [-117.0640205, 33.138048], [-117.0640486, 33.1380485], [-117.0641735, 33.1380689], [-117.0642959, 33.1380847], [-117.0652242, 33.1382255], [-117.0653549, 33.1382409], [-117.0654772, 33.1382554], [-117.0663514, 33.1384318], [-117.0664088, 33.1384974], [-117.0658514, 33.1406177], [-117.0659133, 33.1432396], [-117.0653692, 33.1457042], [-117.0670806, 33.1488952], [-117.0671563, 33.1489859], [-117.0646595, 33.1499936], [-117.06424, 33.150684], [-117.062251, 33.1515981], [-117.061943, 33.153549], [-117.0603864, 33.153302], [-117.058273, 33.155117], [-117.0585611, 33.1565235], [-117.0586811, 33.1572657], [-117.058545, 33.1572108], [-117.057946, 33.155779], [-117.0578219, 33.1556382], [-117.05764, 33.155304], [-117.0564271, 33.1538673], [-117.0563712, 33.1537856], [-117.0537705, 33.1529982], [-117.0532162, 33.1530004]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;12&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 8424}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.1459642, 32.733856, -117.117451, 32.761017], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.143723, 32.748436], [-117.144402, 32.750293], [-117.143761, 32.752163], [-117.1431494, 32.7521669], [-117.1419318, 32.7540344], [-117.141283, 32.7546475], [-117.1408893, 32.7553448], [-117.1400589, 32.7558971], [-117.1388284, 32.7569617], [-117.1382198, 32.7572485], [-117.137604, 32.757252], [-117.1369779, 32.757256], [-117.135768, 32.759129], [-117.135132, 32.759132], [-117.1347579, 32.759133], [-117.133293, 32.761009], [-117.13266, 32.761013], [-117.132042, 32.761017], [-117.1301811, 32.759405], [-117.1295731, 32.7591595], [-117.1295743, 32.7584376], [-117.1283312, 32.75729], [-117.127708, 32.75729], [-117.126457, 32.7559271], [-117.1258639, 32.7559322], [-117.1249587, 32.7553817], [-117.1238364, 32.7534372], [-117.122963, 32.75333], [-117.1216131, 32.7515905], [-117.1211557, 32.7515867], [-117.120502, 32.7515812], [-117.119881, 32.751576], [-117.119263, 32.7515708], [-117.1177581, 32.7497541], [-117.117451, 32.7497521], [-117.118073, 32.7478853], [-117.1187198, 32.7460202], [-117.119713, 32.743835], [-117.120903, 32.741959], [-117.1212495, 32.741961], [-117.12178, 32.741962], [-117.1233973, 32.741024], [-117.1235582, 32.741024], [-117.123917, 32.741024], [-117.123993, 32.741024], [-117.1255646, 32.7392554], [-117.126068, 32.739258], [-117.1266298, 32.7392578], [-117.12822, 32.737442], [-117.1288024, 32.7365648], [-117.1298655, 32.735641], [-117.1299178, 32.7356408], [-117.130386, 32.735638], [-117.131973, 32.733856], [-117.1330693, 32.733859], [-117.133621, 32.733864], [-117.135986, 32.7351572], [-117.1364899, 32.734729], [-117.1364553, 32.7352442], [-117.1380728, 32.7371234], [-117.1378758, 32.7373884], [-117.1376622, 32.7382823], [-117.1390854, 32.7398308], [-117.140083, 32.741005], [-117.141151, 32.74102], [-117.14225, 32.741035], [-117.14225, 32.741196], [-117.142227, 32.743786], [-117.143707, 32.744358], [-117.144951, 32.745716], [-117.1459642, 32.7464249], [-117.1456999, 32.7464304], [-117.145576, 32.746433], [-117.144958, 32.746437], [-117.143723, 32.748436]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;13&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 13612}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.172523, 33.1662145, -117.14286, 33.192539], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.1629057, 33.1879455], [-117.1575924, 33.1871295], [-117.157822, 33.192539], [-117.1572564, 33.1921834], [-117.1560552, 33.1911524], [-117.15126, 33.1905986], [-117.151108, 33.188732], [-117.147919, 33.18446], [-117.1453767, 33.1787808], [-117.14286, 33.177441], [-117.145981, 33.176586], [-117.14679, 33.175404], [-117.1468941, 33.1752475], [-117.15092, 33.1751271], [-117.153702, 33.171589], [-117.152962, 33.16959], [-117.156113, 33.170212], [-117.15847, 33.169579], [-117.1606074, 33.1662145], [-117.1607357, 33.1662158], [-117.1613697, 33.1679794], [-117.161476, 33.1684605], [-117.162643, 33.171467], [-117.1656377, 33.17311], [-117.168442, 33.1759], [-117.1714495, 33.1774515], [-117.172523, 33.179348], [-117.170471, 33.18293], [-117.169868, 33.182938], [-117.16935, 33.182949], [-117.1682985, 33.182966], [-117.168078, 33.1829696], [-117.1661218, 33.1830013], [-117.1637835, 33.1863221], [-117.1635041, 33.1874931], [-117.1632316, 33.1878712], [-117.1629057, 33.1879455]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;14&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 14131}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.1653016, 32.704529, -117.1338341, 32.7308448], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.1416937, 32.7224902], [-117.139381, 32.720432], [-117.1378455, 32.720701], [-117.13723, 32.7209021], [-117.1371063, 32.7208912], [-117.1364097, 32.7199112], [-117.136078, 32.719444], [-117.1343047, 32.7184511], [-117.1338341, 32.7179342], [-117.136047, 32.715824], [-117.1366458, 32.7153113], [-117.1375986, 32.7147763], [-117.1386714, 32.7137263], [-117.1396297, 32.712669], [-117.14025, 32.7121701], [-117.1406494, 32.7115892], [-117.1424467, 32.710491], [-117.1439752, 32.7089433], [-117.1448811, 32.708366], [-117.14669, 32.707306], [-117.1477914, 32.7062672], [-117.1485274, 32.7052314], [-117.149658, 32.704529], [-117.1503625, 32.7057504], [-117.1518808, 32.707329], [-117.1529072, 32.7075457], [-117.1531182, 32.7075448], [-117.1538377, 32.7081], [-117.1546142, 32.7083815], [-117.155548, 32.709396], [-117.1564873, 32.7104372], [-117.157387, 32.7109112], [-117.15831, 32.7115033], [-117.1592358, 32.7125762], [-117.1610613, 32.7136191], [-117.161987, 32.714714], [-117.1629024, 32.7153852], [-117.1632012, 32.7156422], [-117.1638, 32.7163657], [-117.163801, 32.7166841], [-117.1647307, 32.7183466], [-117.1653016, 32.7188179], [-117.1641169, 32.7198898], [-117.1636903, 32.7201801], [-117.162941, 32.7209221], [-117.1611432, 32.722381], [-117.1602502, 32.7231565], [-117.1594093, 32.7234488], [-117.158257, 32.722969], [-117.1574885, 32.72298], [-117.1565739, 32.7229439], [-117.1547092, 32.7257271], [-117.1538961, 32.7270203], [-117.1537863, 32.7279113], [-117.153318, 32.7286622], [-117.1530885, 32.7289705], [-117.1529297, 32.7290673], [-117.1522844, 32.7292783], [-117.1511062, 32.7305316], [-117.1508525, 32.7308165], [-117.1508166, 32.7308448], [-117.1505507, 32.7307437], [-117.1482167, 32.7305064], [-117.1470667, 32.7304506], [-117.1468735, 32.7304527], [-117.1463691, 32.7300897], [-117.1462615, 32.7295823], [-117.1464455, 32.7287567], [-117.1427688, 32.7269674], [-117.1427219, 32.7267559], [-117.1427224, 32.7266428], [-117.1435529, 32.7251369], [-117.1416937, 32.7224902]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;15&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 13598}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.191223, 32.6804873, -117.163619, 32.7042488], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.1762749, 32.7004244], [-117.1750835, 32.7000969], [-117.1729768, 32.7001596], [-117.1716318, 32.6998733], [-117.1697394, 32.6991891], [-117.1687088, 32.6989732], [-117.1675285, 32.6978025], [-117.1669387, 32.6970258], [-117.1663179, 32.6949005], [-117.1662215, 32.6947169], [-117.1656512, 32.6931555], [-117.163619, 32.6888711], [-117.1665482, 32.6849407], [-117.1664259, 32.6845724], [-117.1682048, 32.6830197], [-117.1693708, 32.6820594], [-117.1737372, 32.6829503], [-117.1745835, 32.6822811], [-117.1763926, 32.6812094], [-117.1765412, 32.6810771], [-117.1768851, 32.6807419], [-117.1770158, 32.6805866], [-117.1770994, 32.6804873], [-117.1788277, 32.6805017], [-117.1796259, 32.6805017], [-117.1811015, 32.6823961], [-117.183113, 32.683456], [-117.184486, 32.684204], [-117.185303, 32.684635], [-117.187119, 32.685627], [-117.189598, 32.686733], [-117.190262, 32.687019], [-117.190701, 32.687196], [-117.191223, 32.688652], [-117.1912, 32.688755], [-117.189789, 32.691017], [-117.190468, 32.693916], [-117.188828, 32.696785], [-117.1889897, 32.6977771], [-117.1895655, 32.698886], [-117.1898785, 32.7005785], [-117.1897792, 32.7007432], [-117.1882628, 32.7017778], [-117.1866317, 32.7022758], [-117.1847037, 32.7041594], [-117.1841778, 32.7042488], [-117.1823108, 32.7035068], [-117.1816597, 32.7033071], [-117.180153, 32.702042], [-117.179604, 32.701817], [-117.179039, 32.701576], [-117.177948, 32.701111], [-117.177393, 32.700886], [-117.176849, 32.700657], [-117.1762749, 32.7004244]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;16&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 7924}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.0770866, 32.5672872, -117.049408, 32.5909055], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.0696439, 32.571973], [-117.0704055, 32.5720016], [-117.0711226, 32.5724276], [-117.0715117, 32.5726554], [-117.072594, 32.574039], [-117.073967, 32.574574], [-117.075417, 32.574268], [-117.0766157, 32.575888], [-117.0770866, 32.5764775], [-117.076828, 32.576859], [-117.076263, 32.578716], [-117.075462, 32.580143], [-117.0727614, 32.5824492], [-117.0724322, 32.5837182], [-117.0724295, 32.5838344], [-117.0713462, 32.585316], [-117.0712068, 32.5853276], [-117.068497, 32.585407], [-117.067162, 32.585743], [-117.0654282, 32.5901087], [-117.0623117, 32.5909055], [-117.0619577, 32.5907949], [-117.0614046, 32.5901158], [-117.0590703, 32.5888616], [-117.0583254, 32.5887034], [-117.0575572, 32.5885964], [-117.0570112, 32.5883259], [-117.0569216, 32.5882829], [-117.056396, 32.587021], [-117.054024, 32.58522], [-117.0524015, 32.5837102], [-117.05024, 32.581562], [-117.049408, 32.580875], [-117.05024, 32.57877], [-117.05024, 32.578094], [-117.05024, 32.577412], [-117.05024, 32.576717], [-117.050163, 32.576012], [-117.049858, 32.573635], [-117.052078, 32.5723], [-117.054192, 32.571205], [-117.058037, 32.571163], [-117.059738, 32.569744], [-117.0626856, 32.5672872], [-117.063004, 32.567665], [-117.065304, 32.5689375], [-117.0656991, 32.5691164], [-117.0664968, 32.5694288], [-117.0675848, 32.5701983], [-117.0696439, 32.571973]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;17&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 14659}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.0857686, 32.56123, -117.063004, 32.582657], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.070053, 32.56781], [-117.0711992, 32.5676777], [-117.07386, 32.563732], [-117.075417, 32.561493], [-117.079407, 32.561489], [-117.080101, 32.56123], [-117.081947, 32.563572], [-117.0834632, 32.5638812], [-117.084068, 32.563869], [-117.084663, 32.563869], [-117.085457, 32.563725], [-117.0850044, 32.5657683], [-117.084084, 32.566414], [-117.0841021, 32.571729], [-117.0845714, 32.5728131], [-117.0857686, 32.5764872], [-117.0840869, 32.5793212], [-117.084087, 32.579341], [-117.084088, 32.5795455], [-117.0802877, 32.5803666], [-117.0787212, 32.5813666], [-117.077164, 32.582657], [-117.074959, 32.581867], [-117.071472, 32.580616], [-117.0707282, 32.5798523], [-117.0704164, 32.5793863], [-117.0669916, 32.5776179], [-117.066368, 32.57766], [-117.0673278, 32.575049], [-117.0666767, 32.571865], [-117.0661229, 32.5713561], [-117.0645818, 32.5707234], [-117.0643774, 32.5705834], [-117.0641135, 32.569779], [-117.063744, 32.569183], [-117.0635409, 32.5687653], [-117.0630678, 32.567795], [-117.063004, 32.567665], [-117.0664555, 32.564985], [-117.0667075, 32.5650461], [-117.070053, 32.56781]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;18&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 14874}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.05127, 32.670395, -117.0269565, 32.690625], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.033707, 32.679714], [-117.034866, 32.678608], [-117.0373563, 32.6765722], [-117.0383672, 32.6752082], [-117.0390181, 32.6729971], [-117.0419066, 32.672827], [-117.0432518, 32.6713956], [-117.045151, 32.670532], [-117.04731, 32.670395], [-117.045181, 32.672718], [-117.045227, 32.674595], [-117.04554, 32.675571], [-117.046463, 32.67717], [-117.045937, 32.678288], [-117.047203, 32.681408], [-117.047623, 32.682003], [-117.049454, 32.683056], [-117.049973, 32.683487], [-117.050659, 32.684086], [-117.05127, 32.684631], [-117.0491255, 32.6850687], [-117.0480616, 32.6885235], [-117.0477938, 32.690625], [-117.0467684, 32.6903848], [-117.0439796, 32.6900841], [-117.0424712, 32.6881691], [-117.0391679, 32.6878729], [-117.0373907, 32.6888894], [-117.0372713, 32.6888749], [-117.036629, 32.688797], [-117.033737, 32.689247], [-117.03167, 32.689301], [-117.030777, 32.689144], [-117.027237, 32.684887], [-117.027077, 32.681435], [-117.0269565, 32.679302], [-117.027924, 32.679131], [-117.029793, 32.679726], [-117.0307466, 32.6801419], [-117.033707, 32.679714]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;19&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 13701}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.5757012, 33.3843146, -117.5584705, 33.3988], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.571373, 33.390446], [-117.570999, 33.390583], [-117.568356, 33.3964004], [-117.569328, 33.3988], [-117.5631597, 33.3959348], [-117.563957, 33.391216], [-117.559036, 33.388912], [-117.5584705, 33.3888531], [-117.5588941, 33.3859542], [-117.5609116, 33.3861664], [-117.563265, 33.3870734], [-117.5656333, 33.386652], [-117.5660417, 33.3865638], [-117.5664983, 33.3864553], [-117.5666164, 33.3864269], [-117.5668619, 33.3863715], [-117.5672753, 33.3862783], [-117.5701014, 33.3858369], [-117.570751, 33.3855213], [-117.5720203, 33.3852355], [-117.5744427, 33.3843146], [-117.5757012, 33.3858855], [-117.571373, 33.390446]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;20&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 8554}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-116.993752, 32.647175, -116.9714324, 32.6619007], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-116.982277, 32.658459], [-116.980537, 32.658791], [-116.977222, 32.6592367], [-116.9760016, 32.6600777], [-116.9754132, 32.6604625], [-116.9724014, 32.6615131], [-116.9714433, 32.6619007], [-116.9714324, 32.6617283], [-116.9717145, 32.6616618], [-116.974373, 32.656433], [-116.9740334, 32.6550352], [-116.9739052, 32.6544435], [-116.9731079, 32.6524537], [-116.973534, 32.650215], [-116.973503, 32.64962], [-116.9776569, 32.6479263], [-116.980377, 32.647175], [-116.982224, 32.6501587], [-116.9873397, 32.6487889], [-116.9876928, 32.6482405], [-116.9883331, 32.6477879], [-116.9892438, 32.6473631], [-116.9894024, 32.647307], [-116.9894631, 32.6474594], [-116.991173, 32.651989], [-116.992973, 32.652653], [-116.993752, 32.656864], [-116.993408, 32.657406], [-116.9930707, 32.660363], [-116.9927462, 32.6603743], [-116.989326, 32.658791], [-116.986343, 32.658516], [-116.982277, 32.658459]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;21&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 7621}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.0520855, 32.591583, -117.0279534, 32.613358], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.0373, 32.600224], [-117.038498, 32.598255], [-117.0378028, 32.5957262], [-117.0369623, 32.5948635], [-117.0375909, 32.5941715], [-117.0390461, 32.5927516], [-117.04039, 32.592873], [-117.042587, 32.591763], [-117.042763, 32.591721], [-117.043419, 32.591583], [-117.043922, 32.591915], [-117.04496, 32.592484], [-117.048233, 32.5936557], [-117.05033, 32.5946899], [-117.0504104, 32.5946902], [-117.0508665, 32.5946922], [-117.0509349, 32.5946925], [-117.0504092, 32.5949722], [-117.0498418, 32.5953877], [-117.048987, 32.59616], [-117.0515119, 32.5995428], [-117.0519602, 32.5998888], [-117.0520855, 32.6000416], [-117.0515074, 32.6004552], [-117.0498822, 32.6012014], [-117.0493538, 32.6021697], [-117.0492733, 32.6023526], [-117.048309, 32.605549], [-117.046707, 32.607632], [-117.045967, 32.608784], [-117.045174, 32.609016], [-117.043854, 32.611309], [-117.044273, 32.61256], [-117.044571, 32.613358], [-117.042717, 32.611523], [-117.040329, 32.611095], [-117.038696, 32.611195], [-117.037933, 32.611565], [-117.0346341, 32.6108019], [-117.03141, 32.608555], [-117.030586, 32.608868], [-117.0280017, 32.6083412], [-117.0279534, 32.6082126], [-117.028362, 32.6070712], [-117.029423, 32.6068699], [-117.030997, 32.6066213], [-117.031082, 32.606575], [-117.032263, 32.6045173], [-117.0322573, 32.6043331], [-117.032997, 32.602135], [-117.0337668, 32.6025314], [-117.034988, 32.602966], [-117.0373, 32.600224]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;22&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 7605}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.1291401, 32.7426058, -117.095444, 32.7677041], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.11512, 32.764889], [-117.1146324, 32.7646571], [-117.113083, 32.765484], [-117.111343, 32.7655871], [-117.110939, 32.76453], [-117.109833, 32.7632697], [-117.108856, 32.764961], [-117.108353, 32.765213], [-117.107819, 32.764957], [-117.107307, 32.76495], [-117.1068267, 32.7649461], [-117.106293, 32.764938], [-117.105271, 32.7637483], [-117.104248, 32.763222], [-117.105293, 32.76279], [-117.104782, 32.760834], [-117.104271, 32.76083], [-117.103157, 32.760818], [-117.102386, 32.761108], [-117.101509, 32.761093], [-117.1007951, 32.759488], [-117.1000424, 32.7590965], [-117.0997711, 32.759086], [-117.0996018, 32.759083], [-117.099442, 32.7590812], [-117.0991528, 32.7590779], [-117.099055, 32.7590206], [-117.0990706, 32.7578049], [-117.099078, 32.7571993], [-117.0978474, 32.7559007], [-117.0968743, 32.7563241], [-117.0958888, 32.7560881], [-117.0958005, 32.7560866], [-117.095444, 32.755623], [-117.0959927, 32.7553169], [-117.0965294, 32.75489], [-117.097603, 32.753147], [-117.098164, 32.753155], [-117.0992708, 32.7514205], [-117.0998001, 32.7514246], [-117.1003337, 32.7511268], [-117.1008749, 32.7501077], [-117.1015986, 32.7496196], [-117.1020102, 32.7496223], [-117.1023268, 32.7496242], [-117.10263, 32.749626], [-117.1029934, 32.7496308], [-117.1038892, 32.7477721], [-117.104477, 32.747776], [-117.1051031, 32.7477823], [-117.105713, 32.747784], [-117.1063786, 32.7459345], [-117.106956, 32.74593], [-117.1082259, 32.7453284], [-117.1087075, 32.7455043], [-117.1096626, 32.7457835], [-117.1100886, 32.745956], [-117.1119282, 32.7453243], [-117.1119658, 32.7440991], [-117.1120309, 32.7437814], [-117.1131971, 32.7426058], [-117.1138033, 32.7426123], [-117.115054, 32.7441204], [-117.115646, 32.7441245], [-117.1162555, 32.746001], [-117.116852, 32.7460057], [-117.1175051, 32.7460108], [-117.1180881, 32.7460153], [-117.1187198, 32.7460202], [-117.119327, 32.7465067], [-117.119328, 32.7467378], [-117.120327, 32.7479037], [-117.1214703, 32.7488934], [-117.1219831, 32.7487719], [-117.1220877, 32.7487426], [-117.1222578, 32.7487014], [-117.1228333, 32.7485621], [-117.12276, 32.7503728], [-117.122978, 32.751602], [-117.1238364, 32.7534372], [-117.125229, 32.753357], [-117.1264569, 32.7540748], [-117.1271001, 32.7540731], [-117.1277009, 32.7540716], [-117.1283419, 32.7546977], [-117.1289344, 32.755238], [-117.1291401, 32.7554043], [-117.1286143, 32.7559266], [-117.1283259, 32.7559261], [-117.1281315, 32.7559258], [-117.127086, 32.7572964], [-117.1264798, 32.7577419], [-117.125023, 32.759075], [-117.1245038, 32.7590716], [-117.123962, 32.759068], [-117.1234236, 32.7610016], [-117.122879, 32.760998], [-117.122323, 32.760994], [-117.121773, 32.760994], [-117.1212134, 32.762867], [-117.120628, 32.763348], [-117.1204813, 32.763347], [-117.1204313, 32.7633467], [-117.1200205, 32.7633439], [-117.1188767, 32.7644929], [-117.118317, 32.765434], [-117.1172569, 32.7658907], [-117.1165314, 32.7667549], [-117.1160654, 32.7677041], [-117.115822, 32.767208], [-117.115739, 32.766756], [-117.115738, 32.766624], [-117.115799, 32.765881], [-117.1155916, 32.7653459], [-117.115479, 32.765182], [-117.11512, 32.764889]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;23&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 13740}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-117.116402, 32.7173116, -117.101336, 32.735082], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-117.1126771, 32.7246095], [-117.112083, 32.725307], [-117.110313, 32.727352], [-117.1102735, 32.7292181], [-117.110489, 32.72971], [-117.110283, 32.730637], [-117.1091724, 32.7325088], [-117.10907, 32.733891], [-117.107849, 32.734798], [-117.107162, 32.734856], [-117.105705, 32.735082], [-117.1055752, 32.7349752], [-117.105309, 32.734756], [-117.10508, 32.733677], [-117.104857, 32.733276], [-117.104607, 32.732834], [-117.105496, 32.7321384], [-117.106392, 32.731117], [-117.106918, 32.728668], [-117.105972, 32.727032], [-117.105179, 32.726055], [-117.102284, 32.7266855], [-117.1019013, 32.7270216], [-117.101547, 32.7273114], [-117.101336, 32.727296], [-117.1015401, 32.7267178], [-117.102842, 32.7260003], [-117.1040791, 32.7251033], [-117.104279, 32.722759], [-117.106781, 32.721899], [-117.10804, 32.720341], [-117.109173, 32.7193927], [-117.1093189, 32.7191698], [-117.1106064, 32.7173116], [-117.1105815, 32.7176506], [-117.1124726, 32.71962], [-117.1151, 32.7192634], [-117.115532, 32.719395], [-117.116402, 32.719398], [-117.115334, 32.720051], [-117.114906, 32.720737], [-117.114853, 32.722332], [-117.113724, 32.722565], [-117.1126771, 32.7246095]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;24&quot;, &quot;properties&quot;: {&quot;distance&quot;: 1600, &quot;origin&quot;: 13657}, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});

        
    
    geo_json_29dfb85e64498c44b9082fbfb446b556.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = [&quot;origin&quot;, &quot;distance&quot;];
    let aliases = [&quot;origin&quot;, &quot;distance&quot;];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{&quot;className&quot;: &quot;foliumtooltip&quot;, &quot;sticky&quot;: true});
                     
    
            geo_json_29dfb85e64498c44b9082fbfb446b556.addTo(map_372798e68046b1f90ab707dd4fc22984);
        
</script>
</html>" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe></div></div>
</div>
</div>
<p>If we adopt the “neighborhood unit” perspective, it might be reasonable to put a school at the center of the neihborhood, as it would provide equitable access to all residents. In that case, these are your neighborhoods</p>
</section>
<section id="extensions" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="extensions"><span class="header-section-number">8.2</span> Extensions</h2>
<p>One nice thing about this implementation is that it’s indifferent to the structure of the input network. It could be pedestrian-based (which is the most common), but you could also use <a href="https://github.com/UDST/urbanaccess">urbanaccess</a> to create a multimodel network by combining OSM and GTFS data.</p>
<p>Running the above functions on that multimodal network would give a good sense of “baseline” accessibility in a study region. An interested researcher could then make some changes to the GTFS network, say, by increasing bus frequency along a given corridor, then create another combined network and compare results. Who would benefit from such a change, and what might be the net costs?</p>
<p>And thus, the seeds of <strong>open</strong> and <strong>reproducible</strong> <a href="https://www.tandfonline.com/doi/full/10.1080/01944363.2020.1746688">scenario planning</a> have been sown :)</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./segregation_dynamics.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Spatiotemporal Segregation Dynamics</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->



</body></html>